(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"3hKa":function(e,t,n){"use strict";n.r(t),n.d(t,"Title",(function(){return r})),n.d(t,"_frontmatter",(function(){return b})),n.d(t,"default",(function(){return s}));var o,a=n("wx14"),c=n("zLVn"),i=(n("q1tI"),n("7ljp")),l=n("013z"),r=(n("qKvR"),function(){return Object(i.b)("span",null,"Modernizing runtimes with Liberty ",Object(i.b)("br",null)," ",Object(i.b)("h2",null,"Deploy DB2 container with ORDER database"))}),b={},p=(o="PageDescription",function(e){return console.warn("Component "+o+" was not imported, exported, or provided by MDXProvider as global scope"),Object(i.b)("div",e)}),d={Title:r,_frontmatter:b},u=l.a;function s(e){var t=e.components,n=Object(c.a)(e,["components"]);return Object(i.b)(u,Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)(p,{mdxType:"PageDescription"},Object(i.b)("p",null,"Configure the ORDER database required for the CustomerOrderResource application.")),Object(i.b)("p",null,"This section covers how to deploy a DB2 container to Red Hat OpenShift that has been pre-configured with the ORDER database required for the CustomerOrderResource application."),Object(i.b)("h2",null,"Clone a repository (if you haven’t already…)"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Issue the following command to clone the repository that contains the required files")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"git clone https://github.com/ibm-cloud-architecture/appmod-liberty-toolkit\n")),Object(i.b)("h2",null,"Navigate to the DB2 folder"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"The ",Object(i.b)("inlineCode",{parentName:"li"},"yaml")," files for the ",Object(i.b)("inlineCode",{parentName:"li"},"Deployment")," and ",Object(i.b)("inlineCode",{parentName:"li"},"Service")," are in the ",Object(i.b)("inlineCode",{parentName:"li"},"db2")," folder of the repository")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"cd appmod-liberty-toolkit\n\ncd db2\n")),Object(i.b)("h2",null,"Deploy the DB2 image to OpenShift"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Issue the following commands to create a ",Object(i.b)("inlineCode",{parentName:"li"},"namespace"),", ",Object(i.b)("inlineCode",{parentName:"li"},"service account"),", ",Object(i.b)("inlineCode",{parentName:"li"},"deploymentconfig")," and ",Object(i.b)("inlineCode",{parentName:"li"},"service"),":")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"oc create ns db2\noc project db2\noc create serviceaccount mysvcacct -n db2\noc adm policy add-scc-to-user privileged system:serviceaccount:db2:mysvcacct\noc apply -f db2-dc.yaml\noc apply -f db2-service.yaml\n")),Object(i.b)("p",null,"The DB2 database will take a few minutes to start and will then be accessible in the Cluster at ",Object(i.b)("inlineCode",{parentName:"p"},"db2.db2.svc:50000")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"If you want to expose the database outside of the cluster, use the ",Object(i.b)("inlineCode",{parentName:"li"},"db2-nodeport.yaml")," file")))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-applications-liberty-db-2-mdx-a403943c999c770680ed.js.map