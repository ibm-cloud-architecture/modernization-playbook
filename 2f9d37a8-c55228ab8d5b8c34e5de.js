(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{d7lN:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return r})),a.d(t,"default",(function(){return p}));var i=a("wx14"),n=a("zLVn"),o=(a("q1tI"),a("7ljp")),s=a("013z"),r=(a("qKvR"),{}),l={_frontmatter:r},c=s.a;function p(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(o.b)(c,Object(i.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"One of the best ways to modernize business applications is to refactor them into microservices, allowing each microservice to be then independently enhanced and scaled, providing agility and improved speed of delivery. "),Object(o.b)("p",null,"IBM Mono2Micro is an AI-based semi-automated toolset that uses novel machine learning algorithms and a first-of-its-kind code generation technology to assist you in that refactoring journey to full or partial microservices, all without rewriting the Java application and the business logic within. "),Object(o.b)("p",null,"It analyzes the monolith application in both a static and dynamic fashion, and then provides recommendations for how the monolith can be partitioned into groups of classes that can become potential microservices.\nBased on the partitioning, Mono2Micro also generates the microservices foundation code and APIs which alongside the existing monolith Java classes can be used to implement and deploy running microservices."),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1066px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"54.861111111111114%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABcSAAAXEgFnn9JSAAAB4UlEQVQoz41R2Y7aQBDkGxZsDL7P8X1g7mWz2ig/H4n8T4QmVLobs1HylIdSn1Nd0z2zLQtf39/xejziuN/juNuhq2vsNht8uVywH0c0ZQlntYI5n8MyDMF6ucTKNMUS7pO9zZjw28cHzocDdvT4cjrhcj7jjXCiAezzkDSKEAcBIt9H4LqfZJP9Q+iu1+jbFoftVtA3DTZdJ2hJKVse9IyrPEcWx/+q/FthkWUCblZJgjxN5VE+5Rms8L++zMnlYiHNDPYZxsuLfG8cBjx7HiSGxJ+YCKf4NpuY4TuOqIhoT6yaG3zHRV0UUuccIw1jQij+Y8CSFd+ZmA53m7F8JmurSvb3/HZdKIwd77Ohi/co0gRNOqAv9xhUiTbOEPMPqL4fh/tu6GlQ8CBMaGKpFCpSw5dkQs9PkKgOcdYgSjt4QYw6bVGWZ8Rpg5x73AAh+UnW3iOqWetQCDXtSpd5rmn5ulBKk1ptWa7O8laX1aD9INe27eqkiHSYd1rVo1bbDeVjXZSDzlSjVdH/CsLspxyF98EHCD1PrGfbWBkLOJYJd0W7W5pyDM91EDg2gsCHT32c76oSQ1ujryuEVOejXIlUQEsVS6qvz7wlNfI5NsyrTT22+Ibk6fpXcy74YRnm9981hSz7jY3CMQAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"1 m2m",title:"1 m2m",src:"/modernization-playbook/static/215a27d8fbf89d8d756427f855bc4f3a/e8c66/1-m2m.png",srcSet:["/modernization-playbook/static/215a27d8fbf89d8d756427f855bc4f3a/7fc1e/1-m2m.png 288w","/modernization-playbook/static/215a27d8fbf89d8d756427f855bc4f3a/a5df1/1-m2m.png 576w","/modernization-playbook/static/215a27d8fbf89d8d756427f855bc4f3a/e8c66/1-m2m.png 1066w"],sizes:"(max-width: 1066px) 100vw, 1066px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("h3",null,Object(o.b)("strong",{parentName:"h3"},"1. Business Scenario")),Object(o.b)("p",null,"Your company has a traditional WebSphere Application Server application called ",Object(o.b)("strong",{parentName:"p"},"DefaultApplication"),", a monolith web application provides the following servlet functions:"),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1083px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"47.56944444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABcSAAAXEgFnn9JSAAAB+ElEQVQoz3XRy3KbMBQGYN7/Vbpop51m0eYySeoQ2zFxbQgGxP0iYkPiGGMgRvorTO1Fpl188x8d5oiRJBmmzVXdYAuDMC+ImO36zCIOi2LKaLpkcZKyhD6zJO1RIU4oc/2ABWF0SGI7hznHDZj0ki0Rey6SJEaeZ0hTipRSrFZLbDZvaJoaZVmIeiOILAq8rt9AaYrnpZiNE7iuBy8IEYYRpNubS4xur7iqPvLxWOaDwTX/PX3gijLkymTIF/qMpzTk1Zbyck14+ebwnVAXHq82Lq9ENluf153C55Kmq9AWKg8jH65HYJpP8ERGoSv+7sM0NLy+5gDLgNoAGqtXm8IxO+RAWsUKnqMJf0mnyIXEG2GVKEiDMXI6BRADex+8tk9D/9J970iqcgZl+JWTpwtM5C+Qrz9hMfuB2cN3mOo5UFnglYl9aYDtTLSn7Ovjmu2IYEGyF5cw1HNuaueYP55hpoiNRD2WP2Oh/sTj6Bts/QoBuYVn3sDSLuBbN+IEw0N65jUiZyDcIUsmkNz5PXPmchvqo9aZ3bf27K4lU7k1lV9iLbepN27LXGv5jrRoOnYrjtjr6q5X2yfSi6ciF9ahhq7OXBUre47M6fsF1bGONOwyXTwG+fsQHx3vUtxhW5Pp+663rz4QvWZrTZvSOmS9EYr/IQd/AHJi2QK3plRTAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"7 default app",title:"7 default app",src:"/modernization-playbook/static/df2f189068e419b0e4b7efeec36f322d/17353/7-default-app.png",srcSet:["/modernization-playbook/static/df2f189068e419b0e4b7efeec36f322d/7fc1e/7-default-app.png 288w","/modernization-playbook/static/df2f189068e419b0e4b7efeec36f322d/a5df1/7-default-app.png 576w","/modernization-playbook/static/df2f189068e419b0e4b7efeec36f322d/17353/7-default-app.png 1083w"],sizes:"(max-width: 1083px) 100vw, 1083px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Snoop servlet")),Object(o.b)("p",null,"Use the Snoop servlet to retrieve information about a servlet request. This servlet returns the following information:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Servlet initialization parameters"),Object(o.b)("li",{parentName:"ul"},"Servlet context initialization parameters"),Object(o.b)("li",{parentName:"ul"},"URL invocation request parameters"),Object(o.b)("li",{parentName:"ul"},"Preferred client locale"),Object(o.b)("li",{parentName:"ul"},"Context path"),Object(o.b)("li",{parentName:"ul"},"User principal"),Object(o.b)("li",{parentName:"ul"},"Request headers and their values"),Object(o.b)("li",{parentName:"ul"},"Request parameter names and their values"),Object(o.b)("li",{parentName:"ul"},"HTTPS protocol information"),Object(o.b)("li",{parentName:"ul"},"Servlet request attributes and their values"),Object(o.b)("li",{parentName:"ul"},"HTTP session information"),Object(o.b)("li",{parentName:"ul"},"Session attributes and their values")),Object(o.b)("p",null,"The Snoop servlet includes security configuration so that when WebSphere Security is enabled, clients must supply a user ID and password to initiate the servlet."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"HitCount application")),Object(o.b)("p",null,"Use the HitCount demonstration application to demonstrate how to increment a counter using a variety of methods, including:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"A servlet instance variable"),Object(o.b)("li",{parentName:"ul"},"An HTTP session"),Object(o.b)("li",{parentName:"ul"},"An enterprise bean")),Object(o.b)("p",null,"You can instruct the servlet to execute any of these methods within a transaction that you can commit or roll back. If the transaction is committed, the counter is incremented. If the transaction is rolled back, the counter is not incremented."),Object(o.b)("p",null,"The enterprise bean method uses a container-managed persistence enterprise bean that persists the counter value to an Apache Derby database. This enterprise bean is configured to use the DefaultApp Datasource, which is set to the DefaultDB database."),Object(o.b)("p",null,"When using the enterprise bean method, you can instruct the servlet to look up the enterprise bean, either in the WebSphere global namespace, or in the namespace local to the application."),Object(o.b)("p",null,"As a tech leader, you are leading the effort to use IBM Mono2Micro to transform the monolith application to Microservices."),Object(o.b)("h3",null,Object(o.b)("strong",{parentName:"h3"},"2. Getting Started with Mono2Micro")),Object(o.b)("p",null,"Below is a high-level flow diagram of getting started with Mono2Micro in collecting data on an existing monolith application, and then running the AI analyzer tool to generate two kinds of recommendations as how to partition the application into recommended microservices."),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"999px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"59.72222222222222%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABcSAAAXEgFnn9JSAAAC4ElEQVQoz01SyW7TUBTNBgRJm8bx8Gy/Jk5tx25jJ3GapE060AGKQFBEgQpYsWCUQCAqxIZBDEKAALFhkGgrBEhtf4S/oAvwin/g6XBjKmBx5Ht9zz3vTinTNKFpGhhjCQzdIJgJdKYnsZJVQjWowrEddDpdNJvNJGYYf3iM6WInfzv1v6CqqRhQMujPp5GV01C0PFRFhqFk4RQMcCahMuzBJ2Rye5AZ2Is+aS9Upghd1/8JJmJMQUkvYym4jjOtWzgd3UbIO2AlH9OnHmDpwjPMLD+ExH2YkoXzB+7i6vF7uLRwHw4LRDbXB0VWtlNULmRZQV7OwzJdHG9dwNm5G1juXkXFakMveYjmz2PyyBVMHruJqDOPifGDuHLiEc4t3sHFxYeY6R4RQTWA7/nbKd8ro+wU4bplzB9axNMXj/Huw1u8ef8ac/P70N+XxkDfLmTSuzE5NYVXL55hbX0Nz18+wdj0FC5du4z1j+tidXUNKysrJBg24Y6fRDlow3FcRFELE9MLGO/OwXYDWEMualETQTVC1GijVh8lbgveSITBoosh2ye7IRyPuKWh7RSvHYZO7XE7hKbkIeXzyEl5DOQkSJJMCTZq1RD1aJQei2CTLyuMoIL1Nmxwmr8pFFWlBdIMR2hjwbCLahiAcw5FUWAWSvCDJrzKKHSzmAgw06at9wQKsH06Ib8Og1vEl8E07d/ZGIZBP9UEvQUNcjNpaebQMjqzR8GLNon8qUQn8KKD8dlFzBw+DS8coyLoXnVD7JxecjY9dSHLsqhUKjTcVbG5uSm+fP4k9s/Nimy2X3CTC4sXhM40kcmkRbMRic+fPoqtrS2xsbEhGo3GL0mSSFj/9vewe+jZQRCgXq8nsCxqSVXg0uCrI6PwXBdhGKLdHkOr1Uo4tVotGdVOhd97gjE5MTnJl16Kc7lcAhp0zDQWDxZ4XHK92Cl78eTERNztdmOVYtlsNuGR/YPyf1L+19/AmGcltuAy6gAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"2 m2m flow",title:"2 m2m flow",src:"/modernization-playbook/static/a46ddbf542a6c9c115bf6e17c73d2ec2/7ac05/2-m2m-flow.png",srcSet:["/modernization-playbook/static/a46ddbf542a6c9c115bf6e17c73d2ec2/7fc1e/2-m2m-flow.png 288w","/modernization-playbook/static/a46ddbf542a6c9c115bf6e17c73d2ec2/a5df1/2-m2m-flow.png 576w","/modernization-playbook/static/a46ddbf542a6c9c115bf6e17c73d2ec2/7ac05/2-m2m-flow.png 999w"],sizes:"(max-width: 999px) 100vw, 999px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"The data is collected from static code analysis, capturing data (Class) dependencies, depicted in ","[1]","."),Object(o.b)("li",{parentName:"ul"},"Data is dynamically collected through runtime trace logs as the instrumented monolith application is run through various use case scenarios to exercise as much of the codebase as possible, depicted in ","[2]"," & ","[3]",".  ")),Object(o.b)("p",null,"Based on all three kinds of data, Mono2Micro generates a Natural Seams Partitioning recommendation that aims to partition and group the monolith classes such that there are minimal class containment dependencies and entanglements (i.e. classes calling methods outside their partitions) between the partitions. "),Object(o.b)("p",null,"The ",Object(o.b)("strong",{parentName:"p"},"Data Dependency Analysis")," in ","[1]"," refers to this kind of dependency analysis between the Java classes. In effect, this breaks up the monolith along its natural seams with the least amount of disruption."),Object(o.b)("p",null,"Based on ","[2]"," and ","[3]"," alone, and not taking class containment dependencies and method call entanglements into account, Mono2Micro also generates a Business Logic Partitioning that might present more entanglements and dependencies between partitions, but ultimately provides a more useful partitioning of the monolith divided along functional and business logic capabilities."),Object(o.b)("h4",null,Object(o.b)("strong",{parentName:"h4"},"2.1. How does Mono2Micro work?")),Object(o.b)("p",null,"In this lab, you will use a simple JEE monolith application named ",Object(o.b)("strong",{parentName:"p"},"DefaultApplication"),", and step through the entire Mono2Micro toolset, end to end, starting with the monolith and ending with a deployed and containerized microservices version of the same application. "),Object(o.b)("p",null,"Mono2Micro consists of five components, each of them serves a specific purpose. The component and their uses are listed in the following:"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Bluejay")," - instruments the Java source code of monoliths. The instrumentation captures entry and exit of every Java method in the application. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Flicker")," - A Java program that is used while running test cases that gathers runtime analysis data. Flick is used to align the start and end times of a use case with the timestamps generated from the instrumented code. This allows for Mono2Micro to track the code being executed in the monolith to specific use cases.  "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"AIPL")," - The AI engine of Mono2Micro which uses machine learning and deep learning techniques on the user supplied runtime traces and metadata obtained from Bluejay and Flicker to generate microservice recommendations. AIPL also produces a detailed report for the recommended microservices."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Mono2Micro UI")," - The results obtained from AIPL are stored in user’s local storage. The results can be uploaded to Mono2Micro UI to display them in a graphical visualizer. The UI also allows user to modify the AIPL generated microservice recommendations."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Cardinal")," - The program with deep knowledge of the semantics of the Java programming language. Cardinal uses the recommendations from AIPL. "),Object(o.b)("p",null,"Cardinal performs these important capabilities:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Provides detailed invocation analyses of the recommended microservices"),Object(o.b)("li",{parentName:"ul"},"Generates a significant portion of the code needed to realize the recommended microservices in containers")),Object(o.b)("h4",null,Object(o.b)("strong",{parentName:"h4"},"2.2. Mono2Micro usage flow")),Object(o.b)("p",null,"The illustration below shows how the Mono2Micro components fit into the end-to-end process. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1070px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"56.25%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABcSAAAXEgFnn9JSAAACZklEQVQoz2VT2XLTQBDU//8Bb/wAxVN4C8FUCorYcWLHtqLDumzdp7WrW7vNOMADMFWtkrpao56elVLxcZ4nIbN2EDcLR9zcHsWLzcTjpxexeL8UEhDDJMQ4S9GPsxgI1/uJMBLfD/Mb/wdKRwSoeDdi+5pg8d3CVo9g7jys71R0bY+xn9A1/VUGISW6bkBD/DBM+LeU/nfDvu6kZzkyjzLphqXcm4Y0o0iqB09qe03amidZxaTvR3L58Cx3O1VGYU4D4C8oad2LmI045628sAF9P8MrB+yPEY5xDTe8II4rFMT1g0DJWux1F16QI7t0GKkNa2dwQk1QVkYlvt5r2B0yqdoVvHON5dqH66ZwUgmznmAyATerEHYzMj5BN3w4XoqsaBDSx543GjTDhknvKtqZiYfVGQ+7RG7JlZNUeNqFWK1NPB1rbEMGo2ix0W14dYe8bPG83IJiQB4WyJISuubBtX2cQn7NUIgirVA1jSzIRZqSwPKxUT1YToyWjwjqGgc/QlAUoJ2gb0da0ggxCaRVDdUJYOccKc2vdJ0QnB5Y1Uhb9xAec1gHB65KY2ku4iCD4TP8OOQwA9JxjjwqURectj9T4xbhKUFAec/NQA6pYZ0wVJeLLHMKn1xm6a9RcnIbZwmedIbFvY/PqxjeKcZ2bcC1QozXY9MAt9sv+PDyEZlWQnHtSDhHF/45kB3v/ztXHR8QxTF024JDUXDWIw5LROS8LjkmcmmvPSR2ioGiUGwrELqmk9iV7NK8ZSTpIq7/CFUeVdhvXqGrJgI3oWg4PDNAfE6Rni+oE467d99gP57e9D8BYkc3aSYmFdgAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"3 m2m flow",title:"3 m2m flow",src:"/modernization-playbook/static/c5777b7d55b5f4419cb65e9fc4b4bd33/7541e/3-m2m-flow.png",srcSet:["/modernization-playbook/static/c5777b7d55b5f4419cb65e9fc4b4bd33/7fc1e/3-m2m-flow.png 288w","/modernization-playbook/static/c5777b7d55b5f4419cb65e9fc4b4bd33/a5df1/3-m2m-flow.png 576w","/modernization-playbook/static/c5777b7d55b5f4419cb65e9fc4b4bd33/7541e/3-m2m-flow.png 1070w"],sizes:"(max-width: 1070px) 100vw, 1070px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"At this point, do not get bogged down with the details in the diagram. You will explore these details as you progress through the lab. "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Use Bluejay to instrument the monolith application"),Object(o.b)("li",{parentName:"ul"},"Use Flicker and run test cases to capture runtime execution Trace data in the server logs, based on the instrumented code, updated by Bluejay.  "),Object(o.b)("li",{parentName:"ul"},"Use AIPL to analyze the data and produce recommended microservices based on Natural Seams and/or Business logic. "),Object(o.b)("li",{parentName:"ul"},"Use Mono2Micro UI to visualize the microservices recommendations, and tweak the recommendations as needed to meet your objectives.  "),Object(o.b)("li",{parentName:"ul"},"Use Cardinal to generate the plumbing and service code needed to realize the recommended microservices. ")),Object(o.b)("h3",null,Object(o.b)("strong",{parentName:"h3"},"3. Objective")),Object(o.b)("p",null,"The objectives of this lab are to help you:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Learn how to perform the end-to-end process of using Mono2Micro to analyze a Java EE monolith and to transform it to Microservices"),Object(o.b)("li",{parentName:"ul"},"Learn how to build and run the transformed microservices in containers using Docker and OpenLiberty")),Object(o.b)("h3",null,Object(o.b)("strong",{parentName:"h3"},"4. Prerequisites")),Object(o.b)("p",null,"The following prerequisites must be completed prior to beginning this lab:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"3 GB free storage for the Mono2Micro Docker images and containerized microservices"),Object(o.b)("li",{parentName:"ul"},"Docker 17.06 CE or higher, which supports multi-stage builds"),Object(o.b)("li",{parentName:"ul"},"Git CLI (needed to clone the GitHub repo)"),Object(o.b)("li",{parentName:"ul"},"Java 1.8  "),Object(o.b)("li",{parentName:"ul"},"Maven 3.6.3"),Object(o.b)("li",{parentName:"ul"},"Internet connectivity with access to dockerhub and maven-central"),Object(o.b)("li",{parentName:"ul"},"Understanding of command line for your environment ")),Object(o.b)("h3",null,Object(o.b)("strong",{parentName:"h3"},"5.\tWhat is Already Completed")),Object(o.b)("p",null,"One (1) Linux CentOS version 7 VM has been provided for this lab. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"379px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"113.19444444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAABcSAAAXEgFnn9JSAAAFW0lEQVQ4y32V+3Mb1RXH948qifmhcWyGUGIngTiGiROT5jETUyi/hOkMbTpMYKaUTmh5DYEOJu+QYGJMHooiGesty5LdWDjyQw9jyS9JlrSrlVbWarX69EpOMh1gekffOfcc3fM933vu3l3pk+QnuLIudLlKLr9BPp+jXCqhaRpaudxCRSujVqqUBHRdJ1eusimsqm225tVqlYpeQ9usIh2NHOWbzLcoayozsQWmIzOk5SI6UKnX0Yw6zeFf1fjPqgpmnb97VslWDKJpFWuiSLGi40zIhNMlpPOrFxhfc8PSOuXFKOVEnHI8ipaIbWExTmFulmxqBbkklKoqeUVFFbvIi8IrOaUV0yqbwgrCilZj9tYdPNdv4nZM4LB6cNi83LN4uHfXjcPuZ87pIXn3DlVdb6ml0RC/RnPyCJBeXxUtk5HWNzbw3bjOD+ev4hsLEBz14bf7cApij83HuIj95B0nbrGgCFXNYZpbhFtoVSCZTFJp9rBWq2EYBokfH7AQCjAb8LE4PUVUzJXUIpXMGvLKMspGloZp8PPReKK2WchEMupbiyom5HWTtXKNlLqFda2OUmsejthS2SBT0skKLMub/FSooNfNlrrHpE0uyTTMVhuq1QZrco3FnE5SMYgXasQ2NLKiQEWvs6zorKmGIK6LYnUWVRP9seDGIyN8Ka2vsWhESRkJls0EGZZwTXiZmAphbFZQFYWiQDKzxGxqjun5acZEW0asNhKFBZIiZ6kWZ8kQqMaR5uszeLAz3nDiY4xJvLzz6T84e+5jyuKBXk+nxQmmiaRm8MdCDDvsfHDxGgN/fo/R5D0COPGbDvwiN1B3IcWMWcZFMNTwEhTUU8IbvPo53137N80DS6cz5AsF8sUUqY1lRgMLXLkd5N2PruJM2YQAH0HT08oN1X1IUUHox0Gw4WECN1MNH19c/1IkvI1l9DJ3LINYLV+Ry82hqBmCU3G+uRsS/1/Ckbzf2tGE6W7lhureXyf8/MYgb390mis33uP84FtcvPwuG/lZckoabyDChe/c/PWDwUcK/w9hQAQfCO/Di+c4+dYbXL70Pheu/I3PRs4RXgzhj4T58lsnf/rndY6ceh/3sp3QLwkj+BpjIigUNtwE6x4uDV/jX5+dY2jka0buDzHivM3YhAObz8Gw9T5f3Rjm4y8u4ly2CUIhpC4IGy6ChiCMm3NbWxXKmmg2eaIkqqlevOtORn+0MSZgD1uxT1txxe0Ei6Jw0dM6jOb6x2jmS5FSGJt8mx8K9xjNW1p2rGjFXbUzmrZwa3KY7ydvMhK6yXBgCMv8LdybdpxlG66SDYdibeXZ83dxy3aksx+eZc+Bbo7/4TjHBo7Sf6KfQ7/vY2/PHva9tJcXDu6j70QfR072c+KPx+jt76F7fzf7evey98Aeeg/3cvzVYwIi99hhpNN/Oc0znc9yqO8wr/QfobfnAM8/9zzbn9pG27Y2nvrNNrp276H/UD8v977Mi/teFPHttG1vY7uwO367k+6ubrp37+a5Xb9DOnPmDC/09AiyQwy89jqHD77Ezo4OOjo76OzsZMeOHezf38PJgQEO9vVx6s1T7Hqmg/b2dtp3tvPsrl3sFLbt6afp6upCWl1ZMScnJ835hQVzZmbGfBiJmPF43AxPT5szDx+aC/NzpsvlEvFZEXtgTgSDZjQWM6PR6BPEhL8g8pscklZSCfi9yKomPkZa66pp4g6P+9zMRRMUCzmGhobQqgax+YcEgpNP3n2P0RzZ9DrrmSyS+B6EC/l8WFaUsKLIYXFvw3nhp9PpsCzLIqa0bHNdLrcRzmSy4VKp1PL/F+KNFC4U5PB/AQzsAWZ/4GxqAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"4 vm",title:"4 vm",src:"/modernization-playbook/static/9e05c985df050789904793b407c7451c/3c52a/4-vm.png",srcSet:["/modernization-playbook/static/9e05c985df050789904793b407c7451c/7fc1e/4-vm.png 288w","/modernization-playbook/static/9e05c985df050789904793b407c7451c/3c52a/4-vm.png 379w"],sizes:"(max-width: 379px) 100vw, 379px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Use the link below to reserve your Lab environment:"),Object(o.b)("p",null,Object(o.b)("a",{parentName:"p",href:"https://dte2.us1a.cirrus.ibm.com/my/reservations/create/5fd399855bdac2001e0d42f8"},"https://dte2.us1a.cirrus.ibm.com/my/reservations/create/5fd399855bdac2001e0d42f8")),Object(o.b)("p",null,"The Workstation VM has the following software installed (you can use your own workstation with the same configurations):"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Docker 19.03.13"),Object(o.b)("li",{parentName:"ul"},"Git 2.24.1"),Object(o.b)("li",{parentName:"ul"},"Maven 3.6.3"),Object(o.b)("li",{parentName:"ul"},"Java OpenJDK 1.8.0")),Object(o.b)("p",null,"The login credentials for the Workstation VM are:"),Object(o.b)("p",null,"User ID: ",Object(o.b)("strong",{parentName:"p"},"ibmadmin")),Object(o.b)("p",null,"Password: ",Object(o.b)("strong",{parentName:"p"},"passw0rd"),"          "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Note: You can also use your own workstation as the lab environment with the same configuration listed above. You only need to make three changes highlighted in Appendix C.")),Object(o.b)("h3",null,Object(o.b)("strong",{parentName:"h3"},"6.\tLab Tasks")),Object(o.b)("p",null,"During this lab, you complete the following tasks:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Login to the Workstation VM and Get Started"),Object(o.b)("li",{parentName:"ul"},"Build and run the Transformed Java Microservices Using Docker"),Object(o.b)("li",{parentName:"ul"},"Use Mono2Micro to analyze the Java EE monolith application and recommend microservices partitions"),Object(o.b)("li",{parentName:"ul"},"Generating Initial Microservices Foundation Code")),Object(o.b)("h3",null,Object(o.b)("strong",{parentName:"h3"},"7.\tExecute Lab Tasks")),Object(o.b)("h4",null,Object(o.b)("strong",{parentName:"h4"},"7.1. Log in to the Workstation VM and get started")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_1."),"  If the VM is not already started, start it by clicking the Play button."),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"329px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"93.75%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABcSAAAXEgFnn9JSAAADc0lEQVQ4y42Uy27bRhSG9TheGHCz8DZp7E26NdInaRaxjcCA4Rpwl32DNpui9aVxmqCrAkVgw7ZkRbYsWaSoC2VR4kUUSfEyJIeavzOMXVRoVeRAHw44l1//4ZxhQVJdMvLirHuj0MaHIpU+XFC1PaC6E1F9FNCh5dMhz+Y4oqZDZrKY1+2A9g0vzz0jpAXT9jO114F7XYF8p6MltaB9LCFKYtgjC/7ERRwTjG0TitKEaepQuy0YhoGHUBQZljmEOwlREP9ExGZJZt3zC6aenTFNbrIojlngB8znRBFhaZqyiJAcQmIW8/mUUkY5juPyNSHzgpgV+oZLUy4Y8k2e42DieSBJgiRNQWnGScHFkPAxynNGKbLpFFNOlmU57N6pH6UoyJ0hHY8MqO0W63U78D0XoDEMx8edG8NzbLiux0v3MHQCSFYIMIZ/Brt/DkmGQks1qGEaGE4Spnkxug6BOg4RJtxhJhzSHOGEEAKHiz8IiPzAJ0EqBHXaarchaTZThjYaAwd9L0E6nXUhIom5Y2/yL2czgraXUD6EoTVmmuVgMPKQZCxnHGVweRlOPJ0RFu9vrqDoszRNYHiE9Wwfqh3AcEOM/Qh9/jzg700dTcSh5Q6jKMrLnysotTSqNCW0WwqrlC/RV7vQ+nfo3/WgcfSBhvpNFdVqlfebkiNO/X8Fm1xQbjZZsVTCYDjkzWvmjatzrNEI9Xod19fXny+o3AuWy2UEQZCfpihNIDZ3Oh1cXV19nmBD6VNZbkDmt6NYLELTtNzdg0vLslCr1VCpVNBsNnNEk88VVHjbqLyhO50uE4tvb29R4qWfnp7i5OQkL1WWZaiqmjsVWfTlXMGfDt7RV682sbu7y7a3t7GxsYFvXrzA5uYmtra2sP7yJdbX1/n4JnZ2dvDd3h4cfkXnCn679z1dXXmKtbU19uTJYywtLWFxcRHPnn2Fr58/x8rTL7GwsIAvHj3C8vIyVldXoOv6f/ZjLvjnaTk9ONjH+/e/s+PjY/bDj6/Zz7/ss/2DQ3Z4yDn6lb397V3O4dERe/PmLQvCSEiwLJsy/ssR4UeUFWxnkgXeiE9TTCmBbQ74Sv5lSUKI8SiczNySLI0wL4TTwh+Xul+W7Pi8ZpGLukVKDTvPxdsRx87z2Y3BMcl5zfx7zaU0JpeNT5Q4ZXlMTqoW+QujZm3yaCOO/gAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"5 start vm",title:"5 start vm",src:"/modernization-playbook/static/1372da69356c632ec51169a48a9e377e/74a7e/5-start-vm.png",srcSet:["/modernization-playbook/static/1372da69356c632ec51169a48a9e377e/7fc1e/5-start-vm.png 288w","/modernization-playbook/static/1372da69356c632ec51169a48a9e377e/74a7e/5-start-vm.png 329w"],sizes:"(max-width: 329px) 100vw, 329px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_2."),"\tAfter the VM is started, click the Workstation VM icon to access it. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"308px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"115.625%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAABcSAAAXEgFnn9JSAAAFTUlEQVQ4y4WV+VNTVxTH39/Uqv1FR2f8AZWl6FSpSkWRqiBO3cDWVrugiIqitSpS96VVaaPUYgVki2DYVMJSFg2JIQkByb685CUvn973dBw77Yz3zTfn3Hvu/dzz3p3cIx14cYAR3whhX5hZzywer5dIJEI0GtWl+bKwQVkhLMeRYzFmQjEUJY4/EsMTjhMXYzElocekjP5Mejxd2MZeMjQ8yDOzGa8/iCzHiAhQSADVeAyjLchzr8xMIMox0xSkVHpe+mm3h/CFZe6Nepj0RZFO205jCU6ACiTjYrEsjAyJGKryWpFwGF8wTCAYIhQK4QmE9LFXviCz/hBh4UdjcT0m+d1+LOPPGXH5GJ2VGZgKMzQdoXsyyDNnUPfjiaRISEV9I81PJpMiCVXPNJlMYLVOEAyFkUbHx3jS18ugzc3oTIhRd5BBV4A+u5+RV1HGxCbJVAqtaSb1ruV1U2Iykw4HCbGJlEgkxIQkboedGdck03Yr/pkpvG4H722CnEql3nYTioKkJBS9E4wlmBYnpn1YqyeCzRPF7pPxRxUCQpPeKC6/jCsg8+KViIu+KjJKvYFq0lhSUlH13KNyCqdXwRYGewwmhLVFQBjiQtPix5OAWSGniLvi72Sqvn5/jSXZZAuWxBhWZQw7NmwNt+je+zVPj1Ywduokw1VVDFUdZ6DqKE+PHebJkUN0HyzDVPYDA5WHGPP2M6E+1xkaS3qa6KKTZh4nmzGJp6mimPy0NKpPH6ff+IiO+vt0NTzgYUMttYbrVJ+tZk/pfrbv/QbDtlX81vUT3YLQkXqIxpLMSp8YMNKTNPKEXppPfcX+bVvo6mnRT3HW5yeiyASSM1hmp2nstlB9u4Pjv/9J2497uGM6J9b10J1qR2NJ/UovXbTTnWwXuB5aTpSyu3gLVdcquXf/InfqztDYdJlw1MHUjIMO0zgXbjZz7Jdamo/uwGCqRkupK9WGxvovsKqEki+KqLhczo0b5dTUfMltw0nCEScvnXaa2sxUXfqTims3aTm26/3A1pOlFG3YSOmRr7l17Sjnr1dwpeEKw1Yzjb19nLnRxOZ95yg5WUP78d3/A4z3YBKdrkSbDmys3MGRsgNcbajjbksddR311Pe20Gp+zIO+TgzGVi7cucvVtkaaT5Rg6DyLlpJJbUVjSYOpJ+KjdvJUqF88xppS/tiVh/Hn72mq/JKG8lIahR6Ulwi/hIeVe2gTB2c8/y1/bVvJ3WeXMIsc++hAY0kd063UOw3UT97hvquOP4avc/H2AS4ZDorXLaO65jvOVO8X2sfpM/s4f62My4ZyLtceFJke5lfzVf5y3uXe5O9oLKmwuJDlq1awoSCPdRtyyc3PI2f9apasyGDZJ1mk53zMmk3rWFeYz4biAjJzst/Gli5PZ+XqlWzcXMCazz5l67ZCpLVrc8nKyubTVTmsz8sjY9kyFs5fwNwP5zBvzlxdWZnZrBbxVStzWJ6VxZwPPuSjufPEnLksWriItLQlLJg/n1zBkoq2bqVg0yby8zeyc+cO1uWuIVMsyhLKyMggPTOTgs83U1S4hc2FRezauZ0lS9JIT09nmdg8Oztb2KUsXryY4uJiJKdjUh0YGFDtdrtqsVhUq9WqupxOdWhoULXaXqqWF+PqY5NJFfedOjhgVof/HlHdbrfqFHNcLtdba52Y0H1p9tU0jzpN+jXu9XhwuqbweT00P2zC7nRjs4xzq9agXyqdxjYGhkd0Px6Pi0Kl6NJu7wmLBa/4m0qiDjhEMXKI6ubQ/HA44vD7/Y5AIKCPi8rniMVib+P6fOGLBP4lbZ5m/wG66OyFFR26fQAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"6 select vm",title:"6 select vm",src:"/modernization-playbook/static/c5505181a6f871f25e1eabfd888ce777/002c9/6-select-vm.png",srcSet:["/modernization-playbook/static/c5505181a6f871f25e1eabfd888ce777/7fc1e/6-select-vm.png 288w","/modernization-playbook/static/c5505181a6f871f25e1eabfd888ce777/002c9/6-select-vm.png 308w"],sizes:"(max-width: 308px) 100vw, 308px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_3."),"\tEnter the password as ",Object(o.b)("strong",{parentName:"p"},"passw0rd")," and log in."),Object(o.b)("p",null,"The Workstation Desktop is displayed. You execute all the lab tasks on this VM."),Object(o.b)("h3",null,Object(o.b)("strong",{parentName:"h3"},"Part 1")),Object(o.b)("h4",null,Object(o.b)("strong",{parentName:"h4"},"7.2. Build and run the Transformed Java Microservices Using Docker")),Object(o.b)("p",null,"Before you get started using Mono2Micro to transform a monolith application to Microservices, let’s fast forward to the end results and see the transformed microservices in action. "),Object(o.b)("p",null,"The resources we provide for this lab includes the ",Object(o.b)("strong",{parentName:"p"},"Completed and Transformed")," Microservices as a result of using Mono2Mico. "),Object(o.b)("p",null,"The goal here is to just let you see the transformed Microservices in a working state before you work through the transformation process yourself. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Objectives")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"See the transformed monolith application running as independent microservices on OpenLiberty in separate Docker containers, before you use Mono2Micro to transform the monolith in this lab."),Object(o.b)("li",{parentName:"ul"},"Learn how to build and run the transformed microservices with Docker and OpenLiberty")),Object(o.b)("p",null,"In this part of the lab, you build and deploy the microservices that have already been transformed using Mono2Micro. "),Object(o.b)("p",null,"You leverage new and updated build components that have been created in Mono2Micro refactoring phase in order to build and run the microservices as independent OpenLiberty server runtimes in Docker containers. "),Object(o.b)("p",null,"The basic steps in this part of the lab include: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Clone the GitHub repository that contains the resources required for the lab"),Object(o.b)("li",{parentName:"ul"},"Use Docker to build the two transformed microservices for the application "),Object(o.b)("li",{parentName:"ul"},"Setup a local Docker Network for the local docker containers to communicate"),Object(o.b)("li",{parentName:"ul"},"Start the docker containers and run the microservices based application"),Object(o.b)("li",{parentName:"ul"},"View the microservices logs to see the communication and data flowing between the services as you test the application from a web browser")),Object(o.b)("p",null,"The GitHub repository contains all the source code and files needed to perform all the steps for using Mono2micro to transform the monolith application used in this lab to microservices, including:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"The DefaultApplication Source Code"),Object(o.b)("li",{parentName:"ul"},"The newly constructed dockerfiles to build and run the microservices in containers"),Object(o.b)("li",{parentName:"ul"},"The updated POM files that have been reduced to contain only the resources needed for the individual microservice")),Object(o.b)("p",null,"Structure of the m2m-ws-sample GitHub repository is as follows (details in the README within the GitHub repo):"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Monolith source code: ./defaultapplication/monolith"),Object(o.b)("li",{parentName:"ul"},"Monolith application data: ./defaultapplication/application-data/"),Object(o.b)("li",{parentName:"ul"},"Mono2Micro analysis (initial recommendations): ./defaultapplication/mono2micro-analysis"),Object(o.b)("li",{parentName:"ul"},"Mono2Micro analysis (further customized): ./defaultapplication/mono2micro-analysis-custom"),Object(o.b)("li",{parentName:"ul"},"Deployable Microservices: ./defaultapplication/microservices")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_1."),"\tClone the GitHub repository by openning a Terminal window and running the following commands:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd /home/ibmadmin\n\ngit clone https://github.com/kpostreich/m2m-ws-sample\n\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"860px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"40.27777777777778%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABcSAAAXEgFnn9JSAAABnklEQVQoz22QyW7bMBCG9f7PU6CXHIoiS+ugsRlLtSU71UJZokRtlq1EC4fTIRsEOZTAx3+Gw1lI5xjnS910upQNyKqFQtYfGN9AcSirBswdq58xeXULMU/hxy9PORt3D8fjAfe+j0YPRBxHGBwCDAIf/YNv/aIQWFUSK1mSlv/0HUnUdBYmGTirm2+we1zhbvWog6cnHW63OnY9fVxvdER25P3WuSh0152JTp/7XjdNq8/n3tK0rb4OA8VaLJsLON+/fIXd6ie6Dw/6+e4Ot4b7e2S3t/hnvcbI85AScJom1Frj/5a2AY39MIPj+S8gpcQsz3XCOfI0tQghUBQFnvLcapZlWJYlAgBO82wbGMZxRAVgO/XDAo67C5Y8z4GKKM65omRl7DQ9WaUmihqqJOHWb9tWUWGVC6FoCCVEofr+oqge0ISLs/V8TFOOURwjFbZTxGQbOE+wriv76cP1+v48MJtVTdOa15qpzbq8Lui4+3ATximLkowlJ8FEWbOXkLMkFextUuz6OrHLMLJxBjZOn5jh4+yNmMiW3bT5C6prUTKD8kcWAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"8 git clone",title:"8 git clone",src:"/modernization-playbook/static/ba882f9317dab29d860f936d4a85245c/d7253/8-git-clone.png",srcSet:["/modernization-playbook/static/ba882f9317dab29d860f936d4a85245c/7fc1e/8-git-clone.png 288w","/modernization-playbook/static/ba882f9317dab29d860f936d4a85245c/a5df1/8-git-clone.png 576w","/modernization-playbook/static/ba882f9317dab29d860f936d4a85245c/d7253/8-git-clone.png 860w"],sizes:"(max-width: 860px) 100vw, 860px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_2."),"\tChange to the directory that contains the artifacts needed to build and run the generated microservices in local Docker containers. The artifacts needed to build and run the two microservices, generated by Mono2Micro, are in the /home/ibmadmn/m2m-ws-sample/defaultapplication/microservices/ folder."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd /home/ibmadmin/m2m-ws-sample/defaultapplication/microservices/\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_3.")," Build the resulting microservices in Docker containers"),Object(o.b)("p",null,"Let’s do a basic overview of the two microservices that form the DefaultApplication used in this lab."),Object(o.b)("p",null,"First, notice that there are two services. Mono2Micro places these services into logical partitions. The ",Object(o.b)("strong",{parentName:"p"},"web")," partition is the UI front-end microservice. It includes the HTML, JSPs, and Servlets, all needed to run within the same Web Container, according to JEE specifications. The ",Object(o.b)("strong",{parentName:"p"},"partition0")," partition is the backend service for the IncrementAction service. It contains an EJB and JPA component that is responsible for persisting the data to the embedded Derby database used by the microservice. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"904px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"39.93055555555555%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABcSAAAXEgFnn9JSAAAB4ElEQVQoz2WRS2sUQRRG5xeIBh/zcl5d1dWP6ZnuxJ7OOJMENYiGhGyCLkZDUDEoEkMCKhgTN0EFg7iJiDEuXehGXIi7gBt1IbhxIRgl/pBjdc+IoouPW/feuqe+qkqZpoks5rCGxnCnl7GOTek8j5SSpNeL/65LIkdoH+dE7Sr99hGdZ3VdkYph7oU7BJs71G6/xt/YxlvcRJYLyYbfgD9SlEWeU/1rLLW2uRy91fE7k/6KrudIWSMTBM9+opqjyEwfpufjP/mGPXkRcTCN1IDYWeJOKkpGlmG3oyE/CKwhCmI/DWeMW60dImeclHt+ldrNF4h0H0FzGDO9m+rcI+qLT7GLGRy3iuM4iVzHo2Jl6ITrnB3YICd20Qja5I09nAufMxXcJWWfnMZ//LV7PQ2T2lX94Sfczg1MvVa2jVIqkaUcSjLNuH+dhcEP2t0+CnIvhixwrfmZUW9Wv6F+K087rK9/wZ5do/bgI/V7W/qq8SeIXpQ9dWvx4XOD77jS2GKitsR89J5LjTcIWdbAeKhSwj+9QHv5JYdmVroQUem6/vuXTZnUDD3omS4zjfvMH37FmXCVqu4LaWhgvFkPBfkDHHUFUTGLEMZ/sESyBxaSyFaMRDatAZN2qAiV7un6L/EPEKSeAIVeAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"9 web partition0",title:"9 web partition0",src:"/modernization-playbook/static/6480f30d6f7e823b9776f74f84d41cf5/bbf1d/9-web-partition0.png",srcSet:["/modernization-playbook/static/6480f30d6f7e823b9776f74f84d41cf5/7fc1e/9-web-partition0.png 288w","/modernization-playbook/static/6480f30d6f7e823b9776f74f84d41cf5/a5df1/9-web-partition0.png 576w","/modernization-playbook/static/6480f30d6f7e823b9776f74f84d41cf5/bbf1d/9-web-partition0.png 904w"],sizes:"(max-width: 904px) 100vw, 904px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Web partition (front-end microservice) invokes partition0 (back-end), when the HitCount Service via EJB is executed by the user. "),Object(o.b)("p",null,"What happens is the HitCount Servlet in the ",Object(o.b)("strong",{parentName:"p"},"Web partition")," invokes a Rest Service interface in ",Object(o.b)("strong",{parentName:"p"},"partition0")," through a local HitCount proxy, both generated by Mono2Micro as plumbing code for invoking the RESTful Microservices. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"997px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"34.375%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABcSAAAXEgFnn9JSAAABQ0lEQVQoz3WS204CMRCGeQ1Ueu5Mt9tldwFZQILInYmJ8cYrff/H+B0OGkz04ksnk+br32lHLhDCcEDo13CREaryP7kgpRYpNic4ZEzpAVU495gSRoki6scXVMsdEjOsj9DWCf43xsHI4SkPcDrAag/vHQ7dJwov4ExEooJR/fwBb7U0lGzwMFpDC+YK7QyUvYPyGrGeYWKkdgokYSh5cIqwJoiwxihPOzgfoC4ibQzMhWOtgoZS41MazhlcesyrJ2y6V6h4AyfpjVUS6CKc3I6hlRLZ3xyFbv+Gum0xX8xRNyvUMstSWrjKgELCNr/LLWUcUYSWKljOsPRN9UNqOuROJNs9uO/hmiIJF5KWcXxMDgVtucei2aGtl+eExAnXRGIMqzVKMz3VnCpwpPMqkPQoMPp2hs1mi2FYIcsoSH4IEeELmYvMVpsNI7UAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"10 web partition0 details",title:"10 web partition0 details",src:"/modernization-playbook/static/47b6d6dae987fc76408c9d2d4f8e82eb/dd401/10-web-partition0-details.png",srcSet:["/modernization-playbook/static/47b6d6dae987fc76408c9d2d4f8e82eb/7fc1e/10-web-partition0-details.png 288w","/modernization-playbook/static/47b6d6dae987fc76408c9d2d4f8e82eb/a5df1/10-web-partition0-details.png 576w","/modernization-playbook/static/47b6d6dae987fc76408c9d2d4f8e82eb/dd401/10-web-partition0-details.png 997w"],sizes:"(max-width: 997px) 100vw, 997px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a."),"\tCreate a Docker Network for the two containers to communicate.   "),Object(o.b)("p",null,"You will use Docker to build and run the microservices based application. For the Docker containers to communicate, a local Docker network is required. "),Object(o.b)("p",null,"Tip: Later, when you launch the Docker containers, you will specify the network for the containers to join, as command line options. "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"docker network create defaultappNetwork\n\ndocker network list\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"814px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"23.61111111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABcSAAAXEgFnn9JSAAABIElEQVQY0z1Oa3OCQBDj//8tO36ytKNWigjyEDheByKcIMumJ7XdmUx2dpNMjL3lzPYpID8S5AUJXURFrubzRVBaNhSmBcWZpCApKExyOtgehXFGsdblVUtqmOl6G6ZS3pBJlRj7/Q7O6YQsE3gO3xVs04RlvqMvcqgFBR6yQi5SbHdb1LXEr5gX6vuOHcdGfe2EcXQcHCyLXdd7frmLY96tVrxdvfFxs+Gv9Zrdj08OTZMj12XP97nv+0U785LISqk5CAPUrRKG9W3Bsm0OowjjOOKhEfo+iizDNAwYlUJb15j0vdZcSfkqx+BXw/swcJzEaJ6BaZpCiIyLskRRlKibBlIby0pqQav3Bt7ZR9erxUw0/4f9YdZV55nQ3yfxA3P7dvOzOaQ/AAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"11 docker network list",title:"11 docker network list",src:"/modernization-playbook/static/30bace9aa29994458eb405630f2d5292/cf585/11-docker-network-list.png",srcSet:["/modernization-playbook/static/30bace9aa29994458eb405630f2d5292/7fc1e/11-docker-network-list.png 288w","/modernization-playbook/static/30bace9aa29994458eb405630f2d5292/a5df1/11-docker-network-list.png 576w","/modernization-playbook/static/30bace9aa29994458eb405630f2d5292/cf585/11-docker-network-list.png 814w"],sizes:"(max-width: 814px) 100vw, 814px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Note: When using a Kubernetes based platform like RedHat OpenShift, the service to service communication is automatically handled by the underlying Kubernetes platform. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"b."),"\tBuild the defaultapplication-web (front-end) container."),Object(o.b)("p",null,"This container is the web front end service. It contains the html, jsp, and servlets. "),Object(o.b)("p",null,"The defaultapp-web folder contains the Dockerfile used to build the front-end microservice. "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd /home/ibmadmin/m2m-ws-sample/defaultapplication/microservices/defaultapp-web\n\ndocker build -t defaultapp-web  . | tee web.out\n")),Object(o.b)("p",null,"The dockerfile performs these basic tasks:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Uses the projects pom.xml file to do a Maven build, which produces the deployable EAR. "),Object(o.b)("li",{parentName:"ul"},"Copies the EAR file and OpenLiberty Server configuration file to the appropriate location in the Docker container for the microservice to start once the container is started.")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1031px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"47.91666666666667%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABcSAAAXEgFnn9JSAAABq0lEQVQoz42SaY+bMBCG+f+/qmratEk/7rKNqoUNZzhsMMaYwxlPx07bvbRSRzzMWNjvHCbI8gtUDYdLzWAYNQg5EQpaLqBuO5j0CpuxsG4Aq/nD25gwV4tCbUPQNDVmeY5pmiLnHBljOE0T9n2PQggc1YhaTx4pJSql0JjNr5d5xnVdaL+yapTI+1EGRVlimuU2zwv7dE5sFD/ZumksY9w2bWsZ537d98IOUnpcbIyxzsAB/o1KGxlEcYQtY1YMA1WjKOOK87J4r7XGhWJNlWzbhnTqHy/N+gdxWq4yqKoKq7q2TdPgTAediPMDJXBtO6GP7EWCm+BMgm6GSZrac5JgUZR4oQQdCfGuQ2rXi47jiNSqT/RK6Dl+rjDLM4zi2D7GMZaXygtNVKXDCW3GvKvqTXWvBeu6gizLgW4ayrKEtm2Bbhk0QTOlX8YA7YW/8/+A661lI4Lk9BMf7+4wDkO8RBGmpxM25zN2RYEsOaOZNf6vzSuswWG3D398PdwfPu/D4+5buP+08/745XsYP/wKOetDoeawlxOhPWK8MTjo2zDO91LNDxVXx9+jPPs3paNbWwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"12 docker build",title:"12 docker build",src:"/modernization-playbook/static/32fdc60e1c0e35ef40804f5345b480d2/76078/12-docker-build.png",srcSet:["/modernization-playbook/static/32fdc60e1c0e35ef40804f5345b480d2/7fc1e/12-docker-build.png 288w","/modernization-playbook/static/32fdc60e1c0e35ef40804f5345b480d2/a5df1/12-docker-build.png 576w","/modernization-playbook/static/32fdc60e1c0e35ef40804f5345b480d2/76078/12-docker-build.png 1031w"],sizes:"(max-width: 1031px) 100vw, 1031px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"c."),"\tStart the partition-web (front-end) docker container."),Object(o.b)("p",null,"Notice the command line options that are required for the microservice to run properly. "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"The partition-web container needs to expose port 9095 for the application to be invoked from a web browser. The OpenLiberty sever is configured to use HTTP port 9080 internally. "),Object(o.b)("li",{parentName:"ul"},"The container must be included in the defaultappNetwork that you defined earlier. The back-end microservice will also join this network allowing the services to communicate with one another. ")),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"docker run --name=defaultapp-web --hostname=defaultapp-web --network=defaultappNetwork -d -p 9095:9080 defaultapp-web:latest\n\ndocker ps\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1029px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"14.930555555555555%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAx0lEQVQI1x2O0W6CQBRE+f8f8qWvTU1qq0bTRQRCLfTCsotIhZZ1594Ck0wmc+Zlgqf18XH8CKGiFFRZVHWDc5YjPSicXl4Rrzdo6yvM7Y6cNH5HwHnBn8Nkhr3+gLRd+MyCQ1xAVyRxksgswIv+LqQlktYYaW0jTaXlMu1F9immLCdmpO97eTgnwzCItVa67ibjOErwrjIU+Zec44SJiHVtONxu+Xm14iSKuLv3XIYnvuz3nO12nG7euFSKnZvuAYu990uf8x+OSd8xkO5vKAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"13 docker ps",title:"13 docker ps",src:"/modernization-playbook/static/f68a2245f02a6ff25fab1d312174665e/d51b4/13-docker-ps.png",srcSet:["/modernization-playbook/static/f68a2245f02a6ff25fab1d312174665e/7fc1e/13-docker-ps.png 288w","/modernization-playbook/static/f68a2245f02a6ff25fab1d312174665e/a5df1/13-docker-ps.png 576w","/modernization-playbook/static/f68a2245f02a6ff25fab1d312174665e/d51b4/13-docker-ps.png 1029w"],sizes:"(max-width: 1029px) 100vw, 1029px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Note: The application is exposed on port 9095 and running on port 9080 in the container."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"d."),"\tBuild the defaultapplication-partition0 (back-end) container."),Object(o.b)("p",null,"This container is the back-end service. It contains EJB and JPA components that persists data to the Derby database, when the user executes the HitCount service with the EJB option. "),Object(o.b)("p",null,"Tip: Ensure you are in the /home/ibmadmin/m2m-ws-sample/defaultapplication/microservices/defaultapp-partition0 folder before running the docker build. "),Object(o.b)("p",null,"The default-partition0 folder contains the dockerfile used to build the back-end microservice. "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd /home/ibmadmin/m2m-ws-sample/defaultapplication/microservices/defaultapp-partition0\n\ndocker build -t defaultapp-partition0 . | tee partition0.out\n")),Object(o.b)("p",null,"The dockerfile performs these basic tasks:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Uses the projects pom.xml file to do a Maven build, which produces the deployable EAR. "),Object(o.b)("li",{parentName:"ul"},"Copies the EAR file and OpenLiberty Server configuration file to the appropriate location in the Docker container for the microservice to start once the container is started."),Object(o.b)("li",{parentName:"ul"},"Copies the Derby Database library and database files to the container")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"979px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"36.80555555555556%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABcSAAAXEgFnn9JSAAABcUlEQVQoz21R247aQAzN//9RX/pStYKF3SqAKJQuJDOZXEmYyY0Qj+1Osqh9WUtHZ2zJx8ceb+3/skEoKQgiDIVCqRI0dYdlpR0MXkuNSVpgnOSo6xYtMo5AONon4ANETFHRj56IMyzLK4tQsBCCZSQ5yzOuqoqNMVzX9Yy2bblpmvmt9Y210f/qWmvuu4ZV3oD35yIxdwLBJSQhJIVCUKQUySiivChIG0NZllFRXKnve0JEAmvJPjHnYIkZOSnv4IVRimmW8iTmwIFzOk0chgeP48iugV0jW8fk9vospnUnzqoBvLO7m3PA50swO5uE4zgmKaPZVdd1ZOqa3Ano3t/po3/S/h/4nJRWzuFusaboeODtcsn71YrfNz4npxPLw4HV8cg3d1Oj1MxNmnIbK7aP4VOn2W2w3rcvXx+b5Qr2rz9h+/IKm5c1+C5/+7GAt+8L+O1v4X23n2tHfwfp6Qx908GIDI8RYQSc2bkE98v3v9dTDxYgsmL+AAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"14 docker build partition0",title:"14 docker build partition0",src:"/modernization-playbook/static/06e68c9899faac6637941266b7b33fe8/539c8/14-docker-build-partition0.png",srcSet:["/modernization-playbook/static/06e68c9899faac6637941266b7b33fe8/7fc1e/14-docker-build-partition0.png 288w","/modernization-playbook/static/06e68c9899faac6637941266b7b33fe8/a5df1/14-docker-build-partition0.png 576w","/modernization-playbook/static/06e68c9899faac6637941266b7b33fe8/539c8/14-docker-build-partition0.png 979w"],sizes:"(max-width: 979px) 100vw, 979px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"e."),"\tStart the partition-partition0 (back-end) docker container."),Object(o.b)("p",null,"Notice the command line options that are required for the microservice to run properly. "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"The partition-partition0 container exposes port 9096.This is only necessary if we want to hit the Service interface directly while testing."),Object(o.b)("li",{parentName:"ul"},"The container must be included in the defaultappNetwork that you defined earlier. ")),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"docker run --name=defaultapp-partition0 --hostname=defaultapp-partition0 --network=defaultappNetwork -d -p 9096:9080 defaultapp-partition0:latest\n\ndocker ps\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"991px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"18.75%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABcSAAAXEgFnn9JSAAAA9UlEQVQY0y2P227CMBBE8/8/xBsCiYeqglZFFZeiUCCQmNo4tpMQp2F3ukR9OJrVXmY1yed6R7v9iQ5ZQcezou02pc3LnNZC+vpGRhmqY0/GBpkXpEXv8UGx5wFftaR0SU3bUxOJEq01rLUDPngYY+DKEu5m4EW9dwhCcbngnGVwzz1XDsT2jq7rYGS3riu0bURi7U2OPId/s0IpfK1WWIxG2CyXyPIcVoy+F3N8TCZ4H4+xnE6xms1w3afoHw8454bHPlRIDlnOp7Pi3f44aHrI+FJoVtcbqx/LEodDHVmL5tJ/UrqKm/sv14JE5arphjrUHf8BIZsp3yUxrKQAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"15 docker ps 2",title:"15 docker ps 2",src:"/modernization-playbook/static/e2a1690e236326695a8d3f920f7a203d/fa587/15-docker-ps-2.png",srcSet:["/modernization-playbook/static/e2a1690e236326695a8d3f920f7a203d/7fc1e/15-docker-ps-2.png 288w","/modernization-playbook/static/e2a1690e236326695a8d3f920f7a203d/a5df1/15-docker-ps-2.png 576w","/modernization-playbook/static/e2a1690e236326695a8d3f920f7a203d/fa587/15-docker-ps-2.png 991w"],sizes:"(max-width: 991px) 100vw, 991px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Note: The application is exposed on port 9096 and running on port 9080 in the container"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"f."),"\tInspect Docker’s defaultappNetwork and ensure both microservices are joined in the network"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"docker inspect defaultappNetwork\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"974px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"35.416666666666664%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABcSAAAXEgFnn9JSAAABYUlEQVQoz42QbW/aMBSF+f9/qas6pkqsK2xiY22ohgigQpM4L7ZDcOzce3ZjWu3rrvToyEpyfZ5Mktn3sPj0meY3d/Q8+0Zp8od2Lxvarf+RZSXlpaZcNVRUJpKpmirdUucGuvQUnCfU1v+YDAwiJmy2W7ysVnh+fMTq4SsWX6b4OZthMZ3idDigrCoopaBKhVIoikKyhDEaWmuy1kDbbjlx/UCQ2e/3/LRec9O2bLuOVdNwZQzXAjEzjdfSNT9mGAYOIbD3YRhCwPniZaEfaLxFlSXnpxOOaYrieETx+opGWrRtC21MTDtirTQyMJLOObxPLNV7Xk76QBSCx25/4I0oJ6L56/4ei9tbJPM53rIceZ5H3agp6vl7SglUdY26rmOpRp9loSfZztimKf9OEih5oWwavMlHkSyD9x6iB9GL+cF4Hp8JJM5X5XPXjz8Hru/Z2hbuIhrMV/5/orLrafkXL9UR3oXNh+QAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"16 docker inspect",title:"16 docker inspect",src:"/modernization-playbook/static/12c56c0ff56fd7ef7d4dd11ef7071e10/3df5d/16-docker-inspect.png",srcSet:["/modernization-playbook/static/12c56c0ff56fd7ef7d4dd11ef7071e10/7fc1e/16-docker-inspect.png 288w","/modernization-playbook/static/12c56c0ff56fd7ef7d4dd11ef7071e10/a5df1/16-docker-inspect.png 576w","/modernization-playbook/static/12c56c0ff56fd7ef7d4dd11ef7071e10/3df5d/16-docker-inspect.png 974w"],sizes:"(max-width: 974px) 100vw, 974px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"The microservices are now running on separate OpenLiberty servers in the local Docker environment. "),Object(o.b)("p",null,"In the next section, you will test the microservices application from a web browser."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_4.")," View the OpenLiberty Server logs for the microservices"),Object(o.b)("p",null,"At this point, the microservices should be up and running inside of their respective docker containers. "),Object(o.b)("p",null,"First, you look at the OpenLiberty server logs for both microservices to ensure the server and application started successfully. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a.")," View the server log in the partition-web (front-end) docker container by running the following command to view the OpenLiberty Server log in the defaultapp-web container"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"docker logs defaultapp-web\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1108px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"21.180555555555554%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABcSAAAXEgFnn9JSAAAA6klEQVQY0y2Ny46CQBBF+f//mhgzGZUBRRDssoF+QDcvcWdXTUlmcXJuanEqitP8PYwTxukFsyzH4nDC49cO0/03Jsz157g53e0RKoEVSCzZsm5RaYuNMtj1Hv0wonVziG4VvL13KIQIUsqgGF3XQTfNv+vN5oMxwdgu9M6FaZ7D8nyGcRzDwHAjaNOHiD+S1oqU1sRB4iCZtt3o+NYzQ9eRM4ZtqVeKPO+PnXPEQVqWhV6vlRplKcorKbSxUIoHVOUdHskZikMM1SkB8XsGXZRQZzk0TJvfti0v120PwwSemeYV5mWF1njxB4GtIf0FRHD1AAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"17 docker logs",title:"17 docker logs",src:"/modernization-playbook/static/bc901d7c18044cc9895516248ee98c8d/fc9bd/17-docker-logs.png",srcSet:["/modernization-playbook/static/bc901d7c18044cc9895516248ee98c8d/7fc1e/17-docker-logs.png 288w","/modernization-playbook/static/bc901d7c18044cc9895516248ee98c8d/a5df1/17-docker-logs.png 576w","/modernization-playbook/static/bc901d7c18044cc9895516248ee98c8d/fc9bd/17-docker-logs.png 1108w"],sizes:"(max-width: 1108px) 100vw, 1108px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"You should see messages indicating the DefaultApplication and the defaultServer have been successfully started and is running."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"b.")," View the server log in the partition-partition0 (back-end) docker container by running the following command to view the OpenLiberty Server log in the defualtapp-web container"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"docker logs defaultapp-partition0\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1104px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"22.916666666666668%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABcSAAAXEgFnn9JSAAABG0lEQVQY0z2O2W6DMBRE+f9va9RACAQwmNjsGDssIVGl66mDqj4czZFmHsYblKFbxukcxlQwTteTT0kQEbsmlEcJ8TijLLxRdomoEjWVVUvcJb87ly2JqqOElVSKhsz8JE/rCUIIpCxDlee4nb6QXy7IfB/p+dt5gCIMkftnSLdpuw5SCvR9h3Vd8dp3bNvqfME8P+AN44Cqbizn3PZK2cEY+9g2a9bV6mU9Uj1m54vV82JHra3SbvPp3XYYR6vUZNU0Hem1XYumaayQEoIxlO5NFgQoo+igztwr9/xDVxT/XqcpuqrCpDWMMe7dfOCVQqLgwqaMo0wYWBCiiBPk1xj9XcK0Paa6hf5j+kPJGquZsb9/8NzfeLn8+C+ZTm9utdq73QAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"18 docker logs partition0",title:"18 docker logs partition0",src:"/modernization-playbook/static/e1dbacb944509575614f1c025cfdff33/242c1/18-docker-logs-partition0.png",srcSet:["/modernization-playbook/static/e1dbacb944509575614f1c025cfdff33/7fc1e/18-docker-logs-partition0.png 288w","/modernization-playbook/static/e1dbacb944509575614f1c025cfdff33/a5df1/18-docker-logs-partition0.png 576w","/modernization-playbook/static/e1dbacb944509575614f1c025cfdff33/242c1/18-docker-logs-partition0.png 1104w"],sizes:"(max-width: 1104px) 100vw, 1104px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"You should see messages indicating the DefaultApplication and the defaultServer have been successfully started and is running."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_5.")," Test the microservices from your local Docker environment"),Object(o.b)("p",null,"Once all the containers have started successfully, the DefaultApplication can be opened at http://localhost:9095/"),Object(o.b)("p",null,"In this section, you run the microservices based application, using the variety of options in the application user interface. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a."),"\tLaunch a web browser and go to http://localhost:9095/"),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1004px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"42.36111111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABcSAAAXEgFnn9JSAAABuElEQVQoz13PWZOaQBiFYf7/f0kluchYqXGZRR0HRAQVEGhcWtyAcReaGb4TgqlJJRdPvaf7oqtast3ZB5tMyXY8mswXNHcZmR2ZXE2nuTWmMIwpjN7+E9MiWBFfBDTnAXnMJzaZkV+Q/ImXL7mPcb+LsWPC7MlQGvcYym24hord2wanY4zDPirEpX2xt5ugFG5XWPApgiXHMuCQWi/t/K5yh0a9Tj2tR9ValZ6bz9RqN0lRFZLlDtm2TVm6o+zsFNzS+8Wjjwsrmyd+KTszkg6HVX45r1EgkUa4Fju5bJBet8iSECIpmsbA+wZI3X8lN5TczvnVgfTa+p5rr98w0ipk9StQX75CaX2Bqd32JdYBmgDCAzK/eHhya8b+9K/86kEam0/51H0kZjfIHz+Qof4gz6oXGuSMasRZi7aLLm24XFSh5bRD0bJL8Uotz1uulPu3ZG+SNFAfyNEbsLQavMEjhso9TLUKrV1Bv/MTVr8Kzpo4RQaOkY7duldsHdfdsOwx1Mueip+Iow2JDYyEj3TBTV0sLEPwkSFmA13MjH7ZtTcU0XQkdoEl8oQJSv2yn1L2eS9OrvgFJYpDkh2zOs4AAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"19 defaultapp 9095",title:"19 defaultapp 9095",src:"/modernization-playbook/static/a38ae87d80adebe82971ef43ecc8c7d4/dfa5b/19-defaultapp-9095.png",srcSet:["/modernization-playbook/static/a38ae87d80adebe82971ef43ecc8c7d4/7fc1e/19-defaultapp-9095.png 288w","/modernization-playbook/static/a38ae87d80adebe82971ef43ecc8c7d4/a5df1/19-defaultapp-9095.png 576w","/modernization-playbook/static/a38ae87d80adebe82971ef43ecc8c7d4/dfa5b/19-defaultapp-9095.png 1004w"],sizes:"(max-width: 1004px) 100vw, 1004px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"b."),"\tClick the ",Object(o.b)("strong",{parentName:"p"},"Snoop Servlet")," link to invoke it, which is running in the defaultapp-web (front-end) Microservice"),Object(o.b)("p",null,"The Snoop Servlet requires authentication, as defined in the OpenLiberty server configuration. The credentials to access the Snoop servlet is: "),Object(o.b)("p",null,"Username: ",Object(o.b)("strong",{parentName:"p"},"user1")),Object(o.b)("p",null,"Password: ",Object(o.b)("strong",{parentName:"p"},"change1me")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"837px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"30.90277777777778%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABcSAAAXEgFnn9JSAAAA90lEQVQY04WQ4U6EMBCEef938xJz8YCWUgqlLSC0HHrxcsZxW9TES4w/vszO7LbZbOb9gmVZ4L1HCOGHdV0xTROEEBD1TkV1zGIvhPv5kHqZMT0aJdG2CowzlKxEXuQoyxKcfKQSFaqKgxPfM5zzvUdZ9Kf8hFrWyLquTUXfa3T0qXMGw+AIC2fNjovYpPYrG0eaoSzNkcY8+kw2EgVtpDoNO86Yw4btcsXl+v4Pt1/+7faR3mZaa1qbQSjSdsATV6j1iMG/ws4b3BJ5uWNLPfO8EmfYCHnl5v2G1hJGwxCWfNRed3SGv4lLHA4PYKxI9fH4iEYKfALTI7yaYD5YsgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"20 login credentials",title:"20 login credentials",src:"/modernization-playbook/static/ea11cee8d361c9d59cc4053eb1dfd71c/d4b84/20-login-credentials.png",srcSet:["/modernization-playbook/static/ea11cee8d361c9d59cc4053eb1dfd71c/7fc1e/20-login-credentials.png 288w","/modernization-playbook/static/ea11cee8d361c9d59cc4053eb1dfd71c/a5df1/20-login-credentials.png 576w","/modernization-playbook/static/ea11cee8d361c9d59cc4053eb1dfd71c/d4b84/20-login-credentials.png 837w"],sizes:"(max-width: 837px) 100vw, 837px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"  ",Object(o.b)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"627px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"70.83333333333333%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABcSAAAXEgFnn9JSAAACi0lEQVQ4y3WT23KbMBCGef9XyVWbJtPpTdo0ToyNTzInYw4CGzAIfMDYBoO0FcSTcePJxTe/tKx+7QpJeOqhCqkGRZpJbS+glutTRZ9T08YUe0vqej71luGF4EMtx2tzGtUNszYsByaq7QiKYdN1EoHvOBAGPqQJgVUYQMghJIbj8QBVVcK5LOB8fteyOMHhkMN2u4Es20IcR2y1CmBmuq7w9Nqph9IfkEevTJZ7rN9/ZqNRh7mexkTxdzuX5T4bjV+ZJP1lqioxRem38elU5PTYYPBC48iCTZZgYYDE2rYk0I0eW3gIVPWNV6fC6eS3apr9VoNAaVmtNIiiGWA8gcViCsul3IxpnntwKFIsvPS6tSKLoGkDNp+PG4X9PgRKd8BYBgA5Z39FduE6nlOAHWSHuDGUuaEJCM0ZByaTGSiKDY5DwLajC3GLZcU8HvKzjPhmKd804bTKDVNuSLAQBvO6rgmUZcSqKoa6Tnhyk0guC8incfN9zatat6YXpY22hhKSasuUALuIaVqXn5PaJr0vvCb90GuzG8Ont2mNxgYMhzozjIC3RnhbSQvGn0nBdSNoOvmyQmeJ67Ig/EesWFEkUBQpNHo6JZDn0Q2HQ3RT5X+G3WG3xk6fXwHEHGcA87nY4nkjaA4aYPvR2jVftvwsokqRdSrLM6rrNrWsBTVNj9r2knpeSB1nQcMwpUFAqO8nfBzRqiKNAW2MLtQXQ0e4+y7C/bcBPD4ikCQCs1kFulaCwXU4XMPDwxgGUsrvZwmqUoKm7vjzW/HKNjdV50cSCHc/hvbDI8I/f2m4JyV4NMk4OzxGeyz2Cb5/mODOW9DOR5M91wRvswCfyhQfC8JJGpzinPhkE3X+AcVXB6e41cEBAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"21 snoop",title:"21 snoop",src:"/modernization-playbook/static/fb9b027db8041d42986a249e80748ed9/6a9a0/21-snoop.png",srcSet:["/modernization-playbook/static/fb9b027db8041d42986a249e80748ed9/7fc1e/21-snoop.png 288w","/modernization-playbook/static/fb9b027db8041d42986a249e80748ed9/a5df1/21-snoop.png 576w","/modernization-playbook/static/fb9b027db8041d42986a249e80748ed9/6a9a0/21-snoop.png 627w"],sizes:"(max-width: 627px) 100vw, 627px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    ")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"c."),"\tClick the Browser back button to return to the ",Object(o.b)("strong",{parentName:"p"},"DefaultApplication")," main page."),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"820px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"41.66666666666667%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABcSAAAXEgFnn9JSAAABq0lEQVQoz02R2XLaQBBF9f8/kwc7hUlwHDt2gICMEKsk0AYSEtrYJAw4ORmEy/bDqXv7Tk1Pd43kOC6mZWFMpriuSxiGuLMZQRCQpmlJ8qbvdZKU577v43ketm3jiLtnlXzPwndNxoqMboww9CH9noJlGfiew3qdsN2krLKY1SplLciED8OFaOoTClzXYj6fMXMdpGbzicpNhfufd7TaLWq3NR4ff1Fv/EaWW9TrT+i6xumQcdhqAoPjzuCUT995LUz+7k32awOp2AXiRU9MsqDIIzZrn90mIN+GvBSR0IB9HsMpgr0GL8aF/Qf/9nqZHbZjJLV9RU++ZqxWmQxqyPUvdFtX6L1vIv9KkamADcepaGrBq3XRo3nRT5zE5JKt32MJJqM7bOMBpXVdemN4h9av4dsNksUzy3mLSBA4TSKvTRZ0yjoWPvZl0kAmTwdII6WG1v1Br11lpNzS/XPD4Pk7nUaFTr0ipqxi6w+slgpZ2CERl8+6ibushJ7zM5uoS54NkZaTPouxSmj0iKbCj9QSf6iWeeYO2QVjilj7WPdkvq1sfvIWR/Fp/wFB3EbX9IU9SwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"22 defaultapp back",title:"22 defaultapp back",src:"/modernization-playbook/static/7825adad2e658fb9aa0add24553756d6/827e3/22-defaultapp-back.png",srcSet:["/modernization-playbook/static/7825adad2e658fb9aa0add24553756d6/7fc1e/22-defaultapp-back.png 288w","/modernization-playbook/static/7825adad2e658fb9aa0add24553756d6/a5df1/22-defaultapp-back.png 576w","/modernization-playbook/static/7825adad2e658fb9aa0add24553756d6/827e3/22-defaultapp-back.png 820w"],sizes:"(max-width: 820px) 100vw, 820px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Next, you run the HitCount service. The HitCount service can be run using a variety of options that illustrate different mechanisms of handling application state in JEE applications. "),Object(o.b)("p",null,"You learn a little about the application that pertains to run the microservice based application that now makes distributed REST API calls between services.   "),Object(o.b)("p",null,"When using Mono2Micro for application analysis and microservice recommendations, we chose to separate the WEB UI components into a microservice and place the EJB components that interact with the back-end database into its own microservice. "),Object(o.b)("p",null,"This approach provides separation of the front-end from the back-end as a first pass for adopting a microservices architecture for the DefaultApplication. "),Object(o.b)("p",null,"This was not the only option, and we understand that further refactoring might be necessary. But this is a good first step to illustrate the capabilities of Mono2Micro."),Object(o.b)("p",null,"Here is a brief introduction to the multiple methods of running the HitCount Service. As illustrated below, selecting any of these three (3) options from the application UI, the HitCount service runs using the local Web Container session / state and runs the defaultapp-web (front-end) microservice. "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Servlet instance variable"),Object(o.b)("li",{parentName:"ul"},"Session state (create if necessary)"),Object(o.b)("li",{parentName:"ul"},"Existing session state only")),Object(o.b)("p",null,"Selecting the Enterprise Java Bean (JPA) option from the application, the Web front-end microservice calls out to the back-end microservice. "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Enterprise Java Bean (JPA)")),Object(o.b)("p",null,"It calls the IncrementAction REST service in the defaultapp-container0 container. The REST endpoint invokes an EJB which uses JPA to persist to the Derby database. Using this option also requires a selection for Transaction Type. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"824px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"64.93055555555556%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABcSAAAXEgFnn9JSAAACQUlEQVQ4y42Se1PaQBTF8/2/S6vj1GqLM4olgBoJkbxIQh6QAAkgeQlEsnu6BLCdqbb94zfn7N17b252lxNlc6vqBumpfaIbFrG9ERk4HumbNnGYdzyfuEOfjPwJGQUT4gfTPxhVTKp8breYhSE8a4AwnDJCRFGE8XiMIAgwm82QZRmKYoM8z5EkKdI0RZLutfIsFscJq43AtZtXpSrVYcs8lbt1qki3VBSuqKm1aK97Q/sKT/tqi2psfxnpdJN7dJU6dJ25dL3Toz/ACe3z0lJr0Hvf6QP/CaZcg/RwBvHuFA/8Z2jSBTrtUwitE0y9JopUqVjHPWwSGa9HH8sgKx3cLJTLZSTiORRpunjCIhSx03gmIZ5LyBY9xCyWsPV0eIex28J8/FhpOLrHLBCq+HTYxmqpgFOEWmmKF9CFcyq3z2B2LqDef4GvXWM7f0KZakAxADbWXl/tgw72+rtnOZzauCwN8RuMziU1Hi9hMj+QaphaDcyNOl7YBLsCujb/C87q3JS22YChXFOXqaXdwNLryJcytoyXyWP19X2B9e+GcuNrqfInkBsnVOVPMVGuEbKmmXeH3Glixc4Phf3WEJujvg/nud3SMRoIXIHa/TqyZxWT4T1Sdn5vZ8Oa7ZKPU3zU7NBQ2zqDJ+IPVYLCIWwCwiZgmO/wUfwXnC7fYsx+bcQuIWLPIGDeM1nMbbJ314Zv89X+0PqBbX68cTZlYb0LF4W6lT1rdlqh28lctZMF8wd2voox8rhvrxLDfvkLPwErkbWSKHP+lQAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"23 hit count",title:"23 hit count",src:"/modernization-playbook/static/a5f6e4f9a19f6694d4ed3f3dc88cc476/71d11/23-hit-count.png",srcSet:["/modernization-playbook/static/a5f6e4f9a19f6694d4ed3f3dc88cc476/7fc1e/23-hit-count.png 288w","/modernization-playbook/static/a5f6e4f9a19f6694d4ed3f3dc88cc476/a5df1/23-hit-count.png 576w","/modernization-playbook/static/a5f6e4f9a19f6694d4ed3f3dc88cc476/71d11/23-hit-count.png 824w"],sizes:"(max-width: 824px) 100vw, 824px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"d."),"\tRun the HitCount service, choosing each of the three options below:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Servlet instance variable"),Object(o.b)("li",{parentName:"ul"},"Session state (create if necessary)"),Object(o.b)("li",{parentName:"ul"},"Existing session state only")),Object(o.b)("p",null,"You should see a message in the HTML page indicating the Hit Count value: An ERROR message is displayed in the event of an error. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"612px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"9.722222222222221%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAjElEQVQI1yVNyQ6CMBTk/79IoxEFccEtKoLYUkoBDRo9yTNycKTlMJmZZBYr2PVRiBnOhyHS2MEtWyLY9qC4hyQaIxcdR/sBeGibDDuNjJbMxVUu8H4egUbg92EbS/EpPco1pfGEynRuNAttuhcr4yvlU1sindNeI2MuyYtD7TlVuU/1K6jxTZp20PsDKvWMhHCnW50AAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"24 hit count value",title:"24 hit count value",src:"/modernization-playbook/static/956372e090c029bca737b0c48701c627/29a3b/24-hit-count-value.png",srcSet:["/modernization-playbook/static/956372e090c029bca737b0c48701c627/7fc1e/24-hit-count-value.png 288w","/modernization-playbook/static/956372e090c029bca737b0c48701c627/a5df1/24-hit-count-value.png 576w","/modernization-playbook/static/956372e090c029bca737b0c48701c627/29a3b/24-hit-count-value.png 612w"],sizes:"(max-width: 612px) 100vw, 612px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"TIP: The logging level in the Mono2Micro generated code has been set to ",Object(o.b)("strong",{parentName:"p"},"INFO")," in the source code. "),Object(o.b)("p",null,"This means that logging statements will be generated in the server log file for all inter-partition calls. "),Object(o.b)("p",null,"In the defaultapp-web partition, the logs will show calling the IncrementAction Rest service running in defaultapp-partition0 (back-end) service  "),Object(o.b)("p",null,"In the defaultapp-partition0 (back-end) partition, the logs will show the response being sent back to the caller. "),Object(o.b)("p",null,"Since using any of these options above run ONLY in the defaultapp-web (front-end) container, you will not see anything of significance logged in the server log files. This is expected behavior. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"e.")," Run the HitCount service, choosing the Enterprise Java Bean (JPA) option."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"f."),"\tInvoke the HitCount service multiple times, selecting different options for ",Object(o.b)("strong",{parentName:"p"},"Transaction Type"),"。"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_6."),"\tView the server logs from both microservices."),Object(o.b)("p",null,"In this case, the front-end microservice does call the back-end microservice, and you will see relevant messages in their corresponding log files. "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"docker logs defaultapp-web\n\ndocker logs defaultapp-partition0\n")),Object(o.b)("p",null,"Output from defaultapp-web container "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1027px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"10.069444444444445%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAj0lEQVQI1x2KXwuCMBxF/f6fyRdLCM3pClNS1wRTI/xDix7cvP1aPhzO5XCdy7U2TfuAqBt0/RNlckYeMhQRR8k48oAhPRw3/3sWRBD201YSw/zGML0sCuOscO+n1UmzAkIIqixSSjr5PnHPI77fUei6VMUx3ZKEJOckrce+I20Maa3JrOu2F23IWKvP8v0B5OaP9XU7NB0AAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"25 output web",title:"25 output web",src:"/modernization-playbook/static/421cd93d858e707fd393f6ada6814ecd/eb6bf/25-output-web.png",srcSet:["/modernization-playbook/static/421cd93d858e707fd393f6ada6814ecd/7fc1e/25-output-web.png 288w","/modernization-playbook/static/421cd93d858e707fd393f6ada6814ecd/a5df1/25-output-web.png 576w","/modernization-playbook/static/421cd93d858e707fd393f6ada6814ecd/eb6bf/25-output-web.png 1027w"],sizes:"(max-width: 1027px) 100vw, 1027px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Output from defaultapp-partition0 container"),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1029px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"13.194444444444445%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAtUlEQVQI1y2KyRKCMBBE+f8f0quIVwkmYoEaFqMQoywHS0qcGZOUh1fTPa+DUrVQXTVksoZSaahvd6gsqn1A3RifnXf9YrvST7iZ3mfn9XOExv60GebX+0OBFIKk4JQz5u95t6PC/o4Jo1OSUBZvrYupTPd+4zjZjdtJzkmXBfVdR8M4ACFQsF2FGIchJtHGEnnYev3PG++ixRKbLMeKC6yEwNpy2ad4PRzQSInTNOFn/gIi0g/Vu9chKU/xzwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"26 output partition0",title:"26 output partition0",src:"/modernization-playbook/static/4792fe8f5582f282ac92717fa311103b/d51b4/26-output-partition0.png",srcSet:["/modernization-playbook/static/4792fe8f5582f282ac92717fa311103b/7fc1e/26-output-partition0.png 288w","/modernization-playbook/static/4792fe8f5582f282ac92717fa311103b/a5df1/26-output-partition0.png 576w","/modernization-playbook/static/4792fe8f5582f282ac92717fa311103b/d51b4/26-output-partition0.png 1029w"],sizes:"(max-width: 1029px) 100vw, 1029px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_7."),"\tClose the Web Browser window"),Object(o.b)("p",null,"You have successfully built run the DefaultApplication that was transformed using the IBM Mono2Micro. "),Object(o.b)("p",null,"The converted application has also been deployed locally in Docker containers running OpenLiberty Server, which is ideally suited for Java based microservices and cloud deployments. "),Object(o.b)("p",null,"Now that you have seen the transformed application in action, it is time to use Mono2Micro and perform the steps that produced the transformed microservices. "),Object(o.b)("h3",null,Object(o.b)("strong",{parentName:"h3"},"Part 2")),Object(o.b)("h4",null,Object(o.b)("strong",{parentName:"h4"},"7.3. Use Mono2Micro to analyze the Java EE monolith application and recommend microservices partitions")),Object(o.b)("p",null,"Objectives"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Learn how to use the AI-driven Mono2Micro tools to analyze a Java EE monolith and to recommend the different ways it can be partitioned into microservices"),Object(o.b)("li",{parentName:"ul"},"Learn how to use Mono2Micro tools to further customize the partitioning recommendations ")),Object(o.b)("p",null,"In this part of the lab, you first pull the Mono2Micro tools from Dockerhub, then you :\n1).\tRun Mono2Micro’s Bluejay tool to analyze the Java source code, instrument it, and produce the analysis files that will be used as input to the Mono2Micro’s AI engine.\n2).\tUse Mono2Micro’s Flicker tool to gather time stamps and use case data as you run test cases against the instrumented version of the monolith application.\n3).\tUse Mono2Micro’s Oriole analyzer tool (AIPL) to produce the initial microservices recommendations.\n4).\tUse Mono2Micro’s UI tool to visualize the microservice recommendations and modify the initial recommendations to further customize the microservice recommendations."),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1070px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"56.25%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABcSAAAXEgFnn9JSAAACfUlEQVQoz12S627TQBCF8/5PwE9eAAQUJPhBEVWrJE3TJm6c+BZf4/UlXtuxHd/i3cM6IIEY6WhGq9Xs7DdnkpfdMHDw2CHs5t0zu/n4yqS5zZaf1uz27ZQdU8pcNWEBSVjddazrGesHzi5C/YWxthtY2//VpOkYg4gyK/Ey1fHj6xqrhQpdcrC8lZHnJ1SnGmVeAZyDCTVNh3PdousvuIY4+1Ng0oqOY9meO+7ubZ4ER+7EJy6bBt/HMVd2Htd3Grc1j5d5yX0/5IvHFd9sdjwMKL92+UeTyPQZ0Qlc1eenpEIdZ3D0AK+PCkwzhBsUiMIMadqhFW9nZQ1Zc+CQBLTqUaU5yNZAYLggsorJ7N5gdzMDsppxeW7AXGiYLxzYHoVjFjBIDr3mcI45gmZAUl2g6T5sJwYtepiSgqeHJTTrAO1xi4kmHdjsTsN0ZvHlbANLcbF6drF80kQ+YKWH0PMWa9WEWzSgWS0YS1A2CtK4gCfybqXAJUd4kjEyvLDEDkCjmNMkRxJSKGsVz9MN9jsb9bkHORXY+iFIml75t3WPpuqu9UHTsdkZsIsO3t7BpGkYO4tXq6LhluYiMCn2YkpHIbB1D5Fgpfsl5lsqvl+hrCpQwbRIKwwDQC0LrmAa0hqZtB0nZKyIy9EePKM50iRDckyRxCmoUJTEeNFK/Lz3cfsUwfUiSM86nD3BIPxRiQV+e/iMD+oXeN9fMXGskNliVP9AeFO1+D/Gr4VRJKCbsE0fVdkiCjKE/hFl0aLwAqzf38Gey4heREPLJExTNXHZ4eXpfOXCRwOz32alYQ55rUATnIjY7Ghw1yCIRMPjIUeRnPH9zQP2whlj/ALPWS3XqDMMWQAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"27 m2m flow",title:"27 m2m flow",src:"/modernization-playbook/static/118454486c7debf5f3681c69fa18f94a/7541e/27-m2m-flow.png",srcSet:["/modernization-playbook/static/118454486c7debf5f3681c69fa18f94a/7fc1e/27-m2m-flow.png 288w","/modernization-playbook/static/118454486c7debf5f3681c69fa18f94a/a5df1/27-m2m-flow.png 576w","/modernization-playbook/static/118454486c7debf5f3681c69fa18f94a/7541e/27-m2m-flow.png 1070w"],sizes:"(max-width: 1070px) 100vw, 1070px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_1.")," Pull the Mono2Micro Images from Dockerhub"),Object(o.b)("p",null,"All the four Mono2Micro container images are available from Dockerhub"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"https://hub.docker.com/r/ibmcom/mono2micro-bluejay"},"https://hub.docker.com/r/ibmcom/mono2micro-bluejay")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"https://hub.docker.com/r/ibmcom/mono2micro-aipl"},"https://hub.docker.com/r/ibmcom/mono2micro-aipl")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"https://hub.docker.com/r/ibmcom/mono2micro-ui"},"https://hub.docker.com/r/ibmcom/mono2micro-ui")," "),Object(o.b)("li",{parentName:"ul"},Object(o.b)("a",{parentName:"li",href:"https://hub.docker.com/r/ibmcom/mono2micro-cardinal"},"https://hub.docker.com/r/ibmcom/mono2micro-cardinal"))),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a.")," Download all the Mono2Micro images by issuing the docker pull commands: "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"docker pull ibmcom/mono2micro-bluejay\n\ndocker pull ibmcom/mono2micro-aipl\n\ndocker pull ibmcom/mono2micro-ui\n\ndocker pull ibmcom/mono2micro-cardinal\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"b."),"\tList the docker images. You should see the four images listed"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"docker images | grep ibmcom\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1114px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"12.5%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAp0lEQVQI112O6w6CMAyFef/nw/s2HAiDbYAi3jA9tS7+8iQnbU+b9MvyjaK9tqRMSeudpmPl6CB9UTbkup5aP5CPZ6pdSLvtoUh3nWS3x1vqSG0YqT/P9FxAmS4MO9dw8J7n+cpffedpuvC/jNGcr3LWWv0SsLXHlMcYUpIJIfbKQhUV5DvKuoMQwlYuWUjxejPm+wIhhj21aNoIoUvuwgjnBwghhBAfxX7gFWy3OF0AAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"28 docker images",title:"28 docker images",src:"/modernization-playbook/static/c5a8ef7269888599cbebc1b0535446e7/fe006/28-docker-images.png",srcSet:["/modernization-playbook/static/c5a8ef7269888599cbebc1b0535446e7/7fc1e/28-docker-images.png 288w","/modernization-playbook/static/c5a8ef7269888599cbebc1b0535446e7/a5df1/28-docker-images.png 576w","/modernization-playbook/static/c5a8ef7269888599cbebc1b0535446e7/fe006/28-docker-images.png 1114w"],sizes:"(max-width: 1114px) 100vw, 1114px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_2.")," Use Flicker and Mono2Micro Bluejay"),Object(o.b)("p",null,"For this lab, we have provided the Flicker java program and its required open-source jars in the GitHub repository, that you cloned earlier in the lab. You use Flicker later in the lab, when you run the test case for the application. "),Object(o.b)("p",null,"Prerequisites for using Flicker: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Flicker requires Java 1.8 or higher for execution."),Object(o.b)("li",{parentName:"ul"},"Flicker also requires two open source jars, and are included in the GitHub repository for this lab: "),Object(o.b)("li",{parentName:"ul"},"commons-net-3.6.jar"),Object(o.b)("li",{parentName:"ul"},"json-simple-1.1.jar ")),Object(o.b)("p",null,"The first step in using Mono2Micro is to prepare the monolith’s Java source code for static and dynamic analysis. Mono2Micro Bluejay tool is used to analyze the application source code, instrument it, and produce the analysis in two .json files."),Object(o.b)("p",null,"For the ",Object(o.b)("strong",{parentName:"p"},"DefaultApplication")," used in this lab, the complete set of source code for the monolith application is already available in a single directory structure cloned from GitHub. "),Object(o.b)("p",null,"For this lab, the monolith source files tree can then be found in ",Object(o.b)("strong",{parentName:"p"},"/home/ibmadmin/m2m-ws-sample/defaultapplication/monolith"),"  directory. "),Object(o.b)("p",null,"Let’s begin with the static data collection phase by running Mono2Micro’s Bluejay tool to analyze the Java source code, instrument it, and produce the analysis in two .json files. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a.")," Run the Bluejay analysis using the following commands:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd /home/ibmadmin/m2m-ws-sample\n\ndocker run --rm -it -v /home/ibmadmin/m2m-ws-sample/:/var/application ibmcom/mono2micro-bluejay /var/application/defaultapplication/monolith out\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1039px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"69.79166666666667%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABcSAAAXEgFnn9JSAAACqklEQVQ4y31T25KbMAzl/7+rfehuZzebLCQhEC7mYsDcDSGArUpud/q2mTmRLNtHR5KxXC/a7/dIEXyyQazSlKuYZepyuSnn7Cr3dlfXq6ds52rWcZz+B0tVFKdbFCdwdcOTdfjxU7vvb+B9HAzId9/f4XY4gH/8gMixIT47BqFtG2Q3F7jvQRncoQoD9H0lohBi52JbvheoKAjAvVx0HIb67nk68H2DPEl1kWWIXPM002XOdcm5boXQ0zAiBj32vR66To1dB1UhbItXtaqqCiLGdMY55EUBHNG0LYi6MZZQ1TXkuF83DbR4mazAWFkJqIRQfd+DaHskLISqcYNjZiIuEUIIaPACHjQX6/qvn+fckLSUhOJmr4aqEorWOSlkZgAx3DxfxzEDliRGSdt2Rhmp+VJEyYis7wfo/sXJYkJF8YxXtuXdQ8USBmEU6SAMIUlTo6IfBng+n7CuK2KDZVlgnmd4oKU4rb/weDwU2W6YbOuMzyHNUojiWJM6UklKqDw8aAjkNMG+7/DNT9Hfc1VUcm4UpjTNsjRkZEllgcMxarHECdWJvvyWcNmQME4yZZThlBGGpERCIiWV2HBIOYNxHCDLQ+ibGjZUvmICwnMcCWpFO9KU/SBSDImwd5qxBGjSWZaZ3lAfJyx3mHqomhS6OIKZF7Bg0gUTLji8HXuM7VAKW9JmBT6bslZSSt3hAyVgeRqJ9LbtGo/pbd/Qao2XtMQqnizRDxzgI/yLVdT6WVX7iklaln1ao5xhRCXzPIFE2TMNYFthwbKmScIkJfT4NFac7OT7MP56gel4hOl0gvEFffxMx9dXPeOn2rHUsc6vh5E5V3k/2vL2dpThyZG396P0D58yODpoT9JDP7Gvsk5y2aSFbPJStoVAn0ssk2JDX9V7FuW//wD9RBPGCiYvuAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"29 docker run",title:"29 docker run",src:"/modernization-playbook/static/15732ffb0ab653ad0fd3b0b44b4ddb4f/31c63/29-docker-run.png",srcSet:["/modernization-playbook/static/15732ffb0ab653ad0fd3b0b44b4ddb4f/7fc1e/29-docker-run.png 288w","/modernization-playbook/static/15732ffb0ab653ad0fd3b0b44b4ddb4f/a5df1/29-docker-run.png 576w","/modernization-playbook/static/15732ffb0ab653ad0fd3b0b44b4ddb4f/31c63/29-docker-run.png 1039w"],sizes:"(max-width: 1039px) 100vw, 1039px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Note: The command displays the directory where the output files were generated, as illustrated below."),Object(o.b)("p",null,"In this example: /home/ibmadmin/m2m-ws-sample/defaultapplication/monolith-klu"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"b."),"\tReview the output from Bluejay: "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd /home/ibmadmin/m2m-ws-sample/defaultapplication/monolith-klu\n\nls -al\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"945px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"23.61111111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABcSAAAXEgFnn9JSAAABDElEQVQY0z1Q2XLDIBDL/39cm6e2SW3HB8YHBhtIGkzMqsB0yqA9NIvQ7Ola1OFatkfbTyGhH5fQ8TkMkwxsEIHHLJQJ2j6D8xR2/8rwf9j9kfojXlJmNyfOe0gp4f0OrTWM0di2Lff3u4UQIvNKyQwuCdMGNAvQKYCvwLiBhAV+9uN+KsoSwziStZY6xqjtGNV1Q5vWse7o63LNfJyjqqzozCb6EJo+R0fVDGKKMmYTBV0UfDwecM5RCCE7lUphiVmtK7qOgXOeOcZSPaAXLYr2EmcGrErg5Z+Ih1J4JodldFg3DUWXSG6r2w3fRYGmjQ/LCtEh3t7P2NI6rI3rMBDzknP6yLk9qf0L/gJp2nicWvf5JAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"30 ls al",title:"30 ls al",src:"/modernization-playbook/static/778190635a52692c232a4acaf164957c/005b4/30-ls-al.png",srcSet:["/modernization-playbook/static/778190635a52692c232a4acaf164957c/7fc1e/30-ls-al.png 288w","/modernization-playbook/static/778190635a52692c232a4acaf164957c/a5df1/30-ls-al.png 576w","/modernization-playbook/static/778190635a52692c232a4acaf164957c/005b4/30-ls-al.png 945w"],sizes:"(max-width: 945px) 100vw, 945px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Bluejay creates a mirror copy of the input source directory in its parent directory with a ",Object(o.b)("strong",{parentName:"p"},"-klu")," extension where all the Java files within the entire directory tree will be instrumented to log entry and exit times in each method.  "),Object(o.b)("p",null,"In addition to instrumenting the source, Bluejay creates two .json files in the in the monolith-klu directory: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"refTable.json"),Object(o.b)("li",{parentName:"ul"},"symTable.json")),Object(o.b)("p",null,"These json file capture various details and metadata about each Java class such as:   "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"method signatures"),Object(o.b)("li",{parentName:"ul"},"class variables and types"),Object(o.b)("li",{parentName:"ul"},"class containment dependencies (when one classes uses another class as a instance variable type, or method return/argument type)"),Object(o.b)("li",{parentName:"ul"},"class inheritance"),Object(o.b)("li",{parentName:"ul"},"package dependencies"),Object(o.b)("li",{parentName:"ul"},"source file locations"),Object(o.b)("li",{parentName:"ul"},"etc. ")),Object(o.b)("p",null,"This static analysis therefore gathers a detailed overview of the Java code in the monolith, for use by Mono2Micro’s AI analyzer tool to come up with recommendations on how to partition the monolith application. "),Object(o.b)("p",null,"Furthermore, this information is also used by Mono2Micro’s code generation tool to generate the foundation and plumbing code for implementing each partition as microservices."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"c."),"\tLook at an example of the instrumentation in the monolith code.  "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd /home/ibmadmin/m2m-ws-sample/defaultapplication/monolith-klu/DefaultWebApplication/src/main/java\n\ngedit /home/ibmadmin/m2m-ws-sample/defaultapplication/monolith-klu/DefaultWebApplication/src/main/java/HitCount.java\n")),Object(o.b)("p",null,"As illustrated below, you will find ",Object(o.b)("strong",{parentName:"p"},"System.out.println…")," statements for the entry and exit of each method in the classes. "),Object(o.b)("p",null,"This trace data captures the Thread ID and Timestamp during the test case execution flow, which you will perform later in the lab. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1039px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"60.06944444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABcSAAAXEgFnn9JSAAACSklEQVQoz31Sy47UQAzM/38OBy4ckEBC4oIIQszszGZmZ3by7qTz6lcSu3CyHIGOSnZ32W5X3NHP4/P66/hEycud2n4g1fVUNA3ldU1ZVdFTcqHjOaGfTyc6X1/2uOP5mU7JlQ6nM32Lf2z88vHTZ7x7/+F7VGQ1j10PVdawtQXXK1AxWBNoEt8y4DYA8GJnwSL+LBD6j094W3HUViOFKSBNUr7+unJ77dgfA5uL4aVcmBQztcSrWpk6YvZgtsxs+M26HSuPBGuXOKqGnirTItUl56pE3itUQ4NSVdC9xuQmeL9Vka7//e0d+nmNozATNYNGqRUP04jgZiy0gkgkr4QQAuR+SNb/1lvBIAXdvFChK9zKlNumhVIKdVVjGAaRYDHPM4zYzZ+mCc45uOBhgts7N8ZsHG0K/Exx9JpmVGuFsMw8SzfeS4Kze6IXrMuy2w3OOmwx2yU2vJ3ZraCxtKkOC8fR/XCgLs/QZg8eigI2VzB5DV1k0HkK9XiFzlL0RS4x6Y7Nd6LGdxpBIJa81tBpEUe3LwmpVKF4ybm6luhvHZqL7C85ymuBPMnQZR2Ge4/urNEnHcZkgLtZ+Bfp8lVwdxTqgPo5jaM+qWi4F9zfcjaZ4vbyYPto2Oct27RhK2dOfJ+27DKxhd73Nt+4P3g0q60aUZPF0Ta8XOQ90gfmZcbx6YhUZJ2eTzicD8huGehGWPUqv+mfo96JecWPaDTLqLvRqLafrFtMVtRGqc70vTXD5GTAi3HTamxYjDwL4/xfMQpH/TR//Q3iO5JKEXg16QAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"31 hitcount java",title:"31 hitcount java",src:"/modernization-playbook/static/c29d34124983f69926e222183868297c/31c63/31-hitcount-java.png",srcSet:["/modernization-playbook/static/c29d34124983f69926e222183868297c/7fc1e/31-hitcount-java.png 288w","/modernization-playbook/static/c29d34124983f69926e222183868297c/a5df1/31-hitcount-java.png 576w","/modernization-playbook/static/c29d34124983f69926e222183868297c/31c63/31-hitcount-java.png 1039w"],sizes:"(max-width: 1039px) 100vw, 1039px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"d."),"\tClose the gedit editor window"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"e."),"\tChange the permissions on monolith-klu directory, so that it can be updated by the current user.  "),Object(o.b)("p",null,"Bluejay runs in a Docker container. By default, Docker runs as ",Object(o.b)("strong",{parentName:"p"},"root")," user, and therefore all the files in the instrumented monolith directory are owned by root. "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd /home/ibmadmin/m2m-ws-sample/defaultapplication\n\nsudo chmod -R 777 ./monolith-klu\n")),Object(o.b)("p",null,"When prompted for a password, enter: ",Object(o.b)("strong",{parentName:"p"},"passw0rd"),"   (That is a numeric zero in passw0rd)"),Object(o.b)("p",null,"The next step is to run test cases against the instrumented monolith application to capture runtime data for analysis. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_3.")," Run test cases using the instrumented monolith for Runtime data analysis"),Object(o.b)("p",null,"Now you are ready to proceed to the next phase of data collection from the monolith application. This is a crucial phase where both the quantity and quality of the data gathered will impact the quality and usefulness of the partitioning recommendations from Mono2Micro’s AI analyzer tool. "),Object(o.b)("p",null,"The key concept here is to run as much user scenarios as possible in the running instrumented monolith application, exercising as much of the codebase as possible.  "),Object(o.b)("p",null,"These user scenarios (or business use cases if you will), should be typical user threads through the application, related to various functionality that the application provides. More akin to functional verification testcases or larger green thread testcases, and less so unit testcases."),Object(o.b)("p",null,"In the DefaultApplication’s case, these scenarios are very simple, which is partially why we selected this application for the lab. For real applications, your test cases could be quite extensive in order to achieve maximum code coverage in the tests.  "),Object(o.b)("p",null,"Test cases for DefaultApplication:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Run the Snoop action"),Object(o.b)("li",{parentName:"ul"},"Run the HitCount action")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_4.")," Deploy the instrumented application to Liberty for testing"),Object(o.b)("p",null,"The test cases (use cases) that you will run must be executed on the instrumented code base, which is in the ",Object(o.b)("strong",{parentName:"p"},"monolith-klu")," directory. "),Object(o.b)("p",null,"As such, the instrumented code needs to be compiled, new deployment binaries generated, and redeployed to the local Liberty server that you will use to run the test cases. "),Object(o.b)("p",null,"The DefaultApplication is a Maven based project. The instrumented application can easily be rebuilt using Maven CLI. Maven version 3.6.3 has been verified to work in this lab. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a."),"\tBuild and package the instrumented version of the DefaultApplication  "),Object(o.b)("p",null,"The top-level pom.xml that is used to build and package the application is in the ",Object(o.b)("strong",{parentName:"p"},"monolith-klu")," folder. You will change to that directory and run the Maven build. "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd /home/ibmadmin/m2m-ws-sample/defaultapplication/monolith-klu\n\nmvn clean install\n")),Object(o.b)("p",null,"Maven should have successfully built the application and generated the binary artifacts (EAR, WAR), and placed them in the Liberty Server ",Object(o.b)("strong",{parentName:"p"},"apps")," folder.  Now the application is ready to run test cases.   "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"995px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"37.5%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABcSAAAXEgFnn9JSAAABbUlEQVQoz32R226kMBBE+f+PW+1DxBDu2IABczMMMIRpVxo0GyVStJaO3HZbpSq3k6uGslK8yCjIQkpLSQnXkRDkehF5QUJ+mFKYV+QrTV5Rk182FDG1HqkbZmpaQ6ruyAnDEHEUQwiJJEnhvwdwXRee944sy6BUibJkeC/yHE1VQZXFVUshrp5Siu8UcinhKH6QZJktlLJt19nRGDuMo+2Z4VUPX7WxZp7t9OJ8b8x0MXJvWRbrSHYoo9BGtxtUmiKPIoggQBHH1/mkZicn8c2FaVs8iWCtxW/LCd5cjiZtpzuYccQ4DLjPM7Z1xWPbmBX79oFpayHXP9BFyvEr3JflEjiFv+PE/l+k6ZutqxBL32NmB9OJ1hemaRiNoSnR1AHaMgfHw2PffxfUbQ2tle17jYo/eOg6zMZgOmHHj9PpujAb9uWBnYWO4wBx7H+CPyILmYOxVd2guKapwIPBwkLz/X791/F8fuP4r+An9yBcc25abc8AAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"32 mvn install",title:"32 mvn install",src:"/modernization-playbook/static/508794e9c2e35f17f03ea607fdd34c18/80538/32-mvn-install.png",srcSet:["/modernization-playbook/static/508794e9c2e35f17f03ea607fdd34c18/7fc1e/32-mvn-install.png 288w","/modernization-playbook/static/508794e9c2e35f17f03ea607fdd34c18/a5df1/32-mvn-install.png 576w","/modernization-playbook/static/508794e9c2e35f17f03ea607fdd34c18/80538/32-mvn-install.png 995w"],sizes:"(max-width: 995px) 100vw, 995px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"b."),"\tRun the scripts below to Start the Liberty server and check that the server is in the running state"),Object(o.b)("p",null,"As a convenience, we have provided simple scripts for you to use to start and stop the Liberty server, as well as check the status of the server. "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"/home/ibmadmin/m2m-ws-sample/defaultapplication/scripts/startServer.sh\n\n/home/ibmadmin/m2m-ws-sample/defaultapplication/scripts/serverStatus.sh\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1033px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"8.333333333333332%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAhUlEQVQI103Iyw6CMBCFYd7/lYw7QVE3JCoqtihasNwEKjGRHseJbFz8+c6MI8MI8f6Ey0FAbI+sxJm3kgmS+IpbVkBx97xGqitkrC6b352zunygqNvRqoUTuB4FM482c591aeevKFyuaTGZkooEmf5FnXlyPTWdofcAsvjQYMes/dv8/wIOuJO2qXGzdgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"33 server running",title:"33 server running",src:"/modernization-playbook/static/6bae4086b0ef8ee2c46f8203b22a2ce3/d1f15/33-server-running.png",srcSet:["/modernization-playbook/static/6bae4086b0ef8ee2c46f8203b22a2ce3/7fc1e/33-server-running.png 288w","/modernization-playbook/static/6bae4086b0ef8ee2c46f8203b22a2ce3/a5df1/33-server-running.png 576w","/modernization-playbook/static/6bae4086b0ef8ee2c46f8203b22a2ce3/d1f15/33-server-running.png 1033w"],sizes:"(max-width: 1033px) 100vw, 1033px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Tip: The Liberty server is in the folder: ",Object(o.b)("strong",{parentName:"p"},"/home/ibmadmin/m2m-ws-sample/defaultapplication/monolith-klu/DefaultApplication-ear/target/liberty/wlp/usr/servers/DefaultApplicationServer"),"."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"c."),"\tOpen a Web Browser and launch the ",Object(o.b)("strong",{parentName:"p"},"DefaultApplication")," URL: http://localhost:9080"),Object(o.b)("p",null,"The main HTML page will be displayed. "),Object(o.b)("p",null,"Notice the application only has two main features: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Snoop"),Object(o.b)("li",{parentName:"ul"},"Hit Count")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"725px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"47.56944444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABcSAAAXEgFnn9JSAAACB0lEQVQoz3WRW2/aQBCF/f9/R6WqUtWHPkVJm4QUciEECDZ4d702vmAuCZjLGjDE3tMxViJVbR8+ndmd3bM7M0a7Z+ftHss7BHOCvM+93BZe7gXxCdeveI9LlcNRLtyQNCIN6J5/dLwQz4Nhz5i/zOC7EtPpGIvFAuPxGHE8oniO3XaL/X6HbaqgVIo03Z5IkiWdm2A2myGMIjhSFn4QgsvAMnrdJni3paW0tWm2tWV1tHRsbQ96mjNTx6OhThYzrVax3iS+3iwDItTpKtKKVK0oXo+K3WZEnyLD+m0Dtw932uYMrXYLj60mnntdDOw+bOLp6RHrzRrQUyBjwMGpyASpqDQTBY4S6ZJbxm4lkCZC79YS+42ESjglBClDplwAZHSMoPcu4RDyL4q9LJC52CTCMpr1r2hcf9HcPMfV+Sfc/PyMbvM7mo1vGHTPgLfSSJzMkMkPKvNyr8SlH3pQSzKM/QYCeaN95wbMuoC0LzEUNTB6wOPX4OYPxMNbBJSP3Do8doVJcE/cndah/IWJf19MwweMw65lOF0y6tS0ZzXA2jXwTg395iWe7y4gKBeIOtTcxJviOCqGg7LxlnLkW07KTtB+kW8FVnNmGa+uiVfX0vOhVSpmjokpN/Eiq7WaMCyjPrIlp166ZXl/lF7xXrJjGeV0qA8aB9J/UOycj379HxrKoRrKb+on2eK5ba68AAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"34 defaultapp 9080",title:"34 defaultapp 9080",src:"/modernization-playbook/static/d6d9799edb7beab1d12d94d4634d4924/f79d7/34-defaultapp-9080.png",srcSet:["/modernization-playbook/static/d6d9799edb7beab1d12d94d4634d4924/7fc1e/34-defaultapp-9080.png 288w","/modernization-playbook/static/d6d9799edb7beab1d12d94d4634d4924/a5df1/34-defaultapp-9080.png 576w","/modernization-playbook/static/d6d9799edb7beab1d12d94d4634d4924/f79d7/34-defaultapp-9080.png 725w"],sizes:"(max-width: 725px) 100vw, 725px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_5.")," Run the test cases for the DefaultApplication"),Object(o.b)("p",null,"Since this is a simple application, you will run the test cases manually using the applications web UI. There are only two use cases for this simple application.: Snoop and Hit Count. "),Object(o.b)("p",null,"As these use cases are run on the instrumented monolith application, you will use Mono2Micro’s Flicker tool to record use case labels and the start and stop times of when that use case or scenario was run.  "),Object(o.b)("p",null,"The Flicker tool essentially acts like a stopwatch to record use cases. "),Object(o.b)("p",null,"The labels provided to Flicker for each use case should be meaningful as this will come into play later when viewing Mono2Micro’s AI analysis where the classes and flow within the code is associated with the use case labels. "),Object(o.b)("p",null,"Flicker is a simple Java based tool that prompts the user for the use case label, and then records the start time. Then prompts again for the ",Object(o.b)("strong",{parentName:"p"},"stop")," command after the user finishes running that scenario on the monolith."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_5.1."),"\tFirst, start the Flicker tool, using the command below in a new Terminal window:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd /home/ibmadmin/m2m-ws-sample/Flicker\n\njava -cp commons-net-3.6.jar:json-simple-1.1.jar:. Flicker -no_ntp\n")),Object(o.b)("p",null,"Notice that Flicker is just waiting for you to provide a ",Object(o.b)("strong",{parentName:"p"},"Label")," or name of the test case to run. You will do that in the next step.  "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1033px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"17.36111111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAnUlEQVQI11WK2wqDMBBE/f/PKy0IxpirifHBB4VcrLM18akLhznDbNcP4quNhdIPUmkYO2MJK/yyYpIKfJIQUkPcGxcSdnZtdz5gdkvD+Yfu9e4vxgZijJFSivjESQhBSisyxjSv6b1vaa2lcRzbbwiBtm2j4zho33eKMVL36dkFXLWglIKcC1LKqD2mdPtD9RjTvefWy3miHhH98QMCseEGjxcaqAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"35 flicker lable",title:"35 flicker lable",src:"/modernization-playbook/static/cb9fafeb30535d253ff1651382d69517/d1f15/35-flicker-lable.png",srcSet:["/modernization-playbook/static/cb9fafeb30535d253ff1651382d69517/7fc1e/35-flicker-lable.png 288w","/modernization-playbook/static/cb9fafeb30535d253ff1651382d69517/a5df1/35-flicker-lable.png 576w","/modernization-playbook/static/cb9fafeb30535d253ff1651382d69517/d1f15/35-flicker-lable.png 1033w"],sizes:"(max-width: 1033px) 100vw, 1033px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_5.2."),"\tRun the ",Object(o.b)("strong",{parentName:"p"},"Snoop")," test case. Follow the steps below to run the Snoop test case."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a.")," In the web browser, go to http://localhost:9080/"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"b."),"\tFrom Flicker, provide the label named ",Object(o.b)("strong",{parentName:"p"},"snoop")," and press ",Object(o.b)("strong",{parentName:"p"},"ENTER"),". This starts Flicker’s stopwatch for the snoop test case. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1025px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"21.180555555555554%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABcSAAAXEgFnn9JSAAAA2klEQVQY002K226EMBBD+f+vqvoHfapUWEIgFwJkl0tgIYRxA+WhIx3ZYztJ8zJUQlJ5wytBQmoyTUu1aangFeWME+MlFeWfF1LFvot9Q7o2pLQ5okdR6TX5TvPjJ0uRPR4oOEfOGFhRoBICUsrLn1obc6lU6tqeOxMzay2GYSDnJrS235Kvj09qOMPynjG7EW4aMc9THL0wDj3cnZ16/svi4P2K3W8ACP8vHPBJmmmvTR9qOwfdTkFFzHMJunOR6GNe35xZE7vXtIfn6IMdtouuX3c7bofq3ssva04rVaMbkPEAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"36 flicker snoop",title:"36 flicker snoop",src:"/modernization-playbook/static/1555d55285c9519523cf6fb48d2bfef0/81b7c/36-flicker-snoop.png",srcSet:["/modernization-playbook/static/1555d55285c9519523cf6fb48d2bfef0/7fc1e/36-flicker-snoop.png 288w","/modernization-playbook/static/1555d55285c9519523cf6fb48d2bfef0/a5df1/36-flicker-snoop.png 576w","/modernization-playbook/static/1555d55285c9519523cf6fb48d2bfef0/81b7c/36-flicker-snoop.png 1025w"],sizes:"(max-width: 1025px) 100vw, 1025px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"c."),"\tFrom the Web Browser, click on the ",Object(o.b)("strong",{parentName:"p"},"Snoop Servlet")," link in the DefaultApplication HTML page. Snoop requires basic authentication. If prompted for credentials, enter the following username and password:"),Object(o.b)("p",null,"Username: ",Object(o.b)("strong",{parentName:"p"},"user1")),Object(o.b)("p",null,"Password: ",Object(o.b)("strong",{parentName:"p"},"change1me"),"   (that is the number 1 in the password).  "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"775px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"39.93055555555555%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABcSAAAXEgFnn9JSAAAB2ElEQVQozz3R23LaMBAGYL//K/S+nXSmM4RwSEOoscMpQ6ApBmNLNtg0xBxCOBhwAEl/F0p78c3uakejlaTd6/ohk8uI/PdbYZiGaDQbonB/J4p6UZQMXTyUTVGuPJz9fG6JdfwuVnNGXLF6v5i7x/XCxThy+pofBJJ5PhzGEAyHiCYTOK6LQTDA8PcQo9ELouj1HKfTKYAjsPcJJ94/CgcPyZqH2vS1LZNlD8nKUduFrfZrV+1jplYzS31QHs+75zUcwzO58wgn7OKUc4mEI164gVYxU7JmfEVZv1LNWgr28y2yqU8wCp/RrF+jSr0WRbFxABXQgH1ADEhwQfmhLyED7Lf9UOvZpgy4Ac/RFe/pYHYRT49pDJiJU92hA3jvB5zOPfpO6WzgGvCpx7tFhNxEFNZl4JbQ+aWHWttMS7eWBqvfqFP0Gzm0ilfgjxlYxjc8Fb6gV6HJacpRWMU+trFbdBDP29iQZNnFx8qmZ+vgbWyFWvc6LQd3efBcVgXFPLx8Fn4+B5bJgGWz8HI58MwNxtUCdm8M68gGEv/v1Q/9ywf58lQnsRdq8xdLbicWNpOO2owt7GZ0OsU4smizdc431F+PaX1iYzPrgT4B6oMk/0lQvV2y8A8SDTqPyvMv2QAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"37 snoop servlet link",title:"37 snoop servlet link",src:"/modernization-playbook/static/87682be2185c65084b2c1e52c8704deb/352cc/37-snoop-servlet-link.png",srcSet:["/modernization-playbook/static/87682be2185c65084b2c1e52c8704deb/7fc1e/37-snoop-servlet-link.png 288w","/modernization-playbook/static/87682be2185c65084b2c1e52c8704deb/a5df1/37-snoop-servlet-link.png 576w","/modernization-playbook/static/87682be2185c65084b2c1e52c8704deb/352cc/37-snoop-servlet-link.png 775w"],sizes:"(max-width: 775px) 100vw, 775px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"d."),"\tRun snoop multiple times: Just click the Browsers ",Object(o.b)("strong",{parentName:"p"},"Reload Page")," button.\n",Object(o.b)("strong",{parentName:"p"},"e."),"\tWhen finished, click on the Browsers ",Object(o.b)("strong",{parentName:"p"},"Back")," button   to return to the applications main HTML page.\n",Object(o.b)("strong",{parentName:"p"},"f."),"\tIn Flicker, enter ",Object(o.b)("strong",{parentName:"p"},"STOP"),", to stop Flickers stopwatch for the test case"),Object(o.b)("p",null,"Note: ",Object(o.b)("strong",{parentName:"p"},"STOP")," must be in upper-case and is Case Sensitive. "),Object(o.b)("p",null,"Notice Flicker has recorded the START and STOP times for the ",Object(o.b)("strong",{parentName:"p"},"snoop")," test case. These timestamps correspond with the timestamps in the Liberty log file, from the instrumented version of the DefaultApplication running in Liberty. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"995px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"32.29166666666667%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABcSAAAXEgFnn9JSAAABO0lEQVQY011Q2W7DIBD0/39V+1CpahWpD1UbH8FHgs1hIIljJ5LLTtdIfemi0SzDMozIylqusld0kkM8nvqYmLGx0jZqM8a2O8W8PCQc6jZWokl9w7q2Lipj0+ygTMy+8iru8z2KsoCoBYQQKIoCbdtA9hKDGnA8dugYSitoxqYppdDwTN3UaW47M8YgK0T3o61hQdPleiU7juS8J2tH0tqQcz5h670P5F2gcXSpN8aS7Huabje63x+0ritlb08vUXGqaZ5pnmecLxdM04RlXuAvAWrkl4OF8QbDOCTWTsNdHYjX/8pen9mQo3NRjBEbtgpLwO57h+9qD2lkMp0eU9qLTiSt7CuEW0jzRJSQvX98xuXOaUKgeVlw5XTzlu7s+WKNsq1QdRVqyX9lJfcH5E2RWCqJcA7J6M/0F+PBv6NvrkjgAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"38 flicker stop",title:"38 flicker stop",src:"/modernization-playbook/static/1909e6b5502096610a19b680942673e3/80538/38-flicker-stop.png",srcSet:["/modernization-playbook/static/1909e6b5502096610a19b680942673e3/7fc1e/38-flicker-stop.png 288w","/modernization-playbook/static/1909e6b5502096610a19b680942673e3/a5df1/38-flicker-stop.png 576w","/modernization-playbook/static/1909e6b5502096610a19b680942673e3/80538/38-flicker-stop.png 995w"],sizes:"(max-width: 995px) 100vw, 995px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_5.3."),"\tRun the Hit Count test case. Running the Hit Count test case requires the same basic step as Snoop, but has a few more options to test in the application: "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a."),"\tIn Flicker, provide the label named ",Object(o.b)("strong",{parentName:"p"},"hitcount")," which will start Flicker’s stopwatch for the snoop test case. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1004px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"38.19444444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABcSAAAXEgFnn9JSAAABkElEQVQoz0VRW5KbMBDk/qfJIZLvxFW7xvbagI3RA1hAAiRAjCYjObtRVdM9D4lpKamYgLLiUD5feASmmIkahGzhUTJ4P13g7XiC4+kDTpdb5LfjmXoZiLoFLhonZIP5Q/xJLpczXq9XvGU3LIqc9AdmeYaMVSilRM4Z3u8FVlVFORbjqnoiIw79QVMOmqbGe8kOCeccy2flP7vON23rZV17KWvPOPdCygjOBcXiu87FS2d54R9l6bu+h2macNDmkLRtg33f+5DohwGV1hGDUpHHccSRaopiHTRBKY3OOXT7jjuBFoSPXeGQzNYG7UPDtm0RAICzMUjToaH6uq5x4zzP2HU9GqqFvq/lvY8HmmU/JLIoYBwG2JwD2kjYgJqBLAFZArILZBOWZYFhUHDLcqDroAeToLUGay14j+7fgb+T9NdPfJzPOFtDf+9wINsBdA3RZrRK1mOsFVnWsR7d0OTO/Z90Wfc0Gc2aqsmmelpSNRrCSwcMeib+iu23DnmzuHR1Pl02SO26vxNn/bj9+AueAlmL7qWFrgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"39 flicker hitcount",title:"39 flicker hitcount",src:"/modernization-playbook/static/d25be995cb615efc8bc3962222cfdeba/dfa5b/39-flicker-hitcount.png",srcSet:["/modernization-playbook/static/d25be995cb615efc8bc3962222cfdeba/7fc1e/39-flicker-hitcount.png 288w","/modernization-playbook/static/d25be995cb615efc8bc3962222cfdeba/a5df1/39-flicker-hitcount.png 576w","/modernization-playbook/static/d25be995cb615efc8bc3962222cfdeba/dfa5b/39-flicker-hitcount.png 1004w"],sizes:"(max-width: 1004px) 100vw, 1004px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"b."),"\tFrom the Web Browser, click on the Hit Count link in the DefaultApplication HTML page. "),Object(o.b)("p",null,"Hit count displays a JSP page with several options that demonstrate a variety of methods to increment a counter, while maintaining state.  "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"c."),"\tRun hitcount, choosing each of the following options from the application in the web browser: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Servlet instance variable"),Object(o.b)("li",{parentName:"ul"},"Session state (create if necessary)"),Object(o.b)("li",{parentName:"ul"},"Existing session state only")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"d."),"\tRun hitcount, choosing the following option from the application in the web browser: ",Object(o.b)("strong",{parentName:"p"}," Enterprise Java Bean (JPA)"),"."),Object(o.b)("p",null,"When choosing the EJB option, you also must select one of the following Transaction Types, radio buttons:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"None"),Object(o.b)("li",{parentName:"ul"},"Commit"),Object(o.b)("li",{parentName:"ul"},"Rollback")),Object(o.b)("p",null,"This action invokes an EJB and uses JPA to persist the increment state to a Derby database. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"577px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"66.31944444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABcSAAAXEgFnn9JSAAACgklEQVQ4y32Ta1PaUBCG8/9/Qaedsa3V2tp2FBCKqEC4JeEWEwjkQrgrICBaxgtNOG83kQp8aD88s9lzkvfsu3vCCVJqkUmFl3pNcKtq2jV10TXromvpklsuxl2ZsM28a9QFt67lfLx9rZLx9y1Dcqc3uns7NtwpweXFqBsJvIVZjUGTI0jEPiEe3YVSCEItniD44w34831/LRZ+D4E/BH+2j0z8AJHAOyRje4BjA+gAyxa4ZqPgzEZl3PQLbNST2HRQYuOros+ol2ezkcxuh+WXdXrncVZ9ze/HCpvR83Vb9BlflRjXIsFhR4CtJ1lTT2LQEdEyeHSslB97dsanZSRhaRegQ9E2U7DrCfSbWXrm0agl/LxnZ8H12mXnjip8vq+xXxMF0+sivDifqJhPVVAFoMqA302y1SV7LbLWJsiiu4psBeWcqmSdy3wYunrGKqWfkDJH8KJROUchd0x9PUWvkYb7YADPDSwfTcLyI3uyVvkabjxpO92WCLOWZN2m4EV0mjm0Gxk09BSuu3ncU8VeK57uNGBh+0J/8Q7ZjFxLKzp1KYxy4jur5oLQCJ0qrgkhWKUoamIIYxKfjy/hrKp8EVizJVg6/uJUL76idLLL5MgelNPPUKL7KIQ+oBD8AInokfUFCXr9W3+8zaugnAw51cQh6ukjVkl8g049tHIBzMn2Q1vEY0fCnKa3oAGt7f5H8GJvx+GDOyidHbBKOoBs+CP4wA76VR514QRy/BAm2Z4op1hu9ewflk2Jd/pqCp1ygg1rAgYVHqPqOaZGCkOadF+OYqDGcEdVbgpuV7ghaNimo2mXKMt5pqgyZhPb/4X8e+fdOe+uuat8Y6KbbAr+AfjHnkaTnCIbAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"40 hit count demo",title:"40 hit count demo",src:"/modernization-playbook/static/c438d84e8eda145377507e2b3085dfa5/71b62/40-hit-count-demo.png",srcSet:["/modernization-playbook/static/c438d84e8eda145377507e2b3085dfa5/7fc1e/40-hit-count-demo.png 288w","/modernization-playbook/static/c438d84e8eda145377507e2b3085dfa5/a5df1/40-hit-count-demo.png 576w","/modernization-playbook/static/c438d84e8eda145377507e2b3085dfa5/71b62/40-hit-count-demo.png 577w"],sizes:"(max-width: 577px) 100vw, 577px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"e."),"\tYou can run HitCount multiple times, choosing different ",Object(o.b)("strong",{parentName:"p"},"Transaction Type")," options. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"f."),"\tIn Flicker, enter ",Object(o.b)("strong",{parentName:"p"},"STOP"),", to stop Flickers stopwatch for the test case"),Object(o.b)("p",null,"Note: ",Object(o.b)("strong",{parentName:"p"},"STOP")," must be in upper-case and is Case Sensitive. "),Object(o.b)("p",null,"Flicker has now captured the START and STOP timestamps for the use cases, which corresponds to the timestamps recorded in the Liberty log file from the instrumented version of the DefaultApplication."),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"993px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"53.81944444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABcSAAAXEgFnn9JSAAAB90lEQVQoz41S22rbQBDV//9M6UMohJZACBRTWjtFtmRXF+t+s+6WLcvanZxZ7LQPeeiIQTu3M2dmV/v1up7X5k4YW0voxk5sTEv8XptibfwRO8sVXhALP0yE60dizwrb9UJ15tj+7mc7jIVmOY60HZssy6IwDCmA+oFP7t6lJE3I8/33v23bFMWR0jzPVV4YheS4LhmmofI0fWOKvChgpLJpWlnVtSyKgyyrSsIv2V8c/tqsh7JUmuW5ym/bVmZZLk+nkwSgIeq6pv54ZAd1XUcApuMw0Ol8ht0TCmgcR+L4wDl9T2fEUEPX65X+FQBuBQchkj4QMKQ4SVQxA7Jwvh8E1AO4BYFpmpRfSknaFouvmobqupEDs0LR8TgQn9u2oyiK3kF5bwoEjBmQfWmaYaJGTcVsNf3nSrjbLaXYB49ZI4h9oTMKUdzd9D5qA0bMarxc1P9yY8dgiuHTp88i1HWap0lOGOWCwhF6wRk+SnDrCViOaHaGzgDq0DQCwwFNT1jFfANVO1w8fBH2akm158kWSXdt8Ex6AL2+vNDi6zdaPj/TZrGgPo4pwUTfHx+Vb4W4t1rRhGYKcLn4ISp+W7YtSwBU0ANY8TnzPArxPtP9nhK8tdhxKEejAg0j21E2xwrkV2VJ8zyTVlSNuLH98Jb/VyR/2OEbt0w6ljmqhwEAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"41 flicker stop",title:"41 flicker stop",src:"/modernization-playbook/static/7998cb8f60509db2b3135b6a108ddf5b/fd8ed/41-flicker-stop.png",srcSet:["/modernization-playbook/static/7998cb8f60509db2b3135b6a108ddf5b/7fc1e/41-flicker-stop.png 288w","/modernization-playbook/static/7998cb8f60509db2b3135b6a108ddf5b/a5df1/41-flicker-stop.png 576w","/modernization-playbook/static/7998cb8f60509db2b3135b6a108ddf5b/fd8ed/41-flicker-stop.png 993w"],sizes:"(max-width: 993px) 100vw, 993px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"g."),"\tIn Flicker, enter ",Object(o.b)("strong",{parentName:"p"},"Exit"),", to quit Flicker    (Case sensitive, Capital E)"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_5.4."),"\tRun the script below to Stop the Liberty server. As a convenience, we have provided simple scripts for you to use to start and stop the Liberty server, as well as check the status of the server. "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"/home/ibmadmin/m2m-ws-sample/defaultapplication/scripts/stopServer.sh\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"647px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"15.972222222222221%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAtUlEQVQI11XIyw6CMBCFYd7/bVy40JVxY2JMiKLiVMqlCMqlBSGEQjFj6Uon+TInv7Wzr5KLekpfhRJ1q0TVKK7N+5VzlZeV8cxK3RpVirfpJa9VobVdr4bxo+Q4GdZ2d0AWhRhpccwwCHxkLELfp+bPff6ed0eqW5ommCQPpNRDQghK2ePvWevN/nojFI6OC2eXgH26wJ2GcLAdYI+n2XMPWQqL5QriJINxQuBVC3XTQT9Mf77v/dqyUB36rAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"42 stopping server",title:"42 stopping server",src:"/modernization-playbook/static/50c5f2e37688197614a86bda88b17bf5/afdb6/42-stopping-server.png",srcSet:["/modernization-playbook/static/50c5f2e37688197614a86bda88b17bf5/7fc1e/42-stopping-server.png 288w","/modernization-playbook/static/50c5f2e37688197614a86bda88b17bf5/a5df1/42-stopping-server.png 576w","/modernization-playbook/static/50c5f2e37688197614a86bda88b17bf5/afdb6/42-stopping-server.png 647w"],sizes:"(max-width: 647px) 100vw, 647px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_6.")," Review the output from Flicker and the Liberty Log file based on the test cases"),Object(o.b)("p",null,"After exiting the Flicker tool, it produces a context json file that captures the use case labels and their start/stop times. The context json files are generated in the same directory where Flicker ran. "),Object(o.b)("p",null,"This context json file will be used as input to the AI engine in Mono2Micro for shaping the recommendations for microservices partitioning. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_6.1")," Review the output from Flicker and Liberty log file based on the test cases you executed"),Object(o.b)("p",null,"Take a quick look at the context file that Flicker generated for the snoop and hit count test cases"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a."),"\tView the context json file. "),Object(o.b)("p",null,"The name of the context json file contains timestamp in its name. So view the files in the Flicker directory, and then view the ",Object(o.b)("strong",{parentName:"p"},"context*.json")," file. "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd /home/ibmadmin/m2m-ws-sample/Flicker\n\nls *.json\n\ncat context*.json\n")),Object(o.b)("p",null,"Notice the two test cases were recorded, along with the start and stop timestamps for each testcase. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1035px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"9.027777777777777%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAiUlEQVQI1x2KXQuCQBRE/f9/KYrARwklYUnTdN29u9ePMnofpsWH4cxhJhsGi5dp0NUG0+gwicK6ANN0aPsRElfM2xe+7WEfLaImf++QxKAbtv2X9h26fJKvyIpbyfx8ZX66sCrvLKqaVW3oQ6TzgVFnOon0/UDbPCmpR12OOAmcl5US9PhPzvMPwteQ+F7HzyEAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"43 cat json",title:"43 cat json",src:"/modernization-playbook/static/c5f6c2678b5cadd76b918cb244107923/64d38/43-cat-json.png",srcSet:["/modernization-playbook/static/c5f6c2678b5cadd76b918cb244107923/7fc1e/43-cat-json.png 288w","/modernization-playbook/static/c5f6c2678b5cadd76b918cb244107923/a5df1/43-cat-json.png 576w","/modernization-playbook/static/c5f6c2678b5cadd76b918cb244107923/64d38/43-cat-json.png 1035w"],sizes:"(max-width: 1035px) 100vw, 1035px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"b."),"\tView the Liberty log file to ensure the log contains the trace statements from the instrumented version of the application.  "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cat /home/ibmadmin/m2m-ws-sample/defaultapplication/monolith-klu/DefaultApplication-ear/target/liberty/wlp/usr/servers/DefaultApplicationServer/logs/messages.log\n")),Object(o.b)("p",null,"As illustrated in the screenshot below, the Liberty server log file (messages.log) will include trace data that captures the entry and exit of each Java method called, along with the timestamp of the invocation. "),Object(o.b)("p",null,"If the log file does NOT contain trace statements for Snoop and Hit count as illustrated below, it is likely that the instrumented version of the application was not deployed to the Liberty server. "),Object(o.b)("p",null,"Do not worry, we have captured a known good log file and Flicker context json file that can be used to continue the lab, without having to go back and redo previous steps.  "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"989px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"61.11111111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABcSAAAXEgFnn9JSAAACWUlEQVQoz01TyW7bMBDV//9HDz2mh6KXbC5s14mXWJYX7TtFarGNNE4CBOTrjOIYPTy84ZCa5c3IChLxISqlS0Fgrmq980Jtr7ba2bjaC2Lt+bHeuoFebzxtO1u92fp6uwt0USotVadden9zN9DXt/faSvNKp2mCMAwRBAE8z4Pv+4iiCKIsoaTsuSgK5HlOyJClKUrylWXRM9/XdY2mbmCFeaJVK1A1pZGNMFX9yUIVpqgzk4jQ5DI1zV4Z2QpTd9I0B9WfGd2xIV9FtjSFzIw1Xc/0xnWw8Rzj7GwsVnPYmyfMllPcTm9wNbzC3ewWcRYiTH0CdRG5iPMQEfnSMu79SR7D9uawHkdDvRgPMBvdm9nwHpPBNabDO0x+32B6/QuD798w/vkD6/kEy8kQ9sOIMOzP69kfbBcPWD2O4ZDtjAawAhI/Wa+ROBsTrxwESxuR7cB/WiIieKMxwvkCwg+Q71wUroeCWHg+KvIxSvIxZ6sVaChCs6BKkUZKQVQVpJL9EBT5665D07bY7/doiZum6XE4HC6+/eGTZa1gxWmp+2kJYQqaVpplyClYFMfgM0+2okl3FJgTMzgxnzloS9yebSqKWo4yzatATnM8HtFRVub6XAV/+Pz8jLe3N7y+vuJEeHl5wel0uth/CXzH7y2hWi0ErU0lTUbVhLR/cZwgoL3kStPzznFgroAhpbok+UrE4EKsrJD0l5SsnUmSpA/I7e5ct2c/8Pug3GovAS84gdvenztozzqzNFZEGnZdyxeGReaW+RFnfn9/v1TxZX9Vc2n7P/D3/wALcGwDizKSDAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"44 message log",title:"44 message log",src:"/modernization-playbook/static/c1b5e7996d486a579f2baf0d97ee5f54/ed71a/44-message-log.png",srcSet:["/modernization-playbook/static/c1b5e7996d486a579f2baf0d97ee5f54/7fc1e/44-message-log.png 288w","/modernization-playbook/static/c1b5e7996d486a579f2baf0d97ee5f54/a5df1/44-message-log.png 576w","/modernization-playbook/static/c1b5e7996d486a579f2baf0d97ee5f54/ed71a/44-message-log.png 989w"],sizes:"(max-width: 989px) 100vw, 989px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Tip: It is critical that the server log files DO NOT get overwritten during the execution of the test cases. "),Object(o.b)("p",null,"System Administrators configure limits for how much data is logged and kept. "),Object(o.b)("p",null,"They do this by configuring a MAX size for the log files, and the MAX number of log files to keep. If or when these maximum thresholds are reached, Liberty will write over the messages.log file, resulting in the timestamps from our test cases to be out of whack. "),Object(o.b)("p",null,"Therefore, it is critical to ensure proper sizing of these logging thresholds to ensure log files are not overwritten when running the test cases.  "),Object(o.b)("p",null,"Since the tests in this lab are short and simple, there will not be an issue. But something to look out for when running larger test suites. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_7.")," Recap of the data has been collected for the monolith "),Object(o.b)("p",null,"Let’s review the data that has been collected on the monolith:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Bluejay generated two table json files containing specific information about the java classes and their relationships via static analysis of the code: "),Object(o.b)("li",{parentName:"ul"},"refTable.json",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"symTable.json"),Object(o.b)("li",{parentName:"ul"},"Flicker generated one or more context json files that contains use case names/labels and their start and stop times"),Object(o.b)("li",{parentName:"ul"},"All the standard console output/error log files captured on the application server side as the use cases were being run on the instrumented application ")))),Object(o.b)("p",null,"With these three sets of data, Mono2Micro can now correlate what exact Java classes and methods were executed during the start and stop times of each use case, and thereby associate the observed flow of code within the application to a use case. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1066px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"38.19444444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABcSAAAXEgFnn9JSAAAB9ElEQVQoz1WSW08TQRiG90piFWp3dmcPPSwtPVkbRMUeKUQ0BQLEcmirXIChF4YWjRgEYwh3JqSJIUEgRv1d/TfN43ZFiBdvvsNM3vnyPaNomoZhGJ5Mw/pPf/sm99MZ0qk08XiCYrFIIpHEkCaWZWOZ3r3+lUdPEUJcGwb0YUaEz9MgH/Sk8OPYOtGQSTRiUijkcWJhfCND3PXfZjjgQxryxvDfhLpuUIguMpfZ9FSILqMKldh4lcpSh+e1XdK5Ne6M+Mk6eeozb6nPtljObWFpkb5wfXRN9pRAQMUwJaOO5OX4Ju3qMTsvjlmZaBGLB8ktbLPaOaX5/pTK+ieiSYf5QoPjrXOO3pzxcaVLNpXtj8akuxK7pwRti/hYkNJMmfa7Nifdr3S/nbDTabkvqkjNz73hWwTDYVrbW1xenHH544L9gz3y08/4fHTIr98/++ffzzk4aPeU7JMZHufKVKYnabyusf9ll73DD9Qbq+6EDpkHCTLZgZJU52apN1dpbrxicWmO8YmsF5sbjf7aeo35hameMvSwg0jlicRdCGHVheHHLyTC3WkkOsbT3CTlqRKVypRLOEcoMooqbXTTxg47brQQ0uqragAh1J7yqFSlWC6TSI6huUam+01Mj5hE6joeNCuEaYW92juT0tOgvsqvKf8BRVf42x17hEMAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"45 m2m flow",title:"45 m2m flow",src:"/modernization-playbook/static/598c138a21ba57eece21e20196920ef6/e8c66/45-m2m-flow.png",srcSet:["/modernization-playbook/static/598c138a21ba57eece21e20196920ef6/7fc1e/45-m2m-flow.png 288w","/modernization-playbook/static/598c138a21ba57eece21e20196920ef6/a5df1/45-m2m-flow.png 576w","/modernization-playbook/static/598c138a21ba57eece21e20196920ef6/e8c66/45-m2m-flow.png 1066w"],sizes:"(max-width: 1066px) 100vw, 1066px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Let’s proceed to the next phase of using Mono2Micro, which is to run the AI analyzer tool against this data."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_8.")," Running Mono2Micro’s AI Analyzer for Application Partitioning Recommendations"),Object(o.b)("p",null,"Mono2Micro’s AIPL tool is the analyzer that uses unsupervised machine learning AI techniques to analyze the three sets of data collected on a monolith applicated as done in the previous section.  "),Object(o.b)("p",null,"Once you have completed the executing all the test scenarios, you should have the following categories of data collected:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"symTable.json"),Object(o.b)("li",{parentName:"ul"},"refTable.json"),Object(o.b)("li",{parentName:"ul"},"one or more json files generated by Flicker, and"),Object(o.b)("li",{parentName:"ul"},"one or more log files containing the runtime traces")),Object(o.b)("p",null,"Prepare the input directories for running the AIPL tool "),Object(o.b)("p",null,"To prepare for the analysis, the input directories and an optional config.ini file need to be gathered and placed (copied) into a common folder structure before running the AIPL tool.  "),Object(o.b)("p",null,"For this lab, the input directories have been placed into the following directory structure for you. "),Object(o.b)("p",null,"The /home/ibmadmin/m2m-ws-sample/defaultapplication/application-data/ directory contains the subdirectories within which the data files are placed:"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"contexts/")," - One or more context .json files generated while running the Flicker tool alongside the use case runs"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"logs/")," - One or more console logs from the application server as the instrumented monolith was run through the various use cases"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"tables/")," - The two table .json files generated by the Bluejay tool "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"config.ini")," -  Optional file to configure various parameters for the analysis tool. If one doesn’t exist, AIPL generates one for you with default values. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"843px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"52.43055555555556%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABcSAAAXEgFnn9JSAAABcklEQVQoz32S21KEMAyGef8X01HvvHA5lLKw6wEohQVKoSW/pTq6KmNmvmnS5s8knQSPh9QeopiewngNY0YJyyhm3JOkGTF+JJYeKUpSiqOEuEO8VVTVjUOSaFpq2ouPh3GiIEr4mrIYjCXgPEVR5J48zxybX6A4FeBZhvD2FuzhAcnNDZq6wjCOGMcBSin0fQ9jDIKzsPaigXkF9TNodLQKJAYQ8JNlGEjJ1iEJRH/eN4KXerKlU8t2oF5ZzAbQCzDq77RN+6H/Nv/0eX9NkNaFPXduNJFT1qV4Vie8qGcIXaGeakxm+iiwI967D8q2s23fYlkXmtcZ2mrMdnYs/rRkfwj3ilxbcHjjNq4ilKqkaqqw/kq4Hvl30a+U6w6l+7h+vEDpafeT9/jPgsc8XO/ZHcJTiKzmqLoSket46/osTzg2mVuPbTVGCCGgtcZ/Fpxf5eyW09TC0UjH5ksfC9mZxnPxPuO59+0KMy+rWcxf3gFF3AHmnu48oQAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"46 ls r",title:"46 ls r",src:"/modernization-playbook/static/7cc3e25b2c1ad323042f172421d1ffa1/8d0a4/46-ls-r.png",srcSet:["/modernization-playbook/static/7cc3e25b2c1ad323042f172421d1ffa1/7fc1e/46-ls-r.png 288w","/modernization-playbook/static/7cc3e25b2c1ad323042f172421d1ffa1/a5df1/46-ls-r.png 576w","/modernization-playbook/static/7cc3e25b2c1ad323042f172421d1ffa1/8d0a4/46-ls-r.png 843w"],sizes:"(max-width: 843px) 100vw, 843px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_8.1.")," Run the AIPL tool to generate the microservices recommendations. "),Object(o.b)("p",null,"Once you have completed the data collection process for the Java monolith under consideration, you can feed the data to the AIPL tool to generate microservices recommendations."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a."),"\tChange directory to application-data directory"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd /home/ibmadmin/m2m-ws-sample/defaultapplication/application-data\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"b."),"\tRun the AIPL tool, using the following command:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"docker run --rm -it -v /home/ibmadmin/m2m-ws-sample/defaultapplication/application-data:/var/application ibmcom/mono2micro-aipl\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"935px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"28.125%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABcSAAAXEgFnn9JSAAABH0lEQVQY01VR7W6DMBDj/Z9r0n7sAaAQoFNp1wLNN8kFSm6XUE1aJMt2znEUpTAL7Mr4XRNL7bLm0u6CtLbHnoPXkXl7s4R/PjHtbT68sFjXgMZo9N6jtQZDANRaZySfOK2kU8Z7h8uyECwC+DxPHgD2lCu2bUOldHTeRyllVEplXpzLSD4iRmttpEMZWptI5TGEECXNU2Zd16PwKDgghMgHBBUKIbM2xkRNSF5pnbV8X/p88jjNcy6EEPb02mIYLjhNE3Zdh7efG94fdxzHEYfrgGVVImtbrOsaG9YgYwy7vqf5AznnOTfPc342F5wueGJR1i1U7AwnQt1+Q1l3wPoLtOcBTs0564q4anr4+PyC+8iBPgnChn+ANSY40vgLCdDHylsHZkwAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"47 docker run",title:"47 docker run",src:"/modernization-playbook/static/c2bc3e6b4a66d0bdccb9b58a89f5ec34/b5b0d/47-docker-run.png",srcSet:["/modernization-playbook/static/c2bc3e6b4a66d0bdccb9b58a89f5ec34/7fc1e/47-docker-run.png 288w","/modernization-playbook/static/c2bc3e6b4a66d0bdccb9b58a89f5ec34/a5df1/47-docker-run.png 576w","/modernization-playbook/static/c2bc3e6b4a66d0bdccb9b58a89f5ec34/b5b0d/47-docker-run.png 935w"],sizes:"(max-width: 935px) 100vw, 935px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"When the AIPL tool finishes its analysis, it will generate an application partitioning recommendations graph .json file, various reports, and other output files in the mono2micro/mono2micro-output/ subdirectory within the parent directory of the input subdirectories."),Object(o.b)("p",null,"Next. Explore some of the notable files and reports generated by Mono2Micro. "),Object(o.b)("p",null,"Listed here are some of the notable files that were generated from the AIPL tool"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Cardinal-Report.html")," is a detailed report of all the application partitions, their member classes, outward facing classes, etc"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"/home/ibmadmin/m2m-ws-sample/defaultapplication/application-data/mono2micro/mono2micro-output/Cardinal-Report.html")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Oriole-Report.html")," is a summary report of all the application partitions and their associated business use cases"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"/home/ibmadmin/m2m-ws-sample/defaultapplication/application-data/mono2micro/mono2micro-output/Oriole-Report.html")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"final_graph.json")," is the full set of application partition recommendations (natural seams and business logic) and associated details, viewable in the Mono2Micro UI"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"/home/ibmadmin/m2m-ws-sample/defaultapplication/application-data/mono2micro/mono2micro-output/oriole/final_graph.json")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"cardinal/")," is a folder that contains a complete set of input files (based on the partitioning) for the next and last stage of the Mono2Micro pipeline, running the code generator"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"/home/ibmadmin/m2m-ws-sample/defaultapplication/application-data/mono2micro/mono2micro-output/cardinal/")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"c."),"\tContinue to the next section. You will explore the generated reports later in the lab. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_8.2"),"   Use the mono2micro UI to view and manipulate the partitioning recommendations generated from the AIPL tool "),Object(o.b)("p",null,"Let’s now take a look at the partitioning recommendations Mono2Micro generated by loading the final_graph.json in the graph UI. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a."),"\tLaunch the Mono2Micro UI using the following command:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"docker run -d -p 3000:3000 --name=m2mgui ibmcom/mono2micro-ui\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"b."),"\tFrom a web browser, navigate to http://localhost:3000/"),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"854px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"82.29166666666666%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABcSAAAXEgFnn9JSAAADGklEQVQ4y42Sy08TURSHZ2VEWnnNdN7ttIAtta0KtvNopy0FiZA0EFmoC9cmxI2Jj+jChW5MjH+Aif+DO+MbwRijRA0NhEKIGgJi1bhxY9Q7P+9MASVIdPHl3Ln33O+cufcyswtLP+cW35LFd8tk+cNnsrS8SlZWa2S19ol8/Pzln9Q+fSEr72s/3n+o4c3S6jTz/MUUeTYxjvEH9zEx+RiTkxMeU1MvsLBQxfz8HyzM00ipuuMqXZ9DtTqL6enXZGamgpevpytMNJYgPT3d6D7Q7YRCmqOqqqNpGh2HNqNFHE0RaRQcLRx0QkrQUYMdTjCyh+aHiRZSEemIVZgALxOWZcFxAceN28G17ISPTyB69BrEs1fQGErDL1to8O+DT+ghrQENHC9VGEFSCcdxCAQCDgV/g6PIyRM4eGgKhaEVaKOLiJ5+iJaxc2CNUey7/4g0Hh9Da3OqwvCiQoXsNkIebOtuqFETHae/I3ykBunwLJi+GXB9d8GPnoQ4dhHaleukIdGPZiH3DyEvgG3xIRgvwLz0DdKp72AGXmG/9QTJ1G1Ert6Cr3gEjbtSxMem0aQW/6fDJiidB5G+8BXh84DfvgOz+yHC5ZsIDZxFg5aFn7fIbuEAWClOz1BUPSE9R8c9yz9Zlwbouhrvg3z8KXzpG4iEzsC6fA87ysfQ5N+PVrHLuwdBUugtCzLh6C3G43EnkUggFovBjbIsg2O5jW7Z5l3uS6CbOyC1sWhXetCsaPQFiHS+zXPwYrDCKGqYSJLoCZPJJFxSqZQn7op1IRaNrRVJIbGXPpvOdki0GC+wkEUB7l5JkokkilCCkQqjGzmSyaRh27ZDQS6XQz6fR6FQoORRLBa9uXQ6jUxG99BddAMZ3f3OuHgO3bQrjJnNE8syUS6XnZGREQwPD2NoaAiDg4Me7rjUPwC7UEKp1Ive3jqlUskrahgGTNMkpmnAyhXqQsPQ3S42OqQJXqKLrmfgrluWtYXfeabnMLNrQrNexVmXuIl1LGRt+ssUd/x7fjN1obFZSCs6W5OpMGsjm7P/Klzv0vvlNeEvd91AYtU3itIAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"48 m2m ui",title:"48 m2m ui",src:"/modernization-playbook/static/79d2c594f257c01bb263bb3aa0b34035/f8087/48-m2m-ui.png",srcSet:["/modernization-playbook/static/79d2c594f257c01bb263bb3aa0b34035/7fc1e/48-m2m-ui.png 288w","/modernization-playbook/static/79d2c594f257c01bb263bb3aa0b34035/a5df1/48-m2m-ui.png 576w","/modernization-playbook/static/79d2c594f257c01bb263bb3aa0b34035/f8087/48-m2m-ui.png 854w"],sizes:"(max-width: 854px) 100vw, 854px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"c."),"\tLoad the final_graph.json file in the mono2micro UI"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"d."),"\tFrom the UI, click the ",Object(o.b)("strong",{parentName:"p"},"Drop or Add File")," link "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"e."),"\tFrom the ",Object(o.b)("strong",{parentName:"p"},"File Upload")," dialog window, navigate to the following final_graph.json file: ",Object(o.b)("strong",{parentName:"p"},"Home>ibmadmin>m2m-ws-sample>defaultapplication>mono2micro-analysis>oriole>final_graph.json"),"."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"f."),"\tClick the ",Object(o.b)("strong",{parentName:"p"},"Open")," button on the File Upload dialog, to load the file into the UI."),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1033px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"25.34722222222222%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABcSAAAXEgFnn9JSAAABD0lEQVQY05XPzU7CQBQF4L6lT+Lepa+iwsawURI3JlKgIESnpeWnLUynVHAqLV2Re4/Tou6d5MvMmTO5yVjDV/ckvIC2H5p2+mAU9JmXtNe1gvTXkaJNSotQnjuT6655Y+hDRZ4b0OV1hy6uumQJz6c4DpHnGmV5wC5TiMI5lIyQpRsk6yXWYfBHxgtkKkYSLxupDLEKBKbO2HQK1rvrU5JIM6zgoiy5N3T52Rbcc3zuT5Zsz7bc97c8CDLueYptLzU5a/a6e3HrO8XTcM9vcc7NwChaIU0VF0WJzpPA7YNAqytw8zhDe5yjNdKN9ig3fs/n3HI07icaHeNukMHy5yuS0nwtSbiqjgDYoB//X9+cP2rceTQw5gAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"49 m2m load json",title:"49 m2m load json",src:"/modernization-playbook/static/cec6984deb59e375c23d408b12e19c19/d1f15/49-m2m-load-json.png",srcSet:["/modernization-playbook/static/cec6984deb59e375c23d408b12e19c19/7fc1e/49-m2m-load-json.png 288w","/modernization-playbook/static/cec6984deb59e375c23d408b12e19c19/a5df1/49-m2m-load-json.png 576w","/modernization-playbook/static/cec6984deb59e375c23d408b12e19c19/d1f15/49-m2m-load-json.png 1033w"],sizes:"(max-width: 1033px) 100vw, 1033px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"g."),"\tFrom the UI, click the ",Object(o.b)("strong",{parentName:"p"},"X")," to SKIP the tour, and proceed to the results"),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"731px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"73.61111111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABcSAAAXEgFnn9JSAAAC2UlEQVQ4y41TyW7TUBR10iGDhwwe3/MQO3Wa0GZ0aNKECtqqCFGoaFGrilGA1CUb+AUQEn/Dmg9AAoktbCp1zZZVI/DhPZdCkSrUxdV5fvfec869tgVRFKEoCoriFAr5KSiyhIIsQlYrUFQbSqGAQkE5wZKMdrSI/qCLXlRHdLmNdmcBmpmLqZwHkeWJIIoSdE1FqXUAtf8chteERWzozcfQGlvQLRsmpaCOBydwsNCtodVfRH24iijqYm2pB38wjuusL1RLE0GSRBiai5lr7+E8OwKt30AUjGCZLojhgNAApl8H7Y9QaXRBTB8Gc6/O77PcAmzqojR+FVu1fXhFhRPKoLqLsr0M2tgG9SLU6Bw23C48KwQ152APr2L+xUssLq/CJiF6bgeRHaDqulgJl3DFacUWEzJ1byJkxDxaZg1vWltokgo8Vugu7qNTW0PFDhENx+hvbKC1uYneaITq3CU4zLnf3IHePsBO0Mej6kqsGi4sjfIdiqCGxVTn4TL7hm6iNHoNq7cLx60gnK+hOxigNxwirNdBbNaoF1G5/hbi+juUyuyFGkZMLApN0xlhPo9cPofpXAZ5Rs6fxWyaYQ5cLJPJIJvNolgqJZjneV4nF1m9AolNKIlSzO9Yjo3MGoqFIohFUC6XmYrGlWAYBlRVhWmayOVyEAThfxH/xhNC3uj7PnRdh+M4sG0HlH0qlmUhCIKE/CKE6XR6IpyOwcl441lnp2dCSCLAkYtw9DyPCduQJIkTJYSpVOrEIS/qdDpoNBrJmRPxJk7Kg5OdnnmOIyE0WQ8XnJmd/euQ74e7lGU5iWThZ4Lf8V+T1yU1zNFUOoXpqfT5O7zAwv+J2UwWrh/Cqcwl6AU1eH4YVxhKsnJxQjZOgoPxOj58/Y5Ph8f4fPSTxQ98PDyOv3wDbt99OBH4C+HFbKF/8Lw4JdQMgpt37iWxuX0ft3YeYG/3aby994S5rk5+AQXJjC1hTNQWAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"50 m2m ui close tour",title:"50 m2m ui close tour",src:"/modernization-playbook/static/65531c1cd3681d71d0b1546a25b109a7/55ae9/50-m2m-ui-close-tour.png",srcSet:["/modernization-playbook/static/65531c1cd3681d71d0b1546a25b109a7/7fc1e/50-m2m-ui-close-tour.png 288w","/modernization-playbook/static/65531c1cd3681d71d0b1546a25b109a7/a5df1/50-m2m-ui-close-tour.png 576w","/modernization-playbook/static/65531c1cd3681d71d0b1546a25b109a7/55ae9/50-m2m-ui-close-tour.png 731w"],sizes:"(max-width: 731px) 100vw, 731px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"As illustrated below, the UI displays the initial recommendations for partitioning the application into microservices. From the UI, you can explore the partition recommendations "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"897px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"78.81944444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABcSAAAXEgFnn9JSAAACEklEQVQ4y5VT227TQBD1R6QqF9VyvN6LN3Fix7GdCNKGpFUIhUrcKlWAhOABCVGJSjwh8e2HmU0c3DSU8nC0l5k5e87sruf7PuI4RpIk4Hmr1cLe3t5OcGw7vr32rLVI09RBSgmlFIwx16C1dodmWYY+5ZnYuj0WwXUcq/M82+kgz3OXHEURer0eqqpCWZSoygpFUbg44/DoCIePxijSBINBhrIsMZ1OMR6PMRwOHYfHqoQQjozV8VpKBSEDhJG/Xq8g2gFUOUX89B2UiSGpRhBqZzx6PKlRByIZIo/nGNkzSMUHabJjEJMt+/oS9vwKevIMMjiAIpvNek/yghXUm0pCqxjL3hXhO4Z2RmoE9YgUiRDZ7AXK868wna5TuC3IayqrEUmBJ9kFFvlnGG1pTYVylWe1QkeJhgh503KTsJ7HHQbNtXI9rZ0YsijJ/h8SdZ2wabkZWCWu55zDzadRd7tQItocoNQthLvs1/GILuTe8Rz7p0sE9GQUvYztmp2E23CqwhB+McT9k2MEowr7NPKei/FHUPr2S9mlkHMOSOHDs+cQ/b5rAccDuvkHbZ8uTrq8fxJu+kQEKX21QZrBrPeYbJE/xrfZG3SNdY/8TpY3D54K6h8VRgJVkuHX8iPeT07x4+QCfti+g8K/XBaryWyCn4sPuJy9xZfpS/jiPwhv9JXQJpXz0QSfFq/QpefE6n8D/CXY8UxOKewAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"51 m2m ui final graph",title:"51 m2m ui final graph",src:"/modernization-playbook/static/7e21787c3c24611903dcfa9d4c191cd4/1419d/51-m2m-ui-final-graph.png",srcSet:["/modernization-playbook/static/7e21787c3c24611903dcfa9d4c191cd4/7fc1e/51-m2m-ui-final-graph.png 288w","/modernization-playbook/static/7e21787c3c24611903dcfa9d4c191cd4/a5df1/51-m2m-ui-final-graph.png 576w","/modernization-playbook/static/7e21787c3c24611903dcfa9d4c191cd4/1419d/51-m2m-ui-final-graph.png 897w"],sizes:"(max-width: 897px) 100vw, 897px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"The initial partitioning recommendations is a starting point and generated taking into consideration based on the business logic and natural seams that were discovered during the analysis. "),Object(o.b)("p",null,"At the time of this writing, there is a known issue in Mono2Micro where in certain cases a class is placed in the Unobserved part despite use cases being run where its use is captured in the logs. This affects Snoop Servlet for this application. However, in the lab, you will slightly customize the partition recommendations to suit our goals, and at that time, you will move the Snoop class into an appropriate partition. This will provide an opportunity to see how easy it is to customize the recommendations to tailor them to exactly suit your desired end state.  "),Object(o.b)("p",null,"The Default Application contains two major Java components in the application: ",Object(o.b)("strong",{parentName:"p"},"Snoop Servlet")," and ",Object(o.b)("strong",{parentName:"p"},"HitCount application"),"."),Object(o.b)("p",null,"In addition to the Java components, the application also contains HTML, JSP, and other web resources. "),Object(o.b)("p",null,"The goal of this lab is to split the Default Application monolith into separate microservices, such that the (Front-end) Web components run as a microservice, and the (back-end) EJB and data layer run as a separate microservice.  "),Object(o.b)("p",null,"In this exercise, we will ensure that the Web components (Servlets, HTML, JSP, etc) will be in the (front-end) web partition, and the (back-end) HitCount’s increment action Java / EJB components run in a separate partition. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"h."),"\tEnsure the view in the UI to display partitioning recommendations are set to ",Object(o.b)("strong",{parentName:"p"},"Business Logic"),". "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"814px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"31.944444444444443%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABcSAAAXEgFnn9JSAAABAElEQVQY03WQ62qDQBCFfRdX4y0SGmvdVSTxFqEY6C9BKCmS93+BhT2dWTDQ0Pz4mNmdc2Znx3FdF0KIf3GJNAjwvt8jSxIkdI5JnxBpFCFNU/i+/8fj8EVRFFBKQUr5IM9zZFmGT6rN04T5esXXOOJS15iaBiPdd8OAlnL2M6y3DcMwREQvctxyxt/tMNJD6/2On3XF9+2GeVmwEIqmDkgbx/FDz17H8zzzClqHKePYDH1veuJ8OplSKVNJad64LoTV0VctnNsJX8E7kTRB03U4ty3KqsIHrYO/d/Q8COLZww01ddYcn3MyaBUEui9L3VeVpc5zXR4O+iiErW/ajV/817qXomcfawAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"52 m2m ui business logic",title:"52 m2m ui business logic",src:"/modernization-playbook/static/c1ce62f4afc377089ae06992fdfebbef/cf585/52-m2m-ui-business-logic.png",srcSet:["/modernization-playbook/static/c1ce62f4afc377089ae06992fdfebbef/7fc1e/52-m2m-ui-business-logic.png 288w","/modernization-playbook/static/c1ce62f4afc377089ae06992fdfebbef/a5df1/52-m2m-ui-business-logic.png 576w","/modernization-playbook/static/c1ce62f4afc377089ae06992fdfebbef/cf585/52-m2m-ui-business-logic.png 814w"],sizes:"(max-width: 814px) 100vw, 814px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Alternatively, you can use the pull-down selector to view the recommendations based on ",Object(o.b)("strong",{parentName:"p"},"Natural Seems"),", Custom Views, or ",Object(o.b)("strong",{parentName:"p"},"Data Dependencies"),". "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Business logic partitioning is based on the runtime calls from the test cases"),Object(o.b)("li",{parentName:"ul"},"Natural Seems partitioning is based on the runtime calls and class dependencies.  For example, an Object of class A holds a reference to an object of class B as a variable")),Object(o.b)("p",null,"For natural seams-based partitioning, Mono2Micro creates partitions while avoiding inter-partition containment data dependencies – containment data dependencies between classes belonging to different partitions"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Custom: Customize how your classes are grouped. Start from either the Business logic view or the Natural seams view.")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"i."),"\tIf you explored other views, return to the ",Object(o.b)("strong",{parentName:"p"},"Business Logic")," view.  "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"972px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"62.15277777777778%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABcSAAAXEgFnn9JSAAABnElEQVQoz3VTy27CMBDMbyBVLcFZOw9ICAmFFCiPFqmqVC659dgLB1SpB/j+6Tovh5QeRl4769nZWcdK0xRJkoCIIKVsoPdKqeJbMo6QTGKM4xjTKMI+y7CezTAbjbDgs+VqVeTFHFslgWKCkkiQDYcEJO+J94rhJRm8YASXC/jKxZDPhi6vvA8YLsceQ6+WVlKTaaLQnfOliMlYoSOgxo/w8m+oXQ4SdlHE4TttUAuWvli26MCXEd7CH+zCL0hFhTqXlcXvnwjmWyYUV7bcgiXJeKZbX00+MA03hVqtRvL50PfgSjI+azsKS0x3DaFRqA84QQ040ZCpCjVZsVa5NxUSyaZKk0wlGbHhd88r3D9l5b7zCmSlUtKVwnbLVaynOxjgIU3Qe9mht3+FCPyCtPu0ynxqediRTBVqRWK7gVguIB0HgodST1NUAzIW/EMom6plHPDb0tAEYRjidDrheDwiCAI4XKQe0hUhtU1vqlLz5vR5v9/Her3G5XLB+XxGxn+LbdumuBkK/fGkG9fQKvM8x+FwwIA9Nl2ZnF8PwmTX2cKbcwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"53 m2m ui business logic 2",title:"53 m2m ui business logic 2",src:"/modernization-playbook/static/dc87ab885e416fb73b5dd8a37ca4b9ed/1cc0f/53-m2m-ui-business-logic-2.png",srcSet:["/modernization-playbook/static/dc87ab885e416fb73b5dd8a37ca4b9ed/7fc1e/53-m2m-ui-business-logic-2.png 288w","/modernization-playbook/static/dc87ab885e416fb73b5dd8a37ca4b9ed/a5df1/53-m2m-ui-business-logic-2.png 576w","/modernization-playbook/static/dc87ab885e416fb73b5dd8a37ca4b9ed/1cc0f/53-m2m-ui-business-logic-2.png 972w"],sizes:"(max-width: 972px) 100vw, 972px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"From the Business Logic view, notice that there are three partitions created, and a special partition for ",Object(o.b)("strong",{parentName:"p"},"Unobserved")," classes. "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"The Numeric value in the partitions reflects the number of Java classes inside of the partition"),Object(o.b)("li",{parentName:"ul"},"The Lines between partitions indicates where classes from one partition make calls to classes in a different partition"),Object(o.b)("li",{parentName:"ul"},"The Unobserved partition is a group of classes that were analyzed but were not found to be included in any of the use case test that were executed earlier. This could be due to dead code, or incomplete set of test cases for adequate code coverage. ")),Object(o.b)("p",null,"NOTE: And as noted earlier, there is a bug in the Beta version of Mono2Micro that caused SnoopServlet to be unobserved, even though it was included in a test case.  "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"j."),"\tExplore the Java classes in partition0, partition1, and partition by double-clicking on each of the partitions to display the classes in each partition"),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"675px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"82.9861111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABcSAAAXEgFnn9JSAAACfklEQVQ4y41USXLbMBDkMR/wRVWxJJIAwX0DKJGOlliybJXLksuHPCHfyDU/5o2dASTKtCt2cugaYAg2umeGtDjn4OwM/hEYGDvDdcE8ATfK4aYV+PYHHFqzRBIHg8UYHeAaDC5z4LApdM41cC5EnvDgEZFPMcwKiDiDyCskP3/Ddhy4cWEutwKeIuQFAp4h5jPkYolIlIiFRBZWCMMIQRggCDRCQ8h9imWNrJCQUiHOFURRm4ut0JUYX08w+noFxQ44xL8wtkdwbAfCTeF7kVF/sUxwyXYqZ1hsdljf7VGvNoiz0uStVNQosznSqEQWKyRhSShQZAp50MBjgSnBsKb6xSxNoaQ0KPIMvi9OCn2eIPJKqPwbarUymMsVkkBRKXJDoBWayF6j7/smCuHD0Y06P7N0QxzXRjWTBHUB93STbNNhPQFDMh3DMDTrKIreqLf6cXGoU7Z9gl6zfox6svO+V6ehrWvi4UXWcPMef8vr3JBEEwsh/o9w+MzzPBP1y0Obp3EKBpY/IerJbNvGZDIx6MvT77Vtl86Nx+PT2Hz8ub3WVimF29tbLBeLU1wuzXpB8ftqTVhhvV4b5Z8SapvT6RQP+z2assR0/wDveIBKEsiqovnLUc5niGkW77Zb3Nzc/FuhJtSqUiKZUgM4xZDiNVmcjEa4IvVfKoWC1NVNo38OvONnUM06IrmAFHZE2N3f33dN03RpHBvESdJRc7o0Tbt5XXdqNusOT0/mjGV+TWe8b0Zfw4rsbcnSimq1J/vPz884Ho94eXnB4+MjtpsNdrvdqYaksOVnEFFLJAZ63e+JtKVOt9TVllS1dEGb53krpWzJhcmTk5a63P4BM3H9aMRKZ8YAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"54 m2m ui partitions",title:"54 m2m ui partitions",src:"/modernization-playbook/static/7af99868c36737c9758b18e77e00008f/761cc/54-m2m-ui-partitions.png",srcSet:["/modernization-playbook/static/7af99868c36737c9758b18e77e00008f/7fc1e/54-m2m-ui-partitions.png 288w","/modernization-playbook/static/7af99868c36737c9758b18e77e00008f/a5df1/54-m2m-ui-partitions.png 576w","/modernization-playbook/static/7af99868c36737c9758b18e77e00008f/761cc/54-m2m-ui-partitions.png 675w"],sizes:"(max-width: 675px) 100vw, 675px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Partiton0 contains two classes (Increment and IncrementSSB) which are EJB components that are used to persist increment data to a backend Derby database. "),Object(o.b)("li",{parentName:"ul"},"The ",Object(o.b)("strong",{parentName:"li"},"Increment")," EJB classis called from the ",Object(o.b)("strong",{parentName:"li"},"IncrementAction")," Java class that is in partition2.  "),Object(o.b)("li",{parentName:"ul"},"Partition1 contains the HitCount Servlet, which then calls the IncrementAction Java class in Partition2. ")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"k."),"\tExplore the Java classes in the ",Object(o.b)("strong",{parentName:"p"},"Unobserved")," group by double-clicking on the Unobserved group to display the classes. This is a group of classes that Mono2Micro analyzed but were not included in any of the test cases. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"420px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"83.33333333333334%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABcSAAAXEgFnn9JSAAACo0lEQVQ4y31Uu3LTQBTNH9AAk8S2HiutHrFs2fFLtiRLshwbhkcaGhgaehpmmKGjh5Kehp4/4Av4CWYowh+QgmEPd1dxYsUJxZm7e+/eo6tz9+6e4zhwOAcnqPUtcP8TIwhpieN8TxHxKsBsCxa367Ara9M5iZ04gfKEtMRxvrf5iiTOwjGKcIKc7BUmmHdHmLR7iIK+OrMdz7pjnPSnYhz0JHlFKMlcx8WqP4NlMnBmgZuWsnLvWRzfXn3Ap9PXaGkaHGZXZwjMNBFyX8yJvEboua6qrtlqQtd1aLqm0NRasIn855sv+PriPe43Dq7iWhX3mC3izpAkuVZh2YvAGINpGLDI2pYNkyrQae+Rzpz01A1d+SRkXO6PbEckRLhT4YIqjKIISZpiMJsgzeaI4xhFXmA8mZA/QZokSAjT6RRZlmGWxEjGkYiDgWxanbAMI7ToV2zS5mX8EJOjntpLnRhpuansEoYJg2zH8W+u8KQ3xb3GPh4dp8DH7/j87C3u7N9VjZG6XYehG6pJPuO7hK5baXjYbIAbDO8Wz1EGY+w3DsEMU+lqXIP0afptGlJTFkTY6YUIj/swAxd+GGAwGoLRpZUfalBHG1pzCy0ctKgAk+12WdonwwyraI6nxRqn+RqP50usZzmmwTHpGSpNa/BDDL0u8s5IyAFgtl2flNAP0PcChO4RutxHYLno2B56bhuhQz7C9rrvdzBodzFqh6Lt+dUsb1dYzWU1n6sHa+SLAvM8Q7laYl7kKMoFYro6cp3TWl4rOf9ylu2KQz0O8qUQG6vAHVEuSkH3T9lluRSr5UqsT9YijVNRFpUvTdJN3t+Lwn7XKrx8wmgqLNNSd48ZdWz75aRs8i5y/0jCs21Q4Iw7/MxxnZvh1Nfy/EXuL8KPf2OR/olHIgMNAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"55 m2m ui unobserved",title:"55 m2m ui unobserved",src:"/modernization-playbook/static/8e8b9907f7c8bad90974d1da1cbe0a88/c540e/55-m2m-ui-unobserved.png",srcSet:["/modernization-playbook/static/8e8b9907f7c8bad90974d1da1cbe0a88/7fc1e/55-m2m-ui-unobserved.png 288w","/modernization-playbook/static/8e8b9907f7c8bad90974d1da1cbe0a88/c540e/55-m2m-ui-unobserved.png 420w"],sizes:"(max-width: 420px) 100vw, 420px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"EndpointIT is a class that exists in the Junit Tests in the Java project. We did not run the Junit tests as part of the test cases. Therefore, it is expected that this class is not included in any of the partitions. "),Object(o.b)("li",{parentName:"ul"},"SnoopServlet is a core class that was included in the snoop test case and should have been included in partition1 along with the HitCount Servlet. This is a known bug in the Mono2Micro beta at the time of this writing. You will move this class to an appropriate partition in the next section of the lab, when we customize the partition recommendations from the Mono2Micro UI. ")),Object(o.b)("p",null,"The initial partitioning recommendations are a starting point and generated taking into consideration based on the business logic and natural seams that were discovered during the analysis."),Object(o.b)("p",null,"In this lab, you slightly customize the partition recommendations to suit our desired goals while providing an opportunity to see how easy it is to customize the recommendations to tailor them to exactly suit your desired end state.  "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_8.3.")," Customizing & Adjusting Partitions"),Object(o.b)("p",null,"In order to refine the recommended business logic partitions, let’s consider the classes in partiton1 and the Unobserved group. In these partitions, the classes were servlet classes, as well as a Junit test class. "),Object(o.b)("p",null,"Given that the DefaultApplication  monolith has a web based front-end and UI, let’s use one single partition to house all the front-end code for the application, which then would include all html/jsp/etc files, and the Java servlet classes which are referred to by the html file. "),Object(o.b)("p",null,"The important point to note here is that Java servlets need to be running on the ",Object(o.b)("em",{parentName:"p"},"same")," application server instance that serves up the html files referring to the servlets"),Object(o.b)("p",null,"The goal of this lab is to split the Default Application monolith into separate microservices such that: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"The (Front-end) Web components run as a microservice"),Object(o.b)("li",{parentName:"ul"},"The (back-end) EJB and data layer run as a separate microservice")),Object(o.b)("p",null,"The partition recommendations from Mono2Micro is a good first step toward partitioning the application for microservices. "),Object(o.b)("p",null,"The illustration below shows our desired final state of the partitioning, which will then be used as the basis for the microservice code generation later in the lab. "),Object(o.b)("p",null,"In this section of the lab, you use the Mono2Micro UI and tweak the graph to the desired state. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1087px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"34.375%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABcSAAAXEgFnn9JSAAABV0lEQVQoz3WRW27bMBBFtYkCrZ2QFCm+RcmxlSZ+IAHykQRdQbr/hZyOhSItCvTjgJzB8PJeTOfyiE0j/vSKjQWXKoP0/ocvEyk0kh+JvpL9jtE/EIcq/ZEujjOpNurbB6lUfMro3mGsQ/+F6Qe06UXwQHATvbYYbdjlM8/TT2xvidLv0uWd/PQDu/mCcw5re7RWMqw/0UZwmhv9DVsa1ie2Ru7OEqIn14CTT70tdHk+rA61MSKkV4zcV8SBtgZlb9Bqi78+nhYRKTy1D4qkU71aTSh9K84l8jWO2m5+i6l/0Nyqr+i7e9zpnX3L7JYLJc+0uiOPBeU3LOmVu/AiLgc6W2b6kIXyiZFaSywny6rznvL9SD0/M7TCIHUIE3bwDC5T4sShndmPZ1o60IUY+UNi8IE2zTweT2svypLi9QyBlAshyZzMZIn9+HDkfLqwLAvee5mJ/ALgVMyOezfH4AAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"56 m2m ui web partition0",title:"56 m2m ui web partition0",src:"/modernization-playbook/static/9c6f7818ba708c799a3ed4f462bf9592/1cf11/56-m2m-ui-web-partition0.png",srcSet:["/modernization-playbook/static/9c6f7818ba708c799a3ed4f462bf9592/7fc1e/56-m2m-ui-web-partition0.png 288w","/modernization-playbook/static/9c6f7818ba708c799a3ed4f462bf9592/a5df1/56-m2m-ui-web-partition0.png 576w","/modernization-playbook/static/9c6f7818ba708c799a3ed4f462bf9592/1cf11/56-m2m-ui-web-partition0.png 1087w"],sizes:"(max-width: 1087px) 100vw, 1087px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Tweaking the business logic recommendations is straight forward using the UI, and includes these basic steps, which you will do next: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Rename partition1 to web. This is not required but illustrates the capability to create partitions with names that make sense. This is useful during the code generation phase. "),Object(o.b)("li",{parentName:"ul"},"Move SnoopServlet class to the web partition. All the Servlets and other front-end components should be here. "),Object(o.b)("li",{parentName:"ul"},"Move the IncrementAction class to partition0. This class will become the new REST service class during the code generation phase")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_8.3.1"),"    Customize the graph"),Object(o.b)("p",null,"This section shows how to create a custom view for editing the partitioning recommendations"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a."),"\tTo create a custom view, first select Custom View from the Graph view selection pull-down menu"),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"956px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"32.98611111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABcSAAAXEgFnn9JSAAABDUlEQVQoz5VRy4qDQBD0V+Ib3yY+FqNoFBMkioHgaXMx4MH//4Da7gEvwV3YQ9EzdFfNVLWkKAr+gm3bcF0XjuNAVVXoug5N02CapugZhgFZlkWP56U0TcFIkkSAz3EcI4oiBEGAtm0xjiP6vkfTNMjzHGVZoigKca/rGlmW4XQ6Cb7EpE/4vi+qZVmYpgnrumJZFrzfb7y+X5jnWQjyDAuFYQjP8wRP4q/ugW0dDgdUlwuezycejwf6YcD1dkPXdSIG7m/RbDyJM/kNCg2U9OpANjuydT0e8UWIKRb+PT/6ydkV3AZZsCJLI+V0ryrcOb/zGRmBF/JvQa42WTvSgkLOiqpPubm0cd7unuAPJDnat9JEkasAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"57 m2m ui custom view",title:"57 m2m ui custom view",src:"/modernization-playbook/static/df6270b99e39b73d04b3e2106c7475f3/7d87d/57-m2m-ui-custom-view.png",srcSet:["/modernization-playbook/static/df6270b99e39b73d04b3e2106c7475f3/7fc1e/57-m2m-ui-custom-view.png 288w","/modernization-playbook/static/df6270b99e39b73d04b3e2106c7475f3/a5df1/57-m2m-ui-custom-view.png 576w","/modernization-playbook/static/df6270b99e39b73d04b3e2106c7475f3/7d87d/57-m2m-ui-custom-view.png 956w"],sizes:"(max-width: 956px) 100vw, 956px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"b."),"\tSelect Business Logic view as the starting point for the custom view. The click the Start button. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"941px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"39.93055555555555%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABcSAAAXEgFnn9JSAAABRklEQVQoz3WQXU7CQBSFuwZj9I12+ksprSg/pcCLe4AYsQTxDUyMUNiY7gATXIyJmRX0eG9lECI8fDkz0zPn3Klm2Q5crwzbccFr2/FIXeiGQElXGCcQ0H89uW6YMC1HakEQop10UW+0ULuuF3pTbxbBhrDYVBQcQ5g2FVvsy9lLewqsRmjFCRrNGK12gpjWMWu7g6TTK8Kr4RXYx6qo0CCu54Mn40BWQmoVv4KQPkZ0ISTUk9Vk3Pz39H1MFbabkJDabRihG9XQpdZe2YfvB7spOFRdKimMo+RblZpHbR5d8slcJuX/wkHMthWCcIQBzzxJvlWpjSdPGE8mGKYpHkYjpEy6B+1H94/oDN/g3H3C7q9hDz4OcAbrXAw2aPTfpZZlGVbLJRaLObH4TzbH68sKwewL58/A5RS4mB1CZ/kZaXX6LX8A+3wH6uuhUeIAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"58 m2m ui business logic 3",title:"58 m2m ui business logic 3",src:"/modernization-playbook/static/97d1a797eb21b957205f754e8eaa6ff7/89104/58-m2m-ui-business-logic-3.png",srcSet:["/modernization-playbook/static/97d1a797eb21b957205f754e8eaa6ff7/7fc1e/58-m2m-ui-business-logic-3.png 288w","/modernization-playbook/static/97d1a797eb21b957205f754e8eaa6ff7/a5df1/58-m2m-ui-business-logic-3.png 576w","/modernization-playbook/static/97d1a797eb21b957205f754e8eaa6ff7/89104/58-m2m-ui-business-logic-3.png 941w"],sizes:"(max-width: 941px) 100vw, 941px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"c."),"\tToggle the Edit graph to the ",Object(o.b)("strong",{parentName:"p"},"ON")," position to allow editing of the graph"),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"906px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"17.36111111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAiUlEQVQI13XLTQrDIBCG4dzECCqIJsRo/MGUlpQEcoLSQ/T+y6/iQgili4dhXmY6Sin6vv+LMQbOeUUIab218k/KXmfRSSmRUkKM8cJ7D+ccQgjY9x3btrW+LAtyzjiPA891RS53aZ6rTgiBYRh+aK0rpRSmaYIx5tJ16es44mEdbt7i/Xnhbi2+L3VcTbIhSYMAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"59 m2m ui edit graph",title:"59 m2m ui edit graph",src:"/modernization-playbook/static/f682b1f97e7e289b68adbbec2b81e8c8/b8bf4/59-m2m-ui-edit-graph.png",srcSet:["/modernization-playbook/static/f682b1f97e7e289b68adbbec2b81e8c8/7fc1e/59-m2m-ui-edit-graph.png 288w","/modernization-playbook/static/f682b1f97e7e289b68adbbec2b81e8c8/a5df1/59-m2m-ui-edit-graph.png 576w","/modernization-playbook/static/f682b1f97e7e289b68adbbec2b81e8c8/b8bf4/59-m2m-ui-edit-graph.png 906w"],sizes:"(max-width: 906px) 100vw, 906px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"d."),"\tDouble-click on each of the partitions to view the classes within the partitions and Unobserved group. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"543px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"102.77777777777777%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAABcSAAAXEgFnn9JSAAAC6klEQVQ4y5VUyY7UMBTsf0ACxEwn3YmX2LGz9pJeYMQIDYILJw4I+BDEkQ8vyu70dBj2w5MdxS7Xqyp7pqSEKAosrcXSmFgL75FWPs5zVlgjlYL6h5qFxRk3JUIgXS6RXl3j8bDFk1e3SOdzpPyn/xcwJ8Mky7BIU3iy6/sebduiX60gyhKSh4XFMgCz/gkwzXOkBDz/WCwWyAikqwqF1j8A/Qn0wpCAGVtUBEkIHNgmBF3ynyPLguNDUKn4LVWs8/wEGDQkwKPbl0jIKEuSyDAALsgurLEEtTRu2rYcgc5gYRxNKaCDo+s1yq6FIUhOTUPLeWmjKYJzwzX3oJGpjqBTGWan2GjotkHVdag3G1iaousaggZp71ASxI5tW4KWnKtsAblMoJW+xEoGhqMmgcFmGLDfH3A4HGMFADE6HMrwYONr2G4Lf/ce4u4j81tDujYmIYDOpMxxKhFpC5EhD5VnP5hQFCa6bZse1nn423ewbz/HA6XvTvsDoNU8UTcwqoqahG9XtHA82Rgb2wsV9DNkrCwl2L5AWXfwTQe3vYFyTQQ8abisGZEMZTbgnf92AhbUTHbUy4/Mp6GW2FDnw/E59qzdbh91vDfF25YOMxZFhcG9gdJszyiUuqPIhm2IB9lT0elgVGTNLtRoSATs3RGr+ohN+wKrbsC2vcG6fo7G7rhInzI2icWZzTy4LMdgT2MTxG8YmcNhj2HYcTxEd4MxU2bBkJWtUGuLtnD4sHuNNb+9NugpjSssxDk2cgzuuS5hHSMVbgo3Vsri6fyKoc/x5e4TnDK4TucwQqExDjn1nv3uoj+8t0YV2FQd3h5v0dNdYTUqXlPP6qsWtSl5sLgE+5evyEQfowt4Mvp69xk1mV7Nr5Hwzj/jKJc5Ad3PgD/VBNAS8KYfsOlWWJORyWSsgtUX/tLy78AuDl6eqJK3ZduvcWT2jjte0WGP/XaIh+lxz18ZTt+8YI5zjqlo44teNzWq8IhMnrTvIQNrLH9UDsAAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"60 m2m ui view classes",title:"60 m2m ui view classes",src:"/modernization-playbook/static/3354cd92906702a5b067bf28c048210d/55a9e/60-m2m-ui-view-classes.png",srcSet:["/modernization-playbook/static/3354cd92906702a5b067bf28c048210d/7fc1e/60-m2m-ui-view-classes.png 288w","/modernization-playbook/static/3354cd92906702a5b067bf28c048210d/55a9e/60-m2m-ui-view-classes.png 543w"],sizes:"(max-width: 543px) 100vw, 543px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"e."),"\tRename ",Object(o.b)("strong",{parentName:"p"},"partition1")," to ",Object(o.b)("strong",{parentName:"p"},"web")," by clicking on partition1 that includes the HitCount class"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"f."),"\tClick on the pencil icon  to rename the partition.  "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"597px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"42.36111111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABcSAAAXEgFnn9JSAAABdElEQVQoz22R3W6CQBCFeQYjKqAisoBSWIqI9Zda26R64VXTJ+mzc7unZ7c/aRMvvpzMJntmzowVhiGm06lhMpncIIDjOuj1bNJDr9/HkBraNkKqy7r/B6uqKqxWKywWCyRJgvl8bkjvUqRpijgREN498niDp9MjmqcTTlmGigMsRiNENLYHAwyIMWyaBtfrFefzGZfLBYfDAev6AbWssNvuIAsJfzxFEn81SNisYKpiOIT0PIRUj8bj8RgjqlWWJeq6xmazwfF4xHa9RdnUeP14w/PrC2SeM7aPoihMiuVyiTmNB64Lh4Yu8Yjv+2ZFlhDC7C+KImSMkt9liOQMy/cD7qsSM67B5edut/tLX+/OceDx3f3GYa2x4jhWP9BciUioWEQqHAZKhMK8saFiM8XIBl0znuKRFPdmoJlBG5rptP4j+VKdQLPf7yGlNHsMgsBMpa+uD6H174TtLdjkV/m55RVbxm07nU5r23ZLk5Zm/1TzCctk4yhtfIt3AAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"61 m2m ui rename partition",title:"61 m2m ui rename partition",src:"/modernization-playbook/static/c4169c2efe2d57c9d6f7f65486815fe3/44a94/61-m2m-ui-rename-partition.png",srcSet:["/modernization-playbook/static/c4169c2efe2d57c9d6f7f65486815fe3/7fc1e/61-m2m-ui-rename-partition.png 288w","/modernization-playbook/static/c4169c2efe2d57c9d6f7f65486815fe3/a5df1/61-m2m-ui-rename-partition.png 576w","/modernization-playbook/static/c4169c2efe2d57c9d6f7f65486815fe3/44a94/61-m2m-ui-rename-partition.png 597w"],sizes:"(max-width: 597px) 100vw, 597px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"g."),"\tType ",Object(o.b)("strong",{parentName:"p"},"web")," as the new partition name. Then press ",Object(o.b)("strong",{parentName:"p"},"ENTER")," key to finalize the name change."),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"422px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"55.208333333333336%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABcSAAAXEgFnn9JSAAACCklEQVQoz21SSY7bMBDUL4KxtVALScm29oWyNHa8G9kmEwTIG3LII/KE/CaHPK7SpBc4QA6FLjZLhVKzLSEEIh4SfELwX3ARGUQiMAhJG0YajED3MkKSxEjTFJY2y6RCLQ8o5YawvaOSOxRijQXvkPKe+AYF36BJDugWJ4zFB3TlCkN1Rl12WKQLbeijTc6Qfo6ARQiZJAhTfRYiCRp8b37jJftJKRIUaYtsUSGbl0hkBt9nKMUOM16a1Jb+pTreI/QFXGbDY64BYwy298Yk+rUBfvR/wMIJgiAw945LWs+F7T4h489YxJUZnUnYxAcEnoRtT+E6JLIdOFRd18OUekVwBHdz4k//3Dm2a3o5X2MuKzNvSw9ZRy7yCs/rHstBQfXNHQOdy3aGfqhQNwWGURHv0C9b4j0alSGXq6vhNWEdH9HODlDFFl22pSEfUed7VPkOLfG2PEHVZzrvoejcZdRPte5kvlHxR8xEcTHknCMWc8x5gyQqMYsqJGGJkWVYsRT9NIGaxFDTGKMzh6J+QpqbTledTq+f9rIuJLruG+2YoJcl/tabIqVX2y87nFcDvpwPGOsCa2cCofeTdJxgdlN/S2bay7oRA07mVOcRJ0MPMynx+d17fP30gm+vr1iPIzb0IPFVJx7A+aVaj01B5looqa7JcKTVUY4DZdvoqQ7UW1LvHuIhzK33F3HYTRVXnoh5AAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"62 m2m ui name changed",title:"62 m2m ui name changed",src:"/modernization-playbook/static/2052b5677fe00ed049b90c0046132653/011fd/62-m2m-ui-name-changed.png",srcSet:["/modernization-playbook/static/2052b5677fe00ed049b90c0046132653/7fc1e/62-m2m-ui-name-changed.png 288w","/modernization-playbook/static/2052b5677fe00ed049b90c0046132653/011fd/62-m2m-ui-name-changed.png 422w"],sizes:"(max-width: 422px) 100vw, 422px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"The partition has been renamed to ",Object(o.b)("strong",{parentName:"p"},"web"),"."),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"412px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"21.527777777777775%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAtElEQVQY033PvQ6DIBSGYS+hoKiJ2jj4rwUHHQTqoCb2/m/oK9CljUmHJy/hJITjpWmKruvQ9z3atkXTNO78zzAMqOsaYRiCMYYoilwtrygKnOcJzjmkUtBagYsRD26Ycj662TchBPZ9R5ZlSJLEPWxreVVVYZ5nM7xjPw4oJeEHDDcagPgMxJRS+oMQgmma3EZlWbo7W8vL8xwv80Mp1ceyQOmnsTpa64t1XbFtG+I4vqz8BrDVdbusHTUIAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"63 m2m ui name web",title:"63 m2m ui name web",src:"/modernization-playbook/static/af7927105aeb5f6116646e87e3706cea/005f6/63-m2m-ui-name-web.png",srcSet:["/modernization-playbook/static/af7927105aeb5f6116646e87e3706cea/7fc1e/63-m2m-ui-name-web.png 288w","/modernization-playbook/static/af7927105aeb5f6116646e87e3706cea/005f6/63-m2m-ui-name-web.png 412w"],sizes:"(max-width: 412px) 100vw, 412px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"h."),"\tMove the SnoopServlet class to the ",Object(o.b)("strong",{parentName:"p"},"web")," partition by dragging and dropping the SnoopServlet class from the Unobserved partition to the web partition"),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"960px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"34.72222222222222%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABcSAAAXEgFnn9JSAAABRElEQVQoz3WS207kMAyG+yJzaHNO0yPT7ghKhxmEYKVlJJ5h7/f97751y0oLSFx8suPEdn4nmbUWZx3eBrQpVoKPpDIRY2TZ/4gx5pP/lczbiFcdRa4Z3ZVjvEoDT+kOWB1QSv1HK7zz5HppbIjihxW3WidNpGCSZClodlLsF2N4QYnf/+go60B3aBgOA+Mw0jQN0Th+T6/87CasMiRRtlC7yE2syZzcsC2PtGmgbw90QpvGNeaCY5xazs8Td/OR/qYnucDb7SOznNttNoRcsRebb7f0PpEturVZJBUMw7BSqEWSXmeiCi1SC2wp1IpRZpvyHJ3vmHzFn/srersh7vfcyk2zjwPXWq98fYgVLfvWyEgqTsJUt9yVNXMlNjWcm55Z4tm3ryfJ1th3rPkXf19XseTxdOLpfBH7wGU+UQX5EZL3F4CV0eK8hHRGAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"64 m2m ui drag drop",title:"64 m2m ui drag drop",src:"/modernization-playbook/static/19622aae09e963b0f73a1a8b70c76cfe/4552c/64-m2m-ui-drag-drop.png",srcSet:["/modernization-playbook/static/19622aae09e963b0f73a1a8b70c76cfe/7fc1e/64-m2m-ui-drag-drop.png 288w","/modernization-playbook/static/19622aae09e963b0f73a1a8b70c76cfe/a5df1/64-m2m-ui-drag-drop.png 576w","/modernization-playbook/static/19622aae09e963b0f73a1a8b70c76cfe/4552c/64-m2m-ui-drag-drop.png 960w"],sizes:"(max-width: 960px) 100vw, 960px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"The ",Object(o.b)("strong",{parentName:"p"},"SnoopServlet")," is now located in the web partition."),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"974px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"34.02777777777777%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABcSAAAXEgFnn9JSAAABUklEQVQoz21Ry07DQAzMX5TQhqTZ92Y3zUNq2pBWBYpUbtAL4gsQ//8BgzdRKg4cJrO2nPHYjoQQkFJCSUPQYCKjWMGYAt6VsMQhHzDX/uWcM6QsB6d3iCMpBayoIZmDZhsc7Be8bmHlBkZsoHlJ8DCc3tLRT/wmZpVG7xqcqz2csmM+Ch8jKuQsA2cSz/6bWFGc4y6OEd/HSNIEacqoSX0TDHDa4tIM+DldUYwTKkShkyNHzjlYa1HpDI1S8DnD9XLBadthvVigSNZwsgSXk2AYsSlKbOsWbdVg66p5ZOq29liulkgIbrmiFXDkyRKfH+94O7+AZw9ohUIl/CQoJodd1+E4HPC473EgLoqCHI47bGhP074a5nGiMV53T9iaBruixbHuMfiO6ixC/SyotYY2hg44YdzhdDE1XVkZsk1ONjX6fqC8HmPO5YhZLLAQ/+MXRjvQWjv9JtkAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"65 m2m ui snoopservlet moved",title:"65 m2m ui snoopservlet moved",src:"/modernization-playbook/static/9a6b5ca5a81ef2d413276581081836eb/3df5d/65-m2m-ui-snoopservlet-moved.png",srcSet:["/modernization-playbook/static/9a6b5ca5a81ef2d413276581081836eb/7fc1e/65-m2m-ui-snoopservlet-moved.png 288w","/modernization-playbook/static/9a6b5ca5a81ef2d413276581081836eb/a5df1/65-m2m-ui-snoopservlet-moved.png 576w","/modernization-playbook/static/9a6b5ca5a81ef2d413276581081836eb/3df5d/65-m2m-ui-snoopservlet-moved.png 974w"],sizes:"(max-width: 974px) 100vw, 974px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"i."),"\tMove the ",Object(o.b)("strong",{parentName:"p"},"IncrementAction")," class from ",Object(o.b)("strong",{parentName:"p"},"partition2")," to ",Object(o.b)("strong",{parentName:"p"},"partition0")," by dragging ",Object(o.b)("strong",{parentName:"p"},"IncrementAction")," class from partition2 to partition0"),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"747px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"47.91666666666667%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABcSAAAXEgFnn9JSAAABtElEQVQoz4WSSXLbMBBFeYUsI1scMJAEOFqkRNIcXCrHsb1IZZsL5A65/c8HJbpc2njR1QAJvP6/G55MUwhrIIyBZIgs496ue8V/sdbQcQzNHDN/FV7Ii74Q8KMI/m6Hby8/sOtOCPd7hARvwO3CV2Avogo/CCAIrasKD6cT6sMBB0Za10iTZIXcgj72+lYhgQHVBWGIhGslJSKug1DQeo6MKjO2wdDJBvoM15/CuSHQIKBCRYtaKex9H/7eh7Qh4sas35TSVGpgjb2CCVVy/RdrBtcu69UyLd3T7vdlhmQFSYVS8lAukRwNnt8WvP/6ifPLjLf3VxRFAWsZVYs4K6G51nmN2Fz67cnrdO+ezzxooQkUbIGIWLWsUBYlmmODpqvQjiXqY4rysYUtMpS//0L/+UdH99Blu6r0NCtmHECe58iZhespKwVJvD4nZ8spVgwpWCRRqNsa0+EBQ9VgaHr0dFmbEsoBlWswlQ3Lgsd5xnI+ox/Hyxu8maj9GFCO/jjhaZgwnQbMw4I8Ky5AdzjhYTdNQ4il/fT6oDeYG4RzsE3a9bnve4zTiK7r0PUdlV+e13/wCyhzF2fkcwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"66 m2m ui drag drop 2",title:"66 m2m ui drag drop 2",src:"/modernization-playbook/static/0b4d0780958d51bdbfc272b7a30a3bd2/0a25c/66-m2m-ui-drag-drop-2.png",srcSet:["/modernization-playbook/static/0b4d0780958d51bdbfc272b7a30a3bd2/7fc1e/66-m2m-ui-drag-drop-2.png 288w","/modernization-playbook/static/0b4d0780958d51bdbfc272b7a30a3bd2/a5df1/66-m2m-ui-drag-drop-2.png 576w","/modernization-playbook/static/0b4d0780958d51bdbfc272b7a30a3bd2/0a25c/66-m2m-ui-drag-drop-2.png 747w"],sizes:"(max-width: 747px) 100vw, 747px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"The ",Object(o.b)("strong",{parentName:"p"},"IncrementAction")," class is now located in partition0"),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"895px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"35.06944444444445%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABcSAAAXEgFnn9JSAAABR0lEQVQozz1RO3bDMAzLOdrGliWR+tmxncFxMmTs2gP0/udAITnpgEc+iQRA8uRDgIsRNihMKRhShHu9VYgqVISxwrfoZfjPj/gC606WTZ21sMagezxg1wWGeT8M6D2LKql4qAYEPxIFk+5IsrQ8yYwoE+Ol1RyEXYdIVxc6nMaxKfWfn+gp5PmvVM9xQgkLc8Fz/MUoG6yz6MwZg6FjWxA0vQjpyNJNc9b3HFlxjgGWxJECiXlJM0EnmQLRQYPne8amP/g6f3BCPQgdd9RdJpj7DiGh46hCEnO/t/1JShDvELXADwl9ZzD0rjVXgdv0jZILxnRFEBJ6NqRlQb7ygUQuZ+R5RuL4lbgerR5FSZ50Qg7HzrbrA4/bk0KJZCtKnFmnOFUXjuMqG7d9x41Y1hWuXVAbUXNaLy3va3oEriVwFZ75G/XqfzibzC9VTOuNAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"67 m2m ui incrementaction moved",title:"67 m2m ui incrementaction moved",src:"/modernization-playbook/static/f658aa8144b5dffdc03c8b9fab328ba6/02f43/67-m2m-ui-incrementaction-moved.png",srcSet:["/modernization-playbook/static/f658aa8144b5dffdc03c8b9fab328ba6/7fc1e/67-m2m-ui-incrementaction-moved.png 288w","/modernization-playbook/static/f658aa8144b5dffdc03c8b9fab328ba6/a5df1/67-m2m-ui-incrementaction-moved.png 576w","/modernization-playbook/static/f658aa8144b5dffdc03c8b9fab328ba6/02f43/67-m2m-ui-incrementaction-moved.png 895w"],sizes:"(max-width: 895px) 100vw, 895px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"l."),"\tClick on the ",Object(o.b)("strong",{parentName:"p"},"Save")," icon to save the updated custom view. The customized final_graph.json file is saved to the Downloads folder. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"345px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"107.29166666666667%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAABcSAAAXEgFnn9JSAAACZUlEQVQ4y51Uya7iMBDM6V0A8VgTIAlr2HehYdGwjAQSSBxYJA5PcOH9/zf0dLVkT4gAPc2hZMdpl6u7yzby+Tz9D3r9PrWrHi0tizaVCh1aTVo6DhnJZJISicSPgfhYLEa/VysalstU+/igyWRC319fNOV1I51OE2Ca5o+B+BQjm0rROB6nWSZDf2ybfvGaUSwWyWGp74gtTiv4rZBishSPCd5r5XJkVKtVIXRdV2qDuc2nYQQyvAHIcTDWs9msEMnhCjiIxwyvG7VaTTZcLhe63W6C4/FIh8NB5vv9ns7ns3xfr1e63+80Ho8pzqn6leMA8BjNZlNOhroKd8vzPEGpVKJGo0Hdblf+IRjqEIt5sDyasN1uSxCU9tkKo9GIBoMBdTod6vV6gjJ3E92VZnAjVL2D0ApRq3eBgL8Rr4AMDKSHhkjHAqTwHdJRjXlHhvic6jJSns/ntN1upQnL5ZLW6zWdTicpBdJHHNJW9VKACBDBfvinCVutltRvOp3KCBKQIVgpfOZTVQ4VowlReJAoPFOk5n4yfXNYqSZEUz4/PykcDgtCoRBFIhHxWjQafSB+pvDBNkohUl3xhZ/NZjKijrvdjjabjahVDXpF9kDoODbV63UaDIfiRZBihB9xK2BypfIVqXKDTrnGb1vVK1ODiQuFgjQENyeYsh9Yg3JYb7FY/LONPAIuj+UeuYUS+5IfC75u8CfMCqguPgOIlBs0oWl7ZLotsrIO28DUVgiSvfpWL5Ev5Qp12ngMOvIgAHgcUEdcT3W//UCqKAcsgzsPHk1oiXRbywdwohqhwL+m5kHVfwGCozy82WEmZwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"68 m2m ui save changes",title:"68 m2m ui save changes",src:"/modernization-playbook/static/f4b7ca0e2a802b93657ddda9c5532d41/8e149/68-m2m-ui-save-changes.png",srcSet:["/modernization-playbook/static/f4b7ca0e2a802b93657ddda9c5532d41/7fc1e/68-m2m-ui-save-changes.png 288w","/modernization-playbook/static/f4b7ca0e2a802b93657ddda9c5532d41/8e149/68-m2m-ui-save-changes.png 345w"],sizes:"(max-width: 345px) 100vw, 345px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_8.4")," Regenerate the partition recommendations by rerunning AIPL against the customized graph"),Object(o.b)("p",null,"To generate the new microservice recommendations and the relevant reports for a modified graph you must execute the AIPL tool with the regen_p option. "),Object(o.b)("p",null,"Additionally, the AIPL tool must reference the customized version of the final_graph.json file. To prepare to run the AIPL tool again, you must first do a couple of manual steps: 1).\tMove the customized final_graph.json file from ",Object(o.b)("strong",{parentName:"p"},"Downloads")," folder to a known location by Mono2Micro. 2).\tRename the customized ",Object(o.b)("strong",{parentName:"p"},"final_graph.json")," file to a name that makes it obvious this is our customized graph and not the original. 3). \tModify the Mono2Micro ",Object(o.b)("strong",{parentName:"p"},"config.ini")," file to reference the name and location of the customized graph file. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_8.4.1."),"\tCopy the customized final_graph.json file from users ",Object(o.b)("strong",{parentName:"p"},"Downloads")," folder to a known location by Mono2Micro’s AIPL tool, and name it custom_graph.json"),Object(o.b)("p",null,"By default, the AIPL tool will look in the root directory of the application-data folder where the contexts, logs, and tables are located. "),Object(o.b)("p",null,"This is the directory structure that was setup for the initial run of the AIPL tool earlier in the lab. All you will do now I copy the final_graph.json file to this folder location where it will be discovered by the AIPL tool. "),Object(o.b)("p",null,"Run the following commands to copy the file, change to the target directory, and list the files and ensure the custom_graph.json has been copied to the desired directory"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cp /home/ibmadmin/Downloads/final_graph.json /home/ibmadmin/m2m-ws-sample/defaultapplication/application-data/custom_graph.json \n\ncd /home/ibmadmin/m2m-ws-sample/defaultapplication/application-data\n\nls -l \n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"937px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"9.722222222222221%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAkElEQVQI1x3Fyw6CMBQFQP7/pyQk7hQLohDbQAUBEVCexUhvj8bFZKxYZpSkBWXFg2TekCxbSiJBwvVJsID478veo9gLqMoq6pShfl6pHTQ9R02j0tT0q57fxmyPzWSdzidwwZHecoRJgVCW4H4AZm/AHAeubf9d2QF1dke3AIMyqHqgnYDlA9SDwbICu+ilvgI4kiOkWR7XAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"69 ls",title:"69 ls",src:"/modernization-playbook/static/05bdb1969e389c32d813d2bb9d8bf66b/e420b/69-ls.png",srcSet:["/modernization-playbook/static/05bdb1969e389c32d813d2bb9d8bf66b/7fc1e/69-ls.png 288w","/modernization-playbook/static/05bdb1969e389c32d813d2bb9d8bf66b/a5df1/69-ls.png 576w","/modernization-playbook/static/05bdb1969e389c32d813d2bb9d8bf66b/e420b/69-ls.png 937w"],sizes:"(max-width: 937px) 100vw, 937px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_8.4.2."),"\tFrom the same folder as the custom-graph.json, modify the permissions for config.ini so that we have write permissions"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"sudo chmod 777 ./config.ini \n")),Object(o.b)("p",null,"When prompted, enter the sudo password for ibmadmin:  ",Object(o.b)("strong",{parentName:"p"},"passw0rd")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_8.4.3."),"\tEdit the config.ini file to reference the new custom_graph.json file to be used for regenerating the partition recommendations. (Use any editor available)"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"gedit ./config.ini\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a.")," Modify the config.ini by changing the value for the ",Object(o.b)("strong",{parentName:"p"},"UserModifiedGraph")," property to ",Object(o.b)("strong",{parentName:"p"},"custom_graph.json"),"."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"b."),"\tSave and Close the config.ini file."),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"927px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"71.875%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABcSAAAXEgFnn9JSAAACBElEQVQ4y51T2W7bQAzU/39N0Ycm7wniFomPNJcdy2piS7J1S7u6JXJK2bXbh6JJusBguAI5IJcj4/uj2U+mM54/L2k8nZHtbClJFUVxSnGSURDG5Pkh+UFE641Dk9kdrazX/TdPvvleQIurEV18OafrT5/JmE9vaXk9gm/bcF0HWZqgbRpUVYm6qlAUObRWUCpDlmVQguG+j5VCLnHkOHCtFbamCWNiW/1st4SThewEHruOy3GSMAAezsAfgbFzdpT6W2RRwEUSo2tbdF0HHBQ/BiIYN4+3dPPwDdbrkj3rBzbrtYxZgPr+v0SN0euCrjb3WARrfnFtPD49IYoiHKbFid97jG0YUZInyErNuspRlRX6P7p7b5fHPGNlmhSqCLqtOClla00Jqnt5D0nE+0f9LWhZ5GxWiLOY00pD1wV6EQThsLjjxG+MfhQ15uYzuc4L3HjHrgrg6Qh5XSHTGnGaIkoSpOK3gaM43r9vLOz7/t6LQRCgEd+eOgxdjwrfQ10W3DOBZPWNFJdhiFKKC2EtxdqTHBEe3vdorSFuJR5qToJXD9N+vBjznb3gqbPge2fJ1tcRT87PeXx2tsf84oLNy0tWtn0w8F8MfzzGTinOuxJZnWNYihJu2ubX76aENbpeuqEexPS2bfKCSsmrJb+iA9ddz7Us+YTh3g7oqG4E7T/wE7W3NPYW+oGaAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"70 save config ini",title:"70 save config ini",src:"/modernization-playbook/static/7d130337da9c54b627dd451bf1baec62/14ef7/70-save-config-ini.png",srcSet:["/modernization-playbook/static/7d130337da9c54b627dd451bf1baec62/7fc1e/70-save-config-ini.png 288w","/modernization-playbook/static/7d130337da9c54b627dd451bf1baec62/a5df1/70-save-config-ini.png 576w","/modernization-playbook/static/7d130337da9c54b627dd451bf1baec62/14ef7/70-save-config-ini.png 927w"],sizes:"(max-width: 927px) 100vw, 927px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_8.4.4."),"\tRerun the AIPL tool with the regen_p option to generate the partitioning recommendations based on the updated graph file. "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"docker run --rm -it -v /home/ibmadmin/m2m-ws-sample/defaultapplication/application-data:/var/application ibmcom/mono2micro-aipl regen_p\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1029px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"60.06944444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABcSAAAXEgFnn9JSAAACAklEQVQoz31S247aMBTM/39IH6s+9alSW3W7C1sgIQnkThLCckuAitxPcnxqW4AKXdXSeMZja3TsY+Xrp8/95OkFR9+fUOU8+fGM+vMQtZ8DVC969jpCY/AL7bGGnqqjNVLRHI4w0Ge4cnyMZzYmtoch31fGfMM1DbINnQQ7Bte60OZNW9MpBZZF1e8TQZFTez5LQJ5TV1xQFlSfTqT4YYLZ8Ui7NGXp4cD2acaumvssOxylt88yVpQlq+qaEdG76PqeKcnbDpu6plIcriqquW7bVqxvYEycJ8l930t+hBgAQIoxczBJEoriJYvimOLlkgRHUUSLRUjJakVZllF2OFDKueu6W/h13AWq+hz9ICDHdZnjeoLJ833JtuNIzPn7WbYttaj+GiJBDxVqhgj0yfU85nm+DFuEoQyMopjqppFVAXTUI95VxOidwOFIwynvpKbrTDdMwWTO5zRRVV6RS3gJebzeXze+D3T9CPfpnjbbLdvudrTebGi3l2vJogki9MqPjfinKdFqjeJdxJcoy0p+jbKqWAvA6roRnZd+XhTS73uUGWJGPl1ZeG0LTNE0nRF2VJU5NXUp0UFD0PLv01QSwiuKs/T+P5CUDx+/tGNz0Q0mLmjzGIaqB69TX+Lbiw5jI4SZtwbdTsAKthKG+wZenEG8zSHanGG5yWHJdZAc4Q9ejYVXBxArvwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"71 docker run",title:"71 docker run",src:"/modernization-playbook/static/a784cd5e6ed7cfee2bba08de8a3c348a/d51b4/71-docker-run.png",srcSet:["/modernization-playbook/static/a784cd5e6ed7cfee2bba08de8a3c348a/7fc1e/71-docker-run.png 288w","/modernization-playbook/static/a784cd5e6ed7cfee2bba08de8a3c348a/a5df1/71-docker-run.png 576w","/modernization-playbook/static/a784cd5e6ed7cfee2bba08de8a3c348a/d51b4/71-docker-run.png 1029w"],sizes:"(max-width: 1029px) 100vw, 1029px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_8.4.5.")," Explore the generated Cardinal report based on the customized graph and regenerated recommendations from AIPL"),Object(o.b)("p",null,"The AIPL created a new folder based on the user modified graph in the following directory: ",Object(o.b)("strong",{parentName:"p"},"/home/ibmadmin/m2m-ws-sample/defaultapplication/application-data/mono2micro/mono2micro-user-modified")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a."),"\tList the files / folders of the generated directory."),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"ls -l  /home/ibmadmin/m2m-ws-sample/defaultapplication/application-data/mono2micro/mono2micro-user-modified\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"964px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"23.958333333333336%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABcSAAAXEgFnn9JSAAABAUlEQVQY012QD2+DIBDF/f5fsJutiiKtKCgof9qOuxuyLFl2yS/HQfJ496rLZwOXuoX6xuDWDVA3PTQdh5aNwO8SGL/DQyqY5hWkMqDWHRZtQS5bYVrKfVq0ISb0XBmzUgiBjmPPHOSdI2sNxRhp3y1ZF8iENxEhIQBBSgSQyvynyhCeSVUuCzjncRSioLTGrmO4risOnOMwCrw2XXnbjEFrbSHEiJj/+K1T0MWvpXLZmfeehBAF7x31fV9cCjFSjoHanpOUExmzlU1O5+cmP07/ORzGB3IhMWeGDeOlZ5HSP64dKuNwUhZzdpizw1ltOGuDLrwxvhJmkRPIZ9L2tXwDlJl6kSm5gZEAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"72 ls l",title:"72 ls l",src:"/modernization-playbook/static/16bd4f83df3a8896eee2bed9274aea8b/0fdce/72-ls-l.png",srcSet:["/modernization-playbook/static/16bd4f83df3a8896eee2bed9274aea8b/7fc1e/72-ls-l.png 288w","/modernization-playbook/static/16bd4f83df3a8896eee2bed9274aea8b/a5df1/72-ls-l.png 576w","/modernization-playbook/static/16bd4f83df3a8896eee2bed9274aea8b/0fdce/72-ls-l.png 964w"],sizes:"(max-width: 964px) 100vw, 964px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"b."),"\tView the generated Cardinal report to verify the partitions and exposed services are defined as expected. "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd  /home/ibmadmin/m2m-ws-sample/defaultapplication/application-data/mono2micro/mono2micro-user-modified\n\nfirefox ./Cardinal-Report-Modified.html\n")),Object(o.b)("p",null,"The Cardinal-Report provides a deep analysis of all the inter-partition invocations, the types of all the non-primitive parameters passed to partitions during their invocations, and foreign class references within a partition. "),Object(o.b)("p",null,"Classes are foreign to a partition if they are defined in another partition."),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1022px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"65.625%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABcSAAAXEgFnn9JSAAAB0ElEQVQ4y4WTi3KjMAxF+f/v2zZtaSAJDwcIYB5+YlkrA91NZpstM2eu0MCdi2SiY5K7j7cP/xknEL/H8Hk8QXxMV5L0DMfkBFnO4D0+QnrKQEgNxjrQ5hHq4TCbOmouBWQvvzA7HLCKY7TW4rIspMtaB4wxf2qlFEqpUMlNd7ymPh9FEwllIRiwevJp1vuqNb4dwN84rPpV37h76N0T+nwCFGppIk3xka5br31WjphfJ2LGgvjSbvQEPqUd0A+zR6ldEymzGTad8pdywIyNG8GcTWtd1mI3/Z528H8NtYXVsCbDNOd4LgY8Bd0J9YXMq27Bdk0TDPCBGxnyaTeUQgPQ0Lt28vVtpk9XK00rKLVc6bjBSXocxVO8ULshS86QHl4xf3/zc9+hsQa1VmjuCPdayf/hw3P9MDfRPElwWuP1yv057yiRprk47IY7xh8YHM3Q4SwtzXDx25a59dm62W3L+d2Ww9x+3jKiMrBu2ZGfp2RAwwcyJOZVi2rTspZALwIZ/8u4Kd+2XIdziPs5pCNCiSqxp5s26OiElHVnsZ+eJsQtoeujQdjCLp5RCpZknJ2KkZ3LiaX5wE75uOqFCVb3wKrOfcu1dSX9STWf7ctvSNPfbmsWbOQAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"73 m2m deep partition analysis",title:"73 m2m deep partition analysis",src:"/modernization-playbook/static/6831633108028abdee89d834f1889c65/ebabd/73-m2m-deep-partition-analysis.png",srcSet:["/modernization-playbook/static/6831633108028abdee89d834f1889c65/7fc1e/73-m2m-deep-partition-analysis.png 288w","/modernization-playbook/static/6831633108028abdee89d834f1889c65/a5df1/73-m2m-deep-partition-analysis.png 576w","/modernization-playbook/static/6831633108028abdee89d834f1889c65/ebabd/73-m2m-deep-partition-analysis.png 1022w"],sizes:"(max-width: 1022px) 100vw, 1022px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"c."),"\tReview the partition0 Partition."),Object(o.b)("p",null,"Partition0 should include three Member classes:   "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Increment"),Object(o.b)("li",{parentName:"ul"},"IncrementAction"),Object(o.b)("li",{parentName:"ul"},"IncrementSSB")),Object(o.b)("p",null,"Partition0 should have one External Facing class:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"IncrementAction")),Object(o.b)("p",null,"Mono2Micro detected that there are classes outside of partition0 that call methods on the IncrementAction Class. "),Object(o.b)("p",null,"During the code generation phase of Mono2Micro, the Cardinal tool will generate a REST service interface for the IncrementAction class, so that other microservices can make the remote method calls in a loosely coupled Microservices architecture. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"864px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"85.06944444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABcSAAAXEgFnn9JSAAACXElEQVQ4y6VT23KbMBD1//9T+pY+tJ0kjhM3QGwM5mrA3ASIi/Z0wdT2NK3bmWrmcNjV6kgr7S52bty/by31ZphK31hKe98p0/ZUklcqycTMpYqPhYrTPyMZmWMWhzhVhzBA4HkI9zZ820LkuajzDFV6hDgmqMsCsqnR/AMWVdMP4DFkGe3WO1p+1Wn1TafllzfSni0ytYC2K4sOKSg8EvNvMPvH+VFQjYLN4UBZViFvgKIhlDNXHRBuXYiaINh3CyXHXAlG1FZi/J3Sa2WNn0N4Dn9ptugmzoJ1GFLbNGj7Hvf3n3F39wkPj48oypIFPShFpyV0C1eCMk0psyzkjgP79RXm8zM2T09IbRsZ4yRGNzFuyoKDmhOhgU83dN1ly/GxRt8wgJTiBWriX6Gu+CJI50v6r3FOmXeggeutLwqM/HeUOMXnJ+QMIS6CnajIWG5hGBEMLYA+IZxY03xobz4MPZz9wWTrbG83CSOGucugP7xflU0h6OUlwMoUWG1yLI0MSz2d+Hn8N1L2FzPys21FmLDPAG3lX5+wpDyMILlvRN2haRWXED6g5gBeM/MwxY6oOkJs7i+CbVlSFUXI+T5cZw/B93OqY3UBv1vge3DdPTzXgcO9P8b63PsO29739aWX21KQiGPKipL8ICDPDyiKkw+1rLjgur6nfhg+tInwfVrw0WlOGYJ372QDkWWo+bUltyL13QljfXI9Jgd+mPUaLjeB6lr2t1CtnDIo2bdI8raWnZJlUcvAMGVkuTMcedg5MtzaMjTtmfcy2FjS0TbSZz6wPfnnOVffyh8iiRW06EFxbAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"74 m2m partition0",title:"74 m2m partition0",src:"/modernization-playbook/static/3de8519c94e308076e4d7b9aca0b63f4/323ab/74-m2m-partition0.png",srcSet:["/modernization-playbook/static/3de8519c94e308076e4d7b9aca0b63f4/7fc1e/74-m2m-partition0.png 288w","/modernization-playbook/static/3de8519c94e308076e4d7b9aca0b63f4/a5df1/74-m2m-partition0.png 576w","/modernization-playbook/static/3de8519c94e308076e4d7b9aca0b63f4/323ab/74-m2m-partition0.png 864w"],sizes:"(max-width: 864px) 100vw, 864px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"d."),"\tReview the web Partition"),Object(o.b)("p",null,"The web partition should include two Member classes:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"HitCount"),Object(o.b)("li",{parentName:"ul"},"SnoopServlet")),Object(o.b)("p",null,"The web partition invokes one class method residing outside of this partition:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Outside partition: partition0"),Object(o.b)("li",{parentName:"ul"},"Class Name IncrementAction"),Object(o.b)("li",{parentName:"ul"},"Methods:  getTheValue and increment")),Object(o.b)("p",null,"Mono2Micro detected that classes in the web partition call methods in partition0.  "),Object(o.b)("p",null,"During the code generation phase of Mono2Micro, the Cardinal tool will generate a Proxy for the class to call the REST service interface in partition0. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"877px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"79.8611111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABcSAAAXEgFnn9JSAAACKUlEQVQ4y4WUC3OjIBSF+/9/XGc23e20UZMaq/hGQTEqcPaKycZsX8x8HrjA4SrgAyvlHEbMHE9Mx1mluRx0LRSxasU7XTU/wLu5bjskuTg+CKlMXVdIoxNiz0eTMPCFOIEoSqjhDKWGn7DDMKBu+vBhGLUBlT4vbRAU9tXL7d4v7FvY2HCf2rS2NucgrvqRjFtTNECU6Y1hUVhLOs4a0xqCKitoY7F0GHp8ibGrx3ljKFlqtVLYP//B7vGRXrdAn6Zuwlqu+llZDcnrZjgpZVVVQdUcPWlHhoMQlwzMksU30AAa1w/zzfDLFFyGP/IxQ0tlWW1pmQuubj+i3bh17Iqbim7YGKoRdhf0ePIFfnktngLpdOfqHXYUd3VfImBAkFj4xEXNgVk8nzaGM32FUz7iEHeEdHpMFvr/6BDRuEIA+ZUWppDAKd8Y6mm2kc9w2McIXiIcXt/vCBalPgfV47ACizhdCL6oyd4bsGK6GZ6FtP7vI45vJQI/RRBk8D3m8BalmHdpL33ePkGSSGSZQl6MJqZYeBI3w1FKqxqBiVrjpGG2G+0+CW2CvT8OLk7TR23N0LRoqo3h1HVW5BnKqkRBeqa7SftOB8JAzzOSOEbKGMbxTDFaUGt3pFTfg3Nuzg2HqNv7DPtWQppPjiLR0CGvOEcr5V3fRIsVNTdVQj8TLjeGlCE/HNGyFJI6O8rmH3QFVZ5jIBa9xper2UQR3l9eTO7tIRoZ/gUBpMtDpG6RVAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"75 m2m web partition",title:"75 m2m web partition",src:"/modernization-playbook/static/744a69ae48be362b839ce62a71302296/fbb82/75-m2m-web-partition.png",srcSet:["/modernization-playbook/static/744a69ae48be362b839ce62a71302296/7fc1e/75-m2m-web-partition.png 288w","/modernization-playbook/static/744a69ae48be362b839ce62a71302296/a5df1/75-m2m-web-partition.png 576w","/modernization-playbook/static/744a69ae48be362b839ce62a71302296/fbb82/75-m2m-web-partition.png 877w"],sizes:"(max-width: 877px) 100vw, 877px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("h3",null,Object(o.b)("strong",{parentName:"h3"},"Part 3")),Object(o.b)("h4",null,Object(o.b)("strong",{parentName:"h4"},"7.4 Generating Initial Microservices Foundation Code")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Objectives")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Learn how to use Mono2Micro tools to generate a bulk of the foundation microservices code, while allowing the monolith Java classes to stay completely as-is without any rewriting ")),Object(o.b)("p",null,"In this part of the lab, you: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Use Cardinal to generate the microservices plumbing code for the two microservices (front-end and back-end)"),Object(o.b)("li",{parentName:"ul"},"Refactor the transformed Microservices",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"Move the static and non-Java artifacts from the monolith application into the individual microservices"),Object(o.b)("li",{parentName:"ul"},"Refactor the minimal set of artifacts so that the transformed microservices will compile and run in OpenLiberty server in Docker containers.")))),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1039px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"56.25%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABcSAAAXEgFnn9JSAAACfElEQVQoz11S2Y7cNhDU9/tX8mIHQQADsR0YydgZ79ir3Z1Do/vW6BZ1H81KzzpPaaAIkN2srmJTabplW9eN/Gqkdx8Mev+XRxdP0NdfHunrrz8oK2tyLxklSUHjstI0bzQvRPNKNC0bjfMrVj4Hcz0qnJDgqNoJ318ifP5i42KnOO4MPHx6Qdf36OoBfTvcy0BcPs8rpmnBtm34L+i+cCNVWbnTfSMyIR3DlmmQSzPI5LNhSCNOpX72pKHpMnRj2RRC2nYgDwdVXjVT5llzF8OQr8xsQFXydqa0WxEWg+z7e2dC2IysMoCTd3D9ArekRN3MGKcNcVbjeHXgRTkKMYGdYpgkjXyvaBdV+edU0f6bjrPesrIKnt9it/cQRC30hGD1G/RmgV8I3PhSJhbYbgo/LFHwU0S3CofvZ7KdEJrXqsqz2dBu7+DLUyYvfgL7JpjQ5SIHD0aHY9ZBK3qc3BjJJJFy/tvuAcbFRB6VyNIS57NFYRDDDoSqTONGaVohF61M2EaSFjjqHp6uPhw3QT8sMP0Ajy9HzqWgdcPQT5iGGeuyIbjXGyFZaYtArEzYbzRUr5OUnhkiNgt4egDvHMG3IkRMfDoFUC8ZfC3AWAvUlcDQTTxlycQDgrgk0c2Y+pkJO6KGbQhWWBUNXlHWKLIKdd3C1QwcHlL8uQvx+aMGi5uphyufhzzbDWu14u3+N/rj+BGRWqiK797IMV34XiA7MXDXFevK2H6ia3qEVwsqv5upOSjjEuajDu9kobJcDLmA+eRSFmZoikFVLCMgXdOZMJQjy/5/hPzJn39ccH7WkcY1oqOB898Htu/B2R+RWzF+f/OJCqe6f0j1X/xFMRtstAURAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"76 m2m flow",title:"76 m2m flow",src:"/modernization-playbook/static/29d0e6351d49b4bd47c926920104e679/31c63/76-m2m-flow.png",srcSet:["/modernization-playbook/static/29d0e6351d49b4bd47c926920104e679/7fc1e/76-m2m-flow.png 288w","/modernization-playbook/static/29d0e6351d49b4bd47c926920104e679/a5df1/76-m2m-flow.png 576w","/modernization-playbook/static/29d0e6351d49b4bd47c926920104e679/31c63/76-m2m-flow.png 1039w"],sizes:"(max-width: 1039px) 100vw, 1039px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"After going through the microservice recommendations generated by the mono2micro-aipl container, you can use Mono2Micro to automatically generate API services and related code to realize the microservice recommendations. "),Object(o.b)("p",null,"This is accomplished by executing the Cardinal component available as the mono2micro-cardinal container."),Object(o.b)("p",null,"Cardinal automatically performs three crucial tasks for the architects and developers in the refactoring endeavor of realizing partitions (microservices recommendations) as microservices. "),Object(o.b)("p",null,"The tasks performed by Cardinal can be listed as follows: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"It creates transformational wrappings to turn partition methods into microservices APIs"),Object(o.b)("li",{parentName:"ul"},"It provides an optimized distributed object management, garbage collection, and remote local reference translations like the Java remote method invocation mechanism."),Object(o.b)("li",{parentName:"ul"},"It provides pin-pointed guidance on what the developers should check and manually readjust or tweak code in the generated microservices.")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"7.4.1.")," Run the Cardinal code generation tool"),Object(o.b)("p",null,"Now, let’s run the Cardinal code generation tool to generate the plumbing code for the microservices. "),Object(o.b)("p",null,"The cardinal code generation tool requires the following input artifacts and is referenced in the cardinal command for proper execution: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"The parent folder of the original DefaultApplication monolith application: ",Object(o.b)("strong",{parentName:"li"},"/home/ibmadmin/m2m-ws-sample/defaultapplication/monolith"),".  "),Object(o.b)("li",{parentName:"ul"},"The cardinal folder from the mono2micro-user-modified directory that was generated by the AIPL tool using the regen_p option: ",Object(o.b)("strong",{parentName:"li"},"/home/ibmadmin/m2m-ws-sample/defaultapplication/mono2micro-analysis-custom/cardinal"),".")),Object(o.b)("p",null,"For the lab, you reference a saved version of the cardinal folder when running the cardinal tool. This is just to ensure a known good dataset is used for the code generation: ",Object(o.b)("strong",{parentName:"p"},"/home/ibmadmin/m2m-ws-sample/defaultapplication/mono2micro-analysis-custom/cardinal"),"."),Object(o.b)("p",null,"If you would rather use the cardinal folder that was generated during the lab, use: ",Object(o.b)("strong",{parentName:"p"},"/home/ibmadmin/m2m-ws-sample/defaultapplication/application-data/mono2micro/mono2micro-user-modified/cardinal"),"."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_1."),"\tRun Cardinal code generation tool using the following command: "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"docker run --rm -it -v /home/ibmadmin/m2m-ws-sample/defaultapplication:/var/application ibmcom/mono2micro-cardinal /var/application/monolith /var/application/mono2micro-analysis-custom/cardinal\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1022px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"25.34722222222222%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABcSAAAXEgFnn9JSAAAA9ElEQVQY03WP2W7DIBBF/f//1ocqVVq1iRPb4AUD3m22YQo4Up/6cHSGO2IGsstXbknDoGUSStLCo6zhUVDIAwVpoKIdVDX76wWKV50XJPn+JPCsKFy+iclaxkGpA621qLXG4zhrYwzG3BgdcpUMzqEHQIBgfxrSGRDRYz/sLhPDDHHIsiw+sm6b18b4MNwrpfyyrn7fj+R0639Qztpl8WtCCuRCeCkl9pwnWN8ni1fGucBhHBPTPOMYHJmmCY214cEOmdxc9vb+AdfPK/7cbp4xhk3bYtd1GOu4gMcFPUda11g3TepHYk3pmTHWeyk43svO/QLeNnsfyuZKSQAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"77 docker run",title:"77 docker run",src:"/modernization-playbook/static/6b7f11644ae0e7da37012e09333cc811/ebabd/77-docker-run.png",srcSet:["/modernization-playbook/static/6b7f11644ae0e7da37012e09333cc811/7fc1e/77-docker-run.png 288w","/modernization-playbook/static/6b7f11644ae0e7da37012e09333cc811/a5df1/77-docker-run.png 576w","/modernization-playbook/static/6b7f11644ae0e7da37012e09333cc811/ebabd/77-docker-run.png 1022w"],sizes:"(max-width: 1022px) 100vw, 1022px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"7.4.2.")," Examine the Cardinal Summary report to understand what Cardinal generated for each partition"),Object(o.b)("p",null,"Upon completion of running cardinal code generation tool, the plumbing code for microservices are generated, along with several reports that provide summary and details of the Java source files that were generated. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_1."),"\tExamine the ",Object(o.b)("strong",{parentName:"p"},"CardinalFileSummary.txt")," file. "),Object(o.b)("p",null,"This file provides a summary of all the files that were generated or modified during the code generation. "),Object(o.b)("p",null,"The location of the cardinal reports is in a folder named ",Object(o.b)("strong",{parentName:"p"},"cadinal-codegen"),". The path to this folder is relative to the ",Object(o.b)("strong",{parentName:"p"},"cardinal")," input folder specified on the cardinal command line. "),Object(o.b)("p",null,"In this case, the cardinal-codegen folder and associated reports are generated here: ",Object(o.b)("strong",{parentName:"p"},"/home/ibmadmin/m2m-ws-sample/defaultapplication/application-data/mono2micro/mono2micro-user-modified/cardinal"),"."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a."),"\tOpen the CardinalFileSummary.txt file using an available editor"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd  /home/ibmadmin/m2m-ws-sample/defaultapplication/mono2micro-analysis-custom/cardinal/cardinal-codegen\n\ngedit CardinalFileSummary.txt\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"b."),"\tExamine the web partition summary in the ",Object(o.b)("strong",{parentName:"p"},"CardinalFileSummary.txt")," file "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1037px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"39.23611111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABcSAAAXEgFnn9JSAAABcUlEQVQoz02QW0/CQBCF+///jkYTfUPji0TFcGm7tNs7oaXSKyAwM84slrDJl5k9M3t6Umvu6HMQZ+D5ESgvBB0mEEQZk0JR1lC3O2j7AzTdDTd3mbX97z8HsOavb6heRhRMvqgoCianfL02NctS2u93JAcBCBEI4ML1fj4TnE5cT6a31PcM3u/vyF/Y2LQtNk2DVV1jVVW43VZY1w12XYctz4SaZ7IjtH2PRRhi+PmJyXTKzNAK5g6MHx/IZSHnhOVmQ3me05pTrlYrU8uyNIguSN/3PV0P4qVyaitSPnyMRuQphVEcU8wEQUC+75PneabPsozSNDUz0bXWFEURJUliPiqzhOHUbOh6MH5+osVkgjGLGSPLA2IihoIYiGYMuJePDaaSeseprbz4gfl0SvZigUopk8BxHHJd1yQZkgqiyU4YhmZm27a5i9lwrG3dgdY++VqjPJYEy+XSGMhDSTEgc0FSy570om/4vx+PR2P4BzFlUMKYWcfCAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"78 cardinal files summary",title:"78 cardinal files summary",src:"/modernization-playbook/static/06de123cac3906f51fe5775590f5aa0a/12661/78-cardinal-files-summary.png",srcSet:["/modernization-playbook/static/06de123cac3906f51fe5775590f5aa0a/7fc1e/78-cardinal-files-summary.png 288w","/modernization-playbook/static/06de123cac3906f51fe5775590f5aa0a/a5df1/78-cardinal-files-summary.png 576w","/modernization-playbook/static/06de123cac3906f51fe5775590f5aa0a/12661/78-cardinal-files-summary.png 1037w"],sizes:"(max-width: 1037px) 100vw, 1037px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"This section of the report shows the classes contained in the web partition. The report further denotes the types of classes that are in the partition."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Proxy classes are created for calling out to a class to an outside partition via REST API. In this case, the HitCount Servlet in the web partition calls the IncrementAction REST Service class in partition0. "),Object(o.b)("li",{parentName:"ul"},"Service classes are generated REST Service interface classes. A service class is generated for each Java class that is receiving proxied requests from one partition to another via REST API. "),Object(o.b)("li",{parentName:"ul"},"Original classes are the classes that already existed in the monolith and will remain in the web partition. In this case, the SnoopServlet and HitCount servlet are kept as original. "),Object(o.b)("li",{parentName:"ul"},"Dummy classes are classes that were in the monolith but will now exist in a different partition. The Dummy classes throw an exception that is defined in the Utility classes that are created in every partition. "),Object(o.b)("li",{parentName:"ul"},"Utility classes are created to handle the plumbing such as serialization, exceptions, logging, and interfaces for the new microservices.  ")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_2."),"\tScroll down and examine the ",Object(o.b)("strong",{parentName:"p"},"partition0")," partition summary in the ",Object(o.b)("strong",{parentName:"p"},"CardinalFileSummary.txt")," file "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1035px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"35.416666666666664%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABcSAAAXEgFnn9JSAAABc0lEQVQoz12O23KcMAyGef/naW5ylatkptluA0sWzMEnMJBmoRtgvWyMpRh3etFq5hv/kizpD6LncKXRAYrwYEuHUp1t2l+ON1s3nR3Oo/1cwd6MtZ//s6I18C/BcR/Z/d03FITgfJlRXy6otcZ5nnEaR58vy4LL9eq5up7Wrna74XQ64XtZYi+458QYBqLgdnd/j8cwBCElVFXl4ZxDmhL/1nUNQggPYwwopVCUJdC8gMTNkTiGd6VAf3xAIFlt46dH3D5KKVEp5XHDmGUZumXYtq2vuUO+vuneuRunCYfzGfthQO3cbxGIUq7hwwOSQwyVu9I0DSiHlM6lc6TUn7yulXe6ue+6Dvq+h3GcYJ4vsK4W3C6w1kIw/B5tQRLMUod7GS2QljmmyavXglPMsxSLnHg2LTnD1zjC5Bhjoyq3yeDfCAgfbj9janZhbp7DzGx64/sLMfu4NC9H5ns/osKzi3ITJtzrrU9oa9pem7dh8XwBHtMCRTiPUDwAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"79 cardinal files summary 2",title:"79 cardinal files summary 2",src:"/modernization-playbook/static/3c453ef893841b7fba62726302472f9f/64d38/79-cardinal-files-summary-2.png",srcSet:["/modernization-playbook/static/3c453ef893841b7fba62726302472f9f/7fc1e/79-cardinal-files-summary-2.png 288w","/modernization-playbook/static/3c453ef893841b7fba62726302472f9f/a5df1/79-cardinal-files-summary-2.png 576w","/modernization-playbook/static/3c453ef893841b7fba62726302472f9f/64d38/79-cardinal-files-summary-2.png 1035w"],sizes:"(max-width: 1035px) 100vw, 1035px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"This section of the report shows the classes contained in the partition0 partition. The report further denotes the types of classes that are in the partition."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Proxy classes are created for calling out to a class to an outside partition via REST API. "),Object(o.b)("li",{parentName:"ul"},"Service class, IncrementActionService is created based on the web partition calling to the IncrementService in partition1 via REST API. "),Object(o.b)("li",{parentName:"ul"},"Original classes are the classes that already existed in the monolith and will remain in the web partition. In this case, the Increment, IncrementAction, and IncrementSSB classes will remain in the partition0. "),Object(o.b)("li",{parentName:"ul"},"Dummy classes are classes that were in the monolith but will now exist in a different partition. The Dummy classes throw an exception that is defined in the Utility classes that are created in every partition. The SnoopServlet and HitCount Servlet will be in the web partition."),Object(o.b)("li",{parentName:"ul"},"Utility classes are created to handle the plumbing such as serialization, exceptions, logging, and interfaces for the new microservices.  ")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_3."),"\tClose the editor for the CardinalFileSummary.txt file "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"7.4.3.")," Examine the Java code that was generated by Cardinal"),Object(o.b)("p",null,"Cardinal generates the Java source files in separate folders for each partition and are named according to their respective partitions.  "),Object(o.b)("p",null,"The location of the Java source files is in a folder named ",Object(o.b)("strong",{parentName:"p"},"-partiton0")," and ",Object(o.b)("strong",{parentName:"p"},"*-web"),". "),Object(o.b)("p",null,"The actual folder name is dependent upon the input paths specified on when running the cardinal command. In our case, the actual folder names are: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"monolith-web"),Object(o.b)("li",{parentName:"ul"},"monolith-partition0")),Object(o.b)("p",null,"The root folder for the generated source files is also dependent on the input paths specified when running the cardinal tool.  "),Object(o.b)("p",null,"In this case, the monolith-web and monolith-partitio0 folders are generated here: ",Object(o.b)("strong",{parentName:"p"},"/home/ibmadmin/m2m-ws-sample/defaultapplication"),"."),Object(o.b)("p",null,"For the purpose of this lab, it is not necessary to understand the details of all the code that Cardinal generates. However, we strongly recommend learning this before using Mono2Micro with a production application. See APPENDIX A:  Examine the Java Code generated by Mono2Micro provides a detailed look at these generated files."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"7.4.4.")," Refactoring Non-Java Parts of Monolith, Further Code Changes, and Deploying Final Partitions as Microservices"),Object(o.b)("p",null,"After Mono2Micro generates the initial microservices plumbing code and places that along with the monolith classes into each partition, the foundations of the microservices are now there. "),Object(o.b)("p",null,"That is, each partition is meant to run as a microservice, deployed on an application server (such as WebSphere Liberty) where the monolith classes’ public methods are served up as REST API. Each partition is effectively then a mini version of the original monolith, its folder structure mirroring the original monolith folder and module structure. "),Object(o.b)("p",null,"In order to build and run each partition, more than just the Java code is needed of course.  And here is when a key question is usually raised: What exactly does one do with the non-Java parts of the monolith with respect to each partition, and how, in order to facilitate the final goal of running all partitions as microservices?"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"One Approach")),Object(o.b)("p",null,"One approach that you will follow for the DefaultApplication example and highly recommend for most Java applications is as follows: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Copy ",Object(o.b)("em",{parentName:"li"},"all")," the non-Java files in the monolith (i.e. the build config files such maven’s pom.xml or gradle files, server config files such as WebSphere’s server.xml, Java EE meta-data and deployment descriptors such as application.xml, web.xml, ejb-jar.xml, persistence.xml etc) to ",Object(o.b)("em",{parentName:"li"},"every")," partition, following the same directory structure which will partially already exist in each partition. "),Object(o.b)("li",{parentName:"ul"},"Starting with that as a base, the aim then is to pare down and incrementally reduce the content of all these files (based on knowledge of what functionality each partition entails, and/or through an iterative compile-run-debug process), ending up with just the needed content in each partition. "),Object(o.b)("li",{parentName:"ul"},"After this is done, each partition will indeed be a mini subset of the original monolith and working together with all the other running partitions and finally become microservices that provide the exact same functionality as the original monolith.")),Object(o.b)("p",null,"As each partition is now becoming a separate microservice project and will be developed and deployed independent of the other microservices, ideally, you would create Java projects in your favorite IDE and follow these basic steps for new microservice projects: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Create a Java EE web project for each partition and set the runtime target a WebSphere Liberty installation"),Object(o.b)("li",{parentName:"ul"},"Import the partition from the filesystem into the project"),Object(o.b)("li",{parentName:"ul"},"Ensure all partitions module folders containing Java source files are correctly configured as source folders within the Eclipse tools, rooted where the package directories are (this includes the monolith module folders as well as the application utility code folder generated by Cardinal. See previous section)"),Object(o.b)("li",{parentName:"ul"},"Build the project and observe any compilation errors")),Object(o.b)("p",null,"In this lab, you will make the minimal set of changes for the web and partition0 partitions that are required to compile and run the front-end microservice (web) and the back-end microservice (back-end) in Liberty Server in containers."),Object(o.b)("p",null,"It is beyond the scope of this lab to take each microservice through the iterative development process in an IDE. But you will get the point, if you spend a little time reviewing the updates that are done via the provided scripts. It’s not that extensive for this simple application. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"7.4.4.1.")," Move the original non-Java resources from the monolith to the two new partitions"),Object(o.b)("p",null,"As described above, the first step is to Copy ",Object(o.b)("strong",{parentName:"p"},"all")," non-Java files to ",Object(o.b)("strong",{parentName:"p"},"every")," partition, following the same directory structure which will partially already exist in each of the generated partitions."),Object(o.b)("p",null,"For this lab, a shell script has been provided for you, which will copy all the resources to the partitions. "),Object(o.b)("p",null,"This is the first step to refactoring the partitions. Further refactoring of these artifacts is unique to the microservice functionality in each partition.  "),Object(o.b)("p",null,"The script performs the following tasks: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Copies the various pom.xml files to both partitions"),Object(o.b)("li",{parentName:"ul"},"Copies all the webapp artifacts (html, jsp, xml) files to both partitions"),Object(o.b)("li",{parentName:"ul"},"Copies the application EAR resources to both partitions"),Object(o.b)("li",{parentName:"ul"},"Copies the Liberty server configuration file to both partitions"),Object(o.b)("li",{parentName:"ul"},"Copies the database configuration files to the back-end partition")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_1."),"\tReview the moveResourcesToPartitions.sh shell script.   "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd  /home/ibmadmin/m2m-ws-sample/defaultapplication/scripts\n\ngedit moveResourcesToPartitions.sh\n")),Object(o.b)("p",null,"The script:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"defines a bunch of variables referencing various directories for copying files"),Object(o.b)("li",{parentName:"ul"},"uses sudo to change directory permissions to allow write access to the partitions that mono2 micro generated")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"687px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"22.22222222222222%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABcSAAAXEgFnn9JSAAAA40lEQVQY002Qy07DQBRD8//fxRKxqQQSbSmQpnlPm07H8/S9pEVCWLKOvfDG1e7tkGw3iPk68nzqOc4XDoNh33l2q6cpsG09xzE8etOA8xzpY6EPhfDlL4dIVu/PmxLaVumilGsQ1kW4L5IbSv6mlEYelF7EDVmaGjIPUS4mrY5ilyzTEOQ8R8meUn1ua+azUXS9+nlSa29ql6suJuo60ts1qxmjrgNNkXqXiKhQlPzlf1Wbpxd7OdRwBnCjg9sn4DXh9pFhdxnuzu3Kr4ylS6hrh671OJ08jkdgvQYBBTETIRE/z8cxBE+tI28AAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"80 move script",title:"80 move script",src:"/modernization-playbook/static/6a4e5cbe005d7cac4921b0eff0d78c0a/4dcbc/80-move-script.png",srcSet:["/modernization-playbook/static/6a4e5cbe005d7cac4921b0eff0d78c0a/7fc1e/80-move-script.png 288w","/modernization-playbook/static/6a4e5cbe005d7cac4921b0eff0d78c0a/a5df1/80-move-script.png 576w","/modernization-playbook/static/6a4e5cbe005d7cac4921b0eff0d78c0a/4dcbc/80-move-script.png 687w"],sizes:"(max-width: 687px) 100vw, 687px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"copies non-java resources from the monolith application to the (front-end) web partition")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1010px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"53.125%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABcSAAAXEgFnn9JSAAAB6UlEQVQoz32SWbLcIBRDe//7yvjz9hC35wm4gBkMiuzuvOQrdqmwy3BauurH8RGK/1KK/3EW//2tb2/9pL7+o4bK1EGFv3LvVdlUHggVNQCIhcKn6rVm6qTSW9zyvyvlgsdhC/Yt1Hne67LaOk9HtUusMsUadKn1QD1zrSco3pkv+eTTW9dF1q2YSn0Ec2KbYx17hfY5o21mqFZDfmnYNkDaCDtk2ClDBout3bEvO5RW0EohxohSCi5uvBxGe2KdU51Hi75d8CRw7zRcYyGNxt6scEOE70/4rsAPBXZ02MbthoqRGxyOg5ErgXIBY50Gg66d8Xy+gLYROrQwvaXDA5ZAS7D0AaZ1UI3CtmwwYuCdg/cOjPwCbssF1Lg09poQgXtauqGzkc4Y+eB6jBfYwK4WwYcblFL6LOUG5iPB6FxFJ1qPUJuHXgldDcxu4JRAdkFyCZVnLxUeZCEoZ0HJ13O+3++Wg/yZoaDvFmqFZnzbEtQZaDqW0b8ij69yTMfITxbTKpjRcI7cLwIfEoE2s+WDQI2+n9F1nOHABtm66ndsPYc/8SDnKCNbXyIhgXPmt27j3h2imMSyHOMY2Sf+DXxdZoOJzY0DAXQoLSP3L9nJ0eEBN3GGnKNcDjv+IMszA8ubWNwqCDHjNxzBTVv7O/wvAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"81 move script 2",title:"81 move script 2",src:"/modernization-playbook/static/12b0d2f7a48e55fc8ed79f90c72c9439/96101/81-move-script-2.png",srcSet:["/modernization-playbook/static/12b0d2f7a48e55fc8ed79f90c72c9439/7fc1e/81-move-script-2.png 288w","/modernization-playbook/static/12b0d2f7a48e55fc8ed79f90c72c9439/a5df1/81-move-script-2.png 576w","/modernization-playbook/static/12b0d2f7a48e55fc8ed79f90c72c9439/96101/81-move-script-2.png 1010w"],sizes:"(max-width: 1010px) 100vw, 1010px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"script copies non-java resources from the monolith application to the (back-end) partition0 partition")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1037px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"53.125%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABcSAAAXEgFnn9JSAAAB80lEQVQoz4WR247UMBBE5/8/DCR45BGJZWdyzyS+deI4drqoZBYhJCQsHblty+Wq9m39th7bJz3il3LErx+w3j7/qS/O9XeSyUbSv7lpLEACNB3AroT1CfeQyfEx/67/M26LzzBz0r6fdXx6HYZV/Zg0DEmjKXos0JJUC8hRNJddc85aStGSeX4cdIGLc9yi22Eo0LUWTTWirp8wjUN4OMgjIjQJ0mbIUOC7BaaymPsZLjhYYxBjxFEKKPxyuIUd87jr2C/o2gl19cRMwaUShLuHq2eENmLtCtaatIqlj7CdhbUWIQQ4zovIaRG36OnwuevQhUuwOR22p7tAKNoKhAILBZd2p9tE1xG+cjCDgfMO67JgIWwDrsh22rVn5KFzOKO77uVu5eW1L4iMG8+5oxgfC0NAXOha1ivyX5+SeOBdVk9hZxPsvPIB9udJ4ZmXrYeYgE226/ePC73cnBzl+KjzS5CR9ewhI2tTj9o0k86t1VB7dbVTy9r3i4Yuq5wMmfWmpjJqG0ucBudpyGlKSW9J8hkZ0yDou4nMsD3jMra0nj9LlyPX437FX5+ZFPZV4Nge3/N8ClhXton9vLlpk7bZpHp4uT8meb/P0t+dmB9B5jcv851UIua+i3lPYh479zd5vjsZ36xMP3n+CGLqIC6s8gt/AUv0RFmCngAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"82 move script 3",title:"82 move script 3",src:"/modernization-playbook/static/ca1fd887883dab8481716ead671f032f/12661/82-move-script-3.png",srcSet:["/modernization-playbook/static/ca1fd887883dab8481716ead671f032f/7fc1e/82-move-script-3.png 288w","/modernization-playbook/static/ca1fd887883dab8481716ead671f032f/a5df1/82-move-script-3.png 576w","/modernization-playbook/static/ca1fd887883dab8481716ead671f032f/12661/82-move-script-3.png 1037w"],sizes:"(max-width: 1037px) 100vw, 1037px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_2."),"\tClose the editor "),Object(o.b)("p",null,"To speed up copying files, run the moveResourcesToPartitions.sh script to do it for you. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_3."),"\tRun the script to copy the non-java resources to the partitions"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd /home/ibmadmin/m2m-ws-sample/defaultapplication/scripts\n\n./moveResourcesToPartitions.sh\n")),Object(o.b)("p",null,"When prompted for a password, enter: ",Object(o.b)("strong",{parentName:"p"},"passw0rd")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_4."),"\t Use a graphical File Explorer   or Terminal window to see the non-Java files now in each of the partitions, and in the same directory structure as the original monolith. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a."),"\tNavigate to the following directories to explore the newly added non-Java resources. Refer to the shell script to see what exactly was copied. "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"/home/ibmadmin/m2m-ws-sample/defaultapplication/monolith-web"),Object(o.b)("li",{parentName:"ul"},"/home/ibmadmin/m2m-ws-sample/defaultapplication/monolith-partition0")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"7.4.4.2."),"  Refactor the original non-Java resources as required for the front-end and back-end partitions"),Object(o.b)("p",null,"At this point, every partition contains all the Java and non-Java files necessary for the application. "),Object(o.b)("p",null,"Starting with that as a base, the next step is to pare down and incrementally reduce the content of all these files, ending up with just the needed content in each partition to build and run the microservice. "),Object(o.b)("p",null,"In this lab, you will focus only on the refactoring that is required for the partitions to compile and run in Docker containers. An iterative for further paring down the content is beyond the scope of this lab. "),Object(o.b)("p",null,"To simplify the refactoring activities for this lab, a shell script has been provided that performs the refactoring required such that each partition (microservice) will compile and run on their own Liberty Server in separate Docker containers.  "),Object(o.b)("p",null,"The script performs the following tasks for the web partition:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Create a new pom.xml file to build the Cardinal Utility classes generated by Mono2Micro"),Object(o.b)("li",{parentName:"ul"},"Updates the top level pom.xml file to include the Cardinal Utilities module to be built with the app"),Object(o.b)("li",{parentName:"ul"},"Updates the DefaultWebApplication pom.xml file to remove Java persistence dependency"),Object(o.b)("li",{parentName:"ul"},"Update the DefaultApplication-ear pom.xml file to remove the database config "),Object(o.b)("li",{parentName:"ul"},"Update the DefaultApplication-ear pom.xml file to add Dependency for Cardinal Utility classes "),Object(o.b)("li",{parentName:"ul"},"Update Liberty server.xml file to remove database / datasource configuration"),Object(o.b)("li",{parentName:"ul"},"Add a dockerfile to build the Microservice and Docker image running on Liberty")),Object(o.b)("p",null,"The script performs the following tasks for the partition0 partition:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Create a new pom.xml file to build the Cardinal Utility classes generated by Mono2Micro"),Object(o.b)("li",{parentName:"ul"},"Updates the top level pom.xml file to include the Cardinal Utilities module to be built"),Object(o.b)("li",{parentName:"ul"},"Updates the DefaultWebApplication pom.xml file to remove Java persistence dependency"),Object(o.b)("li",{parentName:"ul"},"Update the DefaultApplication-ear pom.xml file to remove the database config "),Object(o.b)("li",{parentName:"ul"},"Update the DefaultApplication-ear pom.xml file to add Dependency for Cardinal Utility classes "),Object(o.b)("li",{parentName:"ul"},"Update and move the JAXRSConfiguration.java file to DefaultWebApplication class path. ",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"Update the package in the Java file to match source location in the module.  "),Object(o.b)("li",{parentName:"ul"},"This Java file is generated by Mono2Micro"))),Object(o.b)("li",{parentName:"ul"},"Update the IncrementActionService.java file ",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"This Java file is generated by Mono2Micro.  "),Object(o.b)("li",{parentName:"ul"},"This works around a known issue with conflicting import statements in the Java file "))),Object(o.b)("li",{parentName:"ul"},"Add a dockerfile to build the Microservice and Docker image running on Liberty")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_1."),"\tRun the refactorPartitions.sh shell script to perform the partition refactoring"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd  /home/ibmadmin/m2m-ws-sample/defaultapplication/scripts\n\n./refactorPartitions.sh\n")),Object(o.b)("p",null,"When prompted for a password, enter: ",Object(o.b)("strong",{parentName:"p"},"passw0rd")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1110px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"35.06944444444445%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABcSAAAXEgFnn9JSAAABHElEQVQoz32Ry3KEIBBF/f8vyyK7cZzKY5FsUvLGQUAHm0436qxSoerUBVsut6F7ee3LMHzA5fIG/fUdhttn0/66f/v6/oHlARDzA9KykRbS0uZ/0QlpwWiNSsiGluqpjLMOl2XBdV0x54S1Av43On+PME0TGmurta5as6v3vjrnqmMlvJ8aIcw1xlgBoPIgjye0qp1xdzDWoNK6CilxFAKV0rxGqSilaTXkGtNqBIcI84zbtmEppUGH4G7ImxQZHmaSWpW0mVXwVbAh6TgKtM6hJzPqAGcy5Otgcs7NnAxDS6iPhOIw4mScUB1wcq6FEDCl3NIwbHLOSyFDodyekAw5ydke3WlLkOjklBJGJkZc6HH2B9pTMWdK/vcXM5EWQfXQnQgAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"83 refactor script",title:"83 refactor script",src:"/modernization-playbook/static/0cd496162deca7d6ad35265b319b0ec9/e839e/83-refactor-script.png",srcSet:["/modernization-playbook/static/0cd496162deca7d6ad35265b319b0ec9/7fc1e/83-refactor-script.png 288w","/modernization-playbook/static/0cd496162deca7d6ad35265b319b0ec9/a5df1/83-refactor-script.png 576w","/modernization-playbook/static/0cd496162deca7d6ad35265b319b0ec9/e839e/83-refactor-script.png 1110w"],sizes:"(max-width: 1110px) 100vw, 1110px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1108px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"50.69444444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABcSAAAXEgFnn9JSAAABtklEQVQoz21SyZbjMAj0/3/eHObSnU5H2WxrteR4k4EBknRfxu/VA2S7KBU0f/5+7IfjCT+/TvD1fYbD0cDnUXKj+Dh8Q0wFdiDYKjBQ47ox6gubnAOWqULT9h5C8GSt/YWz5JyjEILWyzLTtq60roui1o3+9ywbYBO4+zAM5H1AJkDPiDFxHp8xckxJc+c95pyxjCPO84xbrcg8KI8Srjs2LgzgvafeWmy7jtq2Y4VOasU7lyjvU0o0jiOVUmh8PIjJad93pgSaloqN9QleV8Ou70kgP1vrnpHhtLb6bshZiQTTNLMdYsOKK8cyLkI4gHx8v7fYdT31L8K+tz8k9kV4b1ut2Rb1V9RO0ySKUSLbh425tHC9XulkDF5vN/1Jojmfucldc26mBO5pjSrWnMnFBrFLbLvcOmw6G3YuRB2wEnDOK1iJWAGsFFgR5FyABwM8JEhpkEFCLjpQXqvEZwmYC5rzteXrcCdW9l4XqTvu/F4jUSLnPGG+ZuSBZIVsR4xR48hD4nlQc7n7U8rjme9v4lBMSNnwIpsQs+FzUx6zmddq1m03dacX0GyMqiDNefHNOO/mH9M59eQwl4r/AAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"84 refactor script 2",title:"84 refactor script 2",src:"/modernization-playbook/static/1b16ccc9b8d011de1bbaa66b2200f3a4/fc9bd/84-refactor-script-2.png",srcSet:["/modernization-playbook/static/1b16ccc9b8d011de1bbaa66b2200f3a4/7fc1e/84-refactor-script-2.png 288w","/modernization-playbook/static/1b16ccc9b8d011de1bbaa66b2200f3a4/a5df1/84-refactor-script-2.png 576w","/modernization-playbook/static/1b16ccc9b8d011de1bbaa66b2200f3a4/fc9bd/84-refactor-script-2.png 1108w"],sizes:"(max-width: 1108px) 100vw, 1108px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"In a production application, refactoring the resources within each Microservice could take significant time. "),Object(o.b)("p",null,"The aim is to pare down and incrementally reduce the content of all these files (based on knowledge of what functionality each microservice entails) and through an iterative ",Object(o.b)("strong",{parentName:"p"},"compile-run-debug")," process, ending up with just the needed content for each microservice."),Object(o.b)("p",null,"If you are interested in the details of the refactored files that were pared down for this lab, refer to APPENDIX B in this lab guide. APPENDIX B:  Examine the Refactored resources after code generation provides a detailed look at these refactored files. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"7.4.4.3."),"  Deploy Partitions as Containerized Microservices"),Object(o.b)("p",null,"To portably run the builds of all the partitions, and at the same time prepare them for containerization, this lab uses Docker based builds right from the start."),Object(o.b)("p",null,"Multi-stage dockerfiles are used for each partition: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Stage 1: Performs the Maven build and packaging of the deployable artifacts (WAR, EAR, JAR)"),Object(o.b)("li",{parentName:"ul"},"Stage 2: Creates the Docker image from OpenLiberty, and adds the application, server configuration, and other configurations required for the partitions (Derby DB config) ")),Object(o.b)("p",null,"The dockerfile is slightly different for each partition since each partition will require unique configurations for its Microservice.  "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_1."),"\tNavigate to the Dockerfile in the web partition to view this update.   "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"gedit /home/ibmadmin/m2m-ws-sample/defaultapplication/monolith-web/Dockerfile\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1035px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"71.52777777777779%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABcSAAAXEgFnn9JSAAACPklEQVQ4y5WTaW/aQBCG/f9/Sj9UqpR+qaooCQhIMGe4TMC31xcG2xAwsJ63A4noobRNVno06/X62fHsrnJbfZCD4YjanR7NZgbpuknzCwat0oyOkmh/kHQ4/h+lfq+W+nyGwBVYhgmSaIHFIkYURciyDFJKfKQp/cGkLIodjlISP7/JR5qiqt0yEB4swyDXspBzVnmenywX8GK99P+Z4d2Xr+X8sY9Jq0Xh0xOK5RKvhsuk94guwvlQK3csWUcRPccxis3mLCjL8gydeCPbvwo7XEPdMKAbJk1nM4gggO/7ZzwhsN3tfvvgV/lbKJXvN2XvvoGBqlK30cC408Gw08ak18Wo3YbNZdilKbaLBcp37LhS+fS5HFfuMLy5oWm1Cp3ler0Bu6lizgto1QqmtRqeKhXE+hwbFudheIFLdeaZxwteWKldfSstbYqx2iJ9OIKlaXD7M6w0HxHveuJ6iB0XiSeQCB+pHyI+jb0S2DZHBylLV1w65fr6qpxOWui2K/TYraPbqaLfrEHrtjDo1TF6vMegzyXhOGQmoya0ngqtr2IyfkDkWMg408TzkLNUuX2oS02fQHd0cgKbbGGRIQyyA4ts3yIROmQJk0zPJJejE9oUCEGe65DL/cMfF0JptXql4JSF42Cb5nD4Nx3ThODo2hZe3tlI4oiP1BpFxhuUZ3heZ1jxMVvxNT3sf54EpdocHexZIgN/I6N4K90wlSLMpMe4wYpJpR+vZZLtZZLvXyKzzA9nTv1FVlzGfwAQNh1dqJpTRwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"85 dockerfile web",title:"85 dockerfile web",src:"/modernization-playbook/static/7195cb148dea73940cfeacda93737d67/64d38/85-dockerfile-web.png",srcSet:["/modernization-playbook/static/7195cb148dea73940cfeacda93737d67/7fc1e/85-dockerfile-web.png 288w","/modernization-playbook/static/7195cb148dea73940cfeacda93737d67/a5df1/85-dockerfile-web.png 576w","/modernization-playbook/static/7195cb148dea73940cfeacda93737d67/64d38/85-dockerfile-web.png 1035w"],sizes:"(max-width: 1035px) 100vw, 1035px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Build Image stage: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Performs the Maven Build and package of the application based on the pom.xml files in the project. ")),Object(o.b)("p",null,"Production Image stage: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Pulls the Universal base Image (UBI) of Open-Liberty Docker image from Dockerhub. The Universal Base Image is the supported images when deploying to RedHat Openshift. "),Object(o.b)("li",{parentName:"ul"},"Copy the EAR to the Liberty apps directory, where Liberty will automatically start when the container is started. "),Object(o.b)("li",{parentName:"ul"},"Copy the Liberty server configuration file to Liberty config directory, which is used to configure the Liberty runtime."),Object(o.b)("li",{parentName:"ul"},"As root user, I install curl as a tool for helping to debug connectivity between Docker containers. This is not required. "),Object(o.b)("li",{parentName:"ul"},"As root user, update the permissions on the shared resources folder in Liberty")),Object(o.b)("p",null,"ENV Variables required by Mono2Micro"),Object(o.b)("p",null,"Additionally, each partition is passed environment variables specifying the end point URLs for JAX-RS web services in other partitions. "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"The Cardinal generated code uses these environment variables in the proxy code to call the JAX-RS services"),Object(o.b)("li",{parentName:"ul"},"It is important to note that for JAX-RS, URLs cannot contain underscores.   ")),Object(o.b)("p",null,"Example ENV Variable for the web partition: "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"ENV APPLICATION_PARTITION0_REST_URL=http://defaultapp-partition0:9080/rest/")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"When running in Docker, a docker network must be set up so that all partitions can communicate with each other. Yu did this in the lab. "),Object(o.b)("li",{parentName:"ul"},"All partitions in this lab use port 9080 internally within the Docker environment, but expose themselves on separate ports externally to the host machine"),Object(o.b)("li",{parentName:"ul"},"Using this scheme as a base, a Kubernetes deployment can be set up on a cluster where each container acts a Kubernetes service")),Object(o.b)("p",null,"When running in Docker, the hostname must match the ",Object(o.b)("strong",{parentName:"p"},"Name")," of the container as known in the Docker Network. "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Use command: ",Object(o.b)("strong",{parentName:"li"},"docker network list")," to see the list of docker networks"),Object(o.b)("li",{parentName:"ul"},"Use command: ",Object(o.b)("strong",{parentName:"li"},"docker network inspect ","<","NETWORKNAME",">")," to see the container names in the Docker network. ")),Object(o.b)("p",null,"Where ",Object(o.b)("strong",{parentName:"p"},"<","NETWORKNAME",">")," is the name of the Docker network to inspect"),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"991px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"31.944444444444443%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABcSAAAXEgFnn9JSAAABEElEQVQY042Q627CMAyF+/4vhgAhTajdxrh0UArd2jRJ6SVqsc+cILS/ODpypBPZ30lk2/E+TsTX/Ervqzf6/vyi42YXlG33D222VFwKqmpDv6WiUmlS2lItGtxE451JZgRFg7sTfE0TDus14vkcaRzjY7VCslggWS6RzGYoLxfYxkLrGk3oGsaY0K21ctdwziHqw0CWAxaTt7sdl2XFfd9z0zRsjOW268QGv1JRJ8gecHCOy6pCLRtlIIriB6oWmtstSCkVPC8tZLV4RsgmSUbMICK/8Z/QE+QSK04S5HmOLMtwSFOcpGfns8RtJOpD/q61CZGf8guHYXgO9HnA/uHxdApk3uy6Dm3bhr95tf4AW9nJmxDA7gkAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"86 docker networkname",title:"86 docker networkname",src:"/modernization-playbook/static/714d28bb06595f23d296dc8c5f94d205/fa587/86-docker-networkname.png",srcSet:["/modernization-playbook/static/714d28bb06595f23d296dc8c5f94d205/7fc1e/86-docker-networkname.png 288w","/modernization-playbook/static/714d28bb06595f23d296dc8c5f94d205/a5df1/86-docker-networkname.png 576w","/modernization-playbook/static/714d28bb06595f23d296dc8c5f94d205/fa587/86-docker-networkname.png 991w"],sizes:"(max-width: 991px) 100vw, 991px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_2."),"\tNavigate to the Dockerfile in the partition0 partition to view this update.   "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"gedit /home/ibmadmin/m2m-ws-sample/defaultapplication/monolith-partition0/Dockerfile\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1037px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"84.72222222222221%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABcSAAAXEgFnn9JSAAACwklEQVQ4y5VUaW+bQBTk//+USpX6IR+qKnGaKI5vUwO+MBjbYDDxhY2P2PHudJakUZr0SJBG84Ddt/Nm3672LZd/qNUbIl8oC7PZEVbbFlbLFk1yw2yLIIzFZncQ683+XdBK5bpwnB5G/SGiUYjQHyMMxwgCH9PpHY7HAz7yaNW6IZLlEvvdXvL9GULK5/gjj9ZgmbP5DMlqJaN4gvV6jdVqhYeHh2zFx7yP/Cv+p8KLL2eio9fR1XXpGQYO9/c4CQFBvEzy7oTGVV4k4wCx68rU98FMbwa9TPrfhN4wEKkqM0nkkl6mafoMVf7xePxN4WvFr6HlqLBQKqJUqcib21uYlgWz2YRFGKaJaDJ5o/ZvyBQWzr6KXrkEu1SSTrkMt1KBQ/Sr1SzuFgoY6joC+rv0PIinzfrTkymsVXThuy6cVkuOyHdRiPkoQhousGQfJtMpFnGM5R3j2Qy7/R6b7TZDqni3w5bfDk/WaPnvN2LY7aJRLMqeaaFjNGDnDUx1H7ZpwGXpXZbe73TQb7fh2za8Vgse44wJn/NH/J5GEbTrT5+FU6B3uQvpXN0iuNXhXZcxuC7BvLhAM5eDcX4Oi2xdXsIrFuHX6/BrtWce0BqftkxomVb4ei4CrsAelEOu1reoRjcxaTrwuEEuvYscB9PhEDE9nI1GuCNnGAwQ9/sI+T+iXXPGWq36Q4Rq8Hgsd6s1ZpMYU54Y5duCvi3p4ZxxMp9jnyTYsrV25BX9VP+3PFUnHgZJDxVrN4UKLwcHA8+TA68Pm2oV3F4PHfpmkx2iR3hUMVOLMBn7FnE0Qaw2bLHINks1jlau6qJrt+E6Dnd5AJtJRiwlDAL4LC8gh+NxFk/YkzMiYYLtZpMlmqrdp+p7JhSnE7QrKkx8DlhspdwLqNOyWiaZgoRQkxaEeleXRkpb1MTTSRCn7BJR/NiHwE9KTPi3SL5RdQAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"87 dockerfile partition0",title:"87 dockerfile partition0",src:"/modernization-playbook/static/2a449674b4bdfcf4dbefc0fc89277e28/12661/87-dockerfile-partition0.png",srcSet:["/modernization-playbook/static/2a449674b4bdfcf4dbefc0fc89277e28/7fc1e/87-dockerfile-partition0.png 288w","/modernization-playbook/static/2a449674b4bdfcf4dbefc0fc89277e28/a5df1/87-dockerfile-partition0.png 576w","/modernization-playbook/static/2a449674b4bdfcf4dbefc0fc89277e28/12661/87-dockerfile-partition0.png 1037w"],sizes:"(max-width: 1037px) 100vw, 1037px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Build Image stage: "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Performs the Maven Build and package of the application based on the pom.xml files in the project. ")),Object(o.b)("p",null,"Production Image stage: "),Object(o.b)("p",null,"In addition to the steps that were performed in the web partition, these additional steps are required for the partition0 Microservice deployment. "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Copies the Derby DB zip file to the shared resources folder for Liberty. The Maven build has a step to unzip the Database contents."),Object(o.b)("li",{parentName:"ul"},"Copies the Derby database JDBC library to Liberty’s shared resources folder")),Object(o.b)("p",null,"Note: The partition0 partition does not require any Mono2Micro ENV variables to be set since this partition doe not make any REST API calls to other partitions. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"7.5."),"  Build (Compile) the transformed Microservices using Maven"),Object(o.b)("p",null,"In the previous sections of the lab, you used the Mono2Micro tools to transform the original monolith application into two microservices. "),Object(o.b)("p",null,"Then, using the convenience scripts we provided, you started to refactor the microservices by moving the non-java resources and Liberty configuration into the microservices projects. "),Object(o.b)("p",null,"You further refactored the microservices by paring down the non-java configuration files, Liberty configuration, and Maven build artifacts to include only the configuration required to build and run each of the microservices in their own Liberty runtime in containers.  "),Object(o.b)("p",null,"At this point, it would be a good idea to do a quick compilation of the microservices to see if there are any compilation or build errors. Then, iterate on the refactoring of each microservice, as needed. "),Object(o.b)("p",null,"Ideally, developers would do try doing a quick compilation of the generated code by using an IDE tailored to support Java EE and the application server. "),Object(o.b)("p",null,"Using an IDE for development is beyond the scope of this lab. Instead, you will simply use Maven to test the compilations of the microservices and observe any compilation errors. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_1."),"\tCompile the monolith-web microservice via command line"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a."),"\tChange to the monolith-web directory, which contains the top-level pom.xml for building the monolith-web microservice "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd /home/ibmadmin/m2m-ws-sample/defaultapplication/monolith-web\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"b."),"\tRun the Maven Build to compile and package the microservice"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"mvn clean install\n")),Object(o.b)("p",null,"If all goes well, the microservice project will compile successfully, as illustrated below:"),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"843px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"35.06944444444445%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABcSAAAXEgFnn9JSAAABc0lEQVQoz1WRW2+cMBCF+f+/qn2rlIc2Tbu5ELKhLBhDML6AsY19pl66fYjko7n4aPRpprg7dXvVinSuL6ntP1L13qaOT0kvLimzJXWLevFHb9b2kNS5p0OOLsmbz9iQih8vLLWjpHHgNImJhmEgKSVtmyVjDG3W5nyjeRaktSIi5AdKCGQSIw9De9iPv7jvdB0YayaoLF9RlhWaS4eec/w+PeL+5wOkUticgzELlnWF9x7eBaxeorRfwLcKYlJ4eS2htUFxnwc2gyDGG7T9hUbBM81MHWPU95ycc590pd02R6tbaNxqkuuY/ZKGcTz+iu9PbWwnQR9rDWEZhqWGdTaTBMQY/xGFgJDlnD9o3SGP4OJB+99z9Rfffp1TLxbirCfGOCmpM11HnPNjl0qpYz9CCPLeEVKiFCOlFCnGPcf9qK85kKj4eneKT9UF1bnB+U+H96bDW92i6Qacnis8lmfki2IUGrNakS+aa/tZt55ZPf4CrJkTU8LPSroAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"88 mvn install web",title:"88 mvn install web",src:"/modernization-playbook/static/1a5bee7ea377bdde82313f56f136ec69/8d0a4/88-mvn-install-web.png",srcSet:["/modernization-playbook/static/1a5bee7ea377bdde82313f56f136ec69/7fc1e/88-mvn-install-web.png 288w","/modernization-playbook/static/1a5bee7ea377bdde82313f56f136ec69/a5df1/88-mvn-install-web.png 576w","/modernization-playbook/static/1a5bee7ea377bdde82313f56f136ec69/8d0a4/88-mvn-install-web.png 843w"],sizes:"(max-width: 843px) 100vw, 843px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_2."),"\tCompile the monolith-partition0 microservice via command line"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"a."),"\tChange to the monolith-partition0 directory, which contains the top-level pom.xml for building the monolith-web microservice "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd /home/ibmadmin/m2m-ws-sample/defaultapplication/monolith-partition0\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"b."),"\tRun the Maven Build to compile and package the microservice"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"mvn clean install\n")),Object(o.b)("p",null,"If all goes well, the microservice project will compile successfully, as illustrated below:"),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"895px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"36.45833333333333%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABcSAAAXEgFnn9JSAAABcUlEQVQoz0WR227rIBRE/f8/1ofz0Fan1yRN4jgYgy8FzB2zdwmtWqQlYECjYWjud2w7kxEuHcmUTbktM5+WbFzI2vq8Gpe18dn6mG3RjP3D2lS0VO6FnNIG+06F5v9xzMMkcBw5TvOE4zTisiwopUSlFDrnMASPQogKQMbbyJBQbT2abcYYE1qjcH/5jNWwJRx3uz0cDkcghELfU3h6foHXt3cohuC8B2MMWOsgxAAxJHBRw8nfQW9fQEkDbXvEhzdSDD/GTPiElHfQsyvymaJUEhnjyDkvCT16/4fzrmrOW5x9h8Kx8hINQsz4ehpj83jgG11mmPQlT5rAqDtYzVrTxBihmPxSjL4TV4rmyrkLYJ3PeYvwQWRo7ncU2ayQDQNSOqAUEmld09rluqrCWvvzJR3kjNu2/ZAqKaVbq3imGpp/T6fh1A2s/C47F66UsY4M7NrftJ6dL6Tul0/FhNJs1Y4pbQvuF7laVnrm760gX6NeEXGZrnQTAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"89 mvn install partition0",title:"89 mvn install partition0",src:"/modernization-playbook/static/7f96825fbfcc20e4ebff560712c69a57/02f43/89-mvn-install-partition0.png",srcSet:["/modernization-playbook/static/7f96825fbfcc20e4ebff560712c69a57/7fc1e/89-mvn-install-partition0.png 288w","/modernization-playbook/static/7f96825fbfcc20e4ebff560712c69a57/a5df1/89-mvn-install-partition0.png 576w","/modernization-playbook/static/7f96825fbfcc20e4ebff560712c69a57/02f43/89-mvn-install-partition0.png 895w"],sizes:"(max-width: 895px) 100vw, 895px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"The last section of the lab below is OPTIONAL!")),Object(o.b)("p",null,"At this point in the lab. you are back to where this lab started. Recall in Part 1 of the lab, you built and ran the DefaultApplication as microservices in containers using Docker. Those microservices were also transformed using Mono2Micro, using resources we provided in the Git Repo. "),Object(o.b)("p",null,"Now it’s your turn! "),Object(o.b)("p",null,"To bring the lab full circle, you may continue to the last section of this lab to build and run YOUR transformed and refactored Microservices application.  "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"7.6.")," OPTIONAL: Build and run the Transformed Java Microservices Using Docker"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_1."),"\tStop and remove the currently running docker containers that you deployed d Part 1 of the lab"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"docker stop defaultapp-web\n\ndocker rm defaultapp-web\n\ndocker stop defaultapp-partition0\n\ndocker rm defaultapp-partition0\n\ndocker ps | grep defaultapp\n\ndocker ps -a | grep defaultapp\n")),Object(o.b)("p",null,"NOTE: The docker containers should no longer exist. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_2."),"\tRemove the DefaultApplication Docker images that you created in part 1 of the lab"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"docker rmi defaultapp-web\n\ndocker rmi defaultapp-partition0\n\ndocker images | grep defaultapp\n")),Object(o.b)("p",null,"NOTE: The docker images should no longer exist. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_3."),"\tBuild and start the defaultapplication-web (front-end) container"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd /home/ibmadmin/m2m-ws-sample/defaultapplication/microservices/defaultapp-web\n\ndocker build -t defaultapp-web  . | tee web.out\n\ndocker run --name=defaultapp-web --hostname=defaultapp-web --network=defaultappNetwork -d -p 9095:9080 defaultapp-web:latest\n\ndocker ps | grep defaultapp\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"_4."),"\tBuild the defaultapplication-partition0 (back-end) container"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"cd /home/ibmadmin/m2m-ws-sample/defaultapplication/microservices/defaultapp-partition0\n\ndocker build -t defaultapp-partition0 . | tee partition0.out\n\ndocker run --name=defaultapp-partition0 --hostname=defaultapp-partition0 --network=defaultappNetwork -d -p 9096:9080 defaultapp-partition0:latest\n\ndocker ps | grep defaultapp\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1033px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"13.541666666666666%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAt0lEQVQI1y3L2Q6CMBCFYd7/8dwCZSndQBpbCmoQ25mxGi/+fBcnpzhdGJSMgxosSDVCeyqhO1dQ1xzKbxWHppGgxAA673UrgP0brYPnFsGHB9zme/LhTkWYPdlporAEeoZA/nImezwQr0qqm4akkLStK+1G/zbNGPVKkjGGlvxJMWYXcs5hmGcq7GTzOKDWBk1O9T2KrkPRC2xbnpWY9je+vcPXeMX15nB77QgAmFLK4s8Y41f6AHuj3unJ+nNTAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"90 docker ps",title:"90 docker ps",src:"/modernization-playbook/static/2eb5f2fb67d2e3285852eaad259624c3/d1f15/90-docker-ps.png",srcSet:["/modernization-playbook/static/2eb5f2fb67d2e3285852eaad259624c3/7fc1e/90-docker-ps.png 288w","/modernization-playbook/static/2eb5f2fb67d2e3285852eaad259624c3/a5df1/90-docker-ps.png 576w","/modernization-playbook/static/2eb5f2fb67d2e3285852eaad259624c3/d1f15/90-docker-ps.png 1033w"],sizes:"(max-width: 1033px) 100vw, 1033px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Once all the containers have started successfully, the DefaultApplication can be opened at http://localhost:9095/"),Object(o.b)("p",null,"That completes the end-to-end lab: Using Mono2Micro to transform a Java monolith application to Microservices. "),Object(o.b)("h3",null,"Conclusion"),Object(o.b)("p",null,"In this lab, you gained significant hands on experience using Mono2Micro in a full end-to-end flow. "),Object(o.b)("p",null,"You started by building and running the final transformed microservices based application in Docker containers running on Liberty server. "),Object(o.b)("p",null,"Then, you started from the beginning with a Java EE monolith application, using the AI-driven Mono2Micro tools to analyze it and recommend the different ways it can be partitioned for potential microservices. "),Object(o.b)("p",null,"Using Mono2Micro’s UI, you further customized the partitioning to suit our specific requirements. "),Object(o.b)("p",null,"You then used the unique code generation tool to generate a bulk of the foundation microservices code, while allowing the monolith Java classes to stay completely as-is without any rewriting. "),Object(o.b)("p",null,"And then with further manual refactoring of the non-Java aspects of the monolith, a set of microservices are deployed in containers that provides the exact same functionality as the monolith application."),Object(o.b)("h3",null,Object(o.b)("strong",{parentName:"h3"},"Appendix A:  Examine the Java Code generated by Mono2Micro")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"A.1."),"   Explore Cardinal some notable Java resources generated in the web partition"),Object(o.b)("p",null,"Fully exploring all the resources in detail is beyond the scope of this lab. You will explore a few of the key resources in the partitions. Feel free to explore in more detail if you desire. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"1."),"\tUsing the File Explorer, navigate to the monolith-web directory ",Object(o.b)("strong",{parentName:"p"},"Home > m2m-ws-sample > defaultapplication > monolith-web"),"."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"2."),"\tFirst, let’s look at the UTILITY classes in the application subdirectory of the ",Object(o.b)("strong",{parentName:"p"},"monolith-web")," folder. "),Object(o.b)("p",null,"Notice the folder named ",Object(o.b)("strong",{parentName:"p"},"application"),".  This folder contains the Utility classes that handles the plumbing for the microservices. It has classes for handling serialization, exceptions, logging, etc. These classes are generated for ALL partitions. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"822px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"42.708333333333336%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABcSAAAXEgFnn9JSAAAB6UlEQVQoz0VQ72/SUBTtn++3ZdMPxvjJxCxxMy4GlRjjQBhjDlopWLoWKNDXQgt00pYfBd49PlrYTnJy7z3n5uS9KymNJlfUFr9XGlw3u7x8e8cLpZuU18Uyv72v8/KnK35+esbPz17xi9dv+MeTU64KfTx95NPgn+Ccz4IwpeSNXXjOkQysb8FmQwwGFpg9hOdPwEwThqLAkOuiytB/VzFiDMt1guVyiTiOEYVzwRBSMh6hmf9AD6VvxNQajVWFNmFIAGi9DKnfvqF54NJqFaXakb7zQLZZo/DRE3uZt4cUWj0UL0+o/uMtWqX3GMpFRGMfe/jMQOHiBZqFd2hXLrBZRThCLV+imnuZeo5xl2pEHFIkvmZVr8ht5sEaOXitCiLxzT2iyQDsTw5O4yscNY/NOn4K9M2K2P8CW/6MWV8+BNIhsPad3PYvMO0anlZD5GUvjAMXrPUTe8/Vy9gmy+dAS4EtvL0fOPpz4EIc1+p0yLQs6jNG06FNsedTsttRR+i6rpP2V0t7dzQizokGYscwDNI0LfVNs0OO6xLf33Dr2gi7JhJ/hO3Mx6JrIAkmh3cQ+HaNqfCOcwaeTXwDvksOc+ZJeneWyPXuWlGsRJF7SV1Q6wWJyeLEsKO0dpxF2h/55B36bM60/+Irj2MwIy4ZAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"a1 1 monolith web",title:"a1 1 monolith web",src:"/modernization-playbook/static/e7edd7018371a761d68f1aafea8c4411/65080/a1-1-monolith-web.png",srcSet:["/modernization-playbook/static/e7edd7018371a761d68f1aafea8c4411/7fc1e/a1-1-monolith-web.png 288w","/modernization-playbook/static/e7edd7018371a761d68f1aafea8c4411/a5df1/a1-1-monolith-web.png 576w","/modernization-playbook/static/e7edd7018371a761d68f1aafea8c4411/65080/a1-1-monolith-web.png 822w"],sizes:"(max-width: 822px) 100vw, 822px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1020px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"22.569444444444443%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABcSAAAXEgFnn9JSAAABAklEQVQY0z2O6U7DMBCE8/5PAxTK8bcSBSSg0AqJN6BO49aO72R3WJtDsrXz7Yzs6TbvO9p+fNLLZkvPbzt6XT/R6mxBq8WS7q9uaHV+SY/Xd/SwvKW18P+UXfMvLmktuy81UK8NdaUkeOcAsByGGy1KiqIJOcbGNBXwPMOLjt4DNGPKGaM1mMWr2RgDQgjoihjOOf55EWztyKVMTddZ+c/z3nNKuWkiYmMsE3PjEGLzu9NJQ+33KCUjSaPDocfxqKXEDGNO6JWSnz2StFZqj75XTdddzQZpPJUCrQfoYUBnbOB+MOzjxC4Uti7KTY1HnxqPPjeuuYO2v9nccnVWrrreb0EBeHr0tneJAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"a1 2 util",title:"a1 2 util",src:"/modernization-playbook/static/bf73c226ce6c8201da1ccc307ab71dab/db9ce/a1-2-util.png",srcSet:["/modernization-playbook/static/bf73c226ce6c8201da1ccc307ab71dab/7fc1e/a1-2-util.png 288w","/modernization-playbook/static/bf73c226ce6c8201da1ccc307ab71dab/a5df1/a1-2-util.png 576w","/modernization-playbook/static/bf73c226ce6c8201da1ccc307ab71dab/db9ce/a1-2-util.png 1020w"],sizes:"(max-width: 1020px) 100vw, 1020px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Tip: The default name for the Utility classes is ",Object(o.b)("strong",{parentName:"p"},"application"),". However, this is configurable in the app_config.txt file that is generated by the AIPL tool.  "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"941px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"14.23611111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAvElEQVQI10WLb2vCQByD+/2/k6K4MZjg1j/eqtRh26N0s7VqrbXXyy87fOECDyEJ8T7DNZYrH997jep0xaFpUV86HNv+SX3uUPzU0MUvirKCineYzF4wnb/CD78QRBsbqRjTNzV4223MKAqZ7BKq5TvDxYLJx4parZkGAfeBz3IT89ZeOJiB976ncU4BxWHtyHE0JC2zsh09ESHgJqF0VS1NmkqT59Jk2YOjy6dcizVG3OvJv/j4uo76cDN/OsnfjpCy8AMAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"a1 3 app config",title:"a1 3 app config",src:"/modernization-playbook/static/dc0d01a0ee10b8b59eaa0067fdc39b6b/89104/a1-3-app-config.png",srcSet:["/modernization-playbook/static/dc0d01a0ee10b8b59eaa0067fdc39b6b/7fc1e/a1-3-app-config.png 288w","/modernization-playbook/static/dc0d01a0ee10b8b59eaa0067fdc39b6b/a5df1/a1-3-app-config.png 576w","/modernization-playbook/static/dc0d01a0ee10b8b59eaa0067fdc39b6b/89104/a1-3-app-config.png 941w"],sizes:"(max-width: 941px) 100vw, 941px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"The ",Object(o.b)("strong",{parentName:"p"},"app_config.txt")," file is located here: ",Object(o.b)("strong",{parentName:"p"},"/home/ibmadmin/m2m-ws-sample/defaultapplication/mono2micro-analysis-custom/cardinal"),"."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3."),"\tExplore the DefaultWebAplication subdirectory in the monolith-web folder. "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Original classes: The original HitCount.java and SnoopServlet classes are copied directly from the original monolith application")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"972px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"21.875%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABcSAAAXEgFnn9JSAAAA8UlEQVQY02WM62qDQBSEff+3KfQB0jZJoQkNlYDxWm+5GI2ut9113XNOjW1+9YMZBmYYw7J9naRHtA42up6HcZJiGB8xSk7ouB7ajot+8D11PnpBgObbEncvr/g5yVyucL9+R3O1Hr8WC3Isb2MEYQRlWRDnPclhINkzcj6eqM4CuqPUMHWcHnR9T0j/0HcbRtwaYRRBfr1Q0zASUpDiNcW7Z6rS/bwUglPXtXNGAGqbmsZR/f3gQ7+HSm8N24v0wXbxnBVQsha4HOFWMmg6DlIh5DcGp0sBvVBQVi0cz1fI8mreiUGDkHrKepSDJtaqzQ/dVSweACIepQAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"a1 4 java",title:"a1 4 java",src:"/modernization-playbook/static/d79fc753669645c115cb05eb910d1a2e/1cc0f/a1-4-java.png",srcSet:["/modernization-playbook/static/d79fc753669645c115cb05eb910d1a2e/7fc1e/a1-4-java.png 288w","/modernization-playbook/static/d79fc753669645c115cb05eb910d1a2e/a5df1/a1-4-java.png 576w","/modernization-playbook/static/d79fc753669645c115cb05eb910d1a2e/1cc0f/a1-4-java.png 972w"],sizes:"(max-width: 972px) 100vw, 972px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Proxy class: Cardinal generated a proxy class for IncrementAction. The proxy invokes the IncrementActionService URL in partition0.")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"954px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"19.791666666666668%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABcSAAAXEgFnn9JSAAAA2ElEQVQY043OW0sCURQF4Pn//yQQolJTHHqQrpaJMWKkSNHFB+HMcWafmXOZvVdnrPfa8LEeFix2Mp0/h6dsydnyhR/nGc8eZnxz1ufxSZfvhilfds95fNrjq96A70cXfDsYHbTdJLruDzntHHN61OHFZMoJVY6dreG8Q1MW2H99Yvf2iuLjHbUh7PMcIXbBOXhrY/7wv9qOm4DGezTB4zBYxqGSSGqlpCQjpbVitZbKVKLyXLwPAuBfkoJqNvETMkYqpbBdrbBdr7HbbGCMgdYaRIT2RORP39OiKq3ha0jiAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"a1 5 defaultapp",title:"a1 5 defaultapp",src:"/modernization-playbook/static/7b612f0a5545497eaf9d72d3bd96a501/38d0b/a1-5-defaultapp.png",srcSet:["/modernization-playbook/static/7b612f0a5545497eaf9d72d3bd96a501/7fc1e/a1-5-defaultapp.png 288w","/modernization-playbook/static/7b612f0a5545497eaf9d72d3bd96a501/a5df1/a1-5-defaultapp.png 576w","/modernization-playbook/static/7b612f0a5545497eaf9d72d3bd96a501/38d0b/a1-5-defaultapp.png 954w"],sizes:"(max-width: 954px) 100vw, 954px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Dummy classes: Cardinal generated Dummy classes for classes that are present in the original monolith but are moved to a different partition. The Dummy classes simply throw custom exceptions in the event these classes are unexpectedlyinvoked.   "),Object(o.b)("p",{parentName:"li"},"Dummy classes for Increment.java and IncrementSSB.java were generated. "))),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"931px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"19.791666666666668%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABcSAAAXEgFnn9JSAAAA40lEQVQY042M207CQBRF+//fYozRQEAEidFEwUK9gUqCDFVLuaXtlA6dmXO2Qx98M/EkKzvZO2d5fjAyQX9Aj35Aw8EDPT2Pqde8oJtag+7qTbo+rdHVyRndNlrkt7vUO29X9FudikN/6fbO0TGN7ofkrb9jSuMFkjjGfruBMQZ5LqE2ayRhiKUQyOYCSkpYt1mtfzGHNBpMFmwtyBo44ZJ2TlAoxWWSuCwg3XNRyTXyskQpM2il8J/zwo/Izl8nPBtPeDELebXNOIpWHIkv/nyf8tT14uWN03THqiQu9sZh/+QHID0oIqrdbwgAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"a1 6 defaultapp 2",title:"a1 6 defaultapp 2",src:"/modernization-playbook/static/2a7870962a7cee595c0128660aa55e6d/dcf77/a1-6-defaultapp-2.png",srcSet:["/modernization-playbook/static/2a7870962a7cee595c0128660aa55e6d/7fc1e/a1-6-defaultapp-2.png 288w","/modernization-playbook/static/2a7870962a7cee595c0128660aa55e6d/a5df1/a1-6-defaultapp-2.png 576w","/modernization-playbook/static/2a7870962a7cee595c0128660aa55e6d/dcf77/a1-6-defaultapp-2.png 931w"],sizes:"(max-width: 931px) 100vw, 931px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"A.2."),"   Explore Cardinal some notable Java resources generated in the partition0 partition"),Object(o.b)("p",null,"Fully exploring all the resources in detail is beyond the scope of this lab. You will explore a few of the key resources in the partitions. Feel free to explore in more detail if you desire. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"1."),"\tUsing the File Explorer, navigate to the ",Object(o.b)("strong",{parentName:"p"},"monolith-partition0")," directory: ",Object(o.b)("strong",{parentName:"p"},"Home > m2m-ws-sample > defaultapplication > monolith-partition0"),"."),Object(o.b)("p",null,"The UTILITY classes in the application subdirectory of the monolith-partition0 partition are the same as those generated in the web partition. These utility classes are required from each microservice.   "),Object(o.b)("p",null,"Notice the folder named ",Object(o.b)("strong",{parentName:"p"},"application"),".  This folder contains the Utility classes that handles the plumbing for the microservices. It has classes for handling serialization, exceptions, logging, etc. These classes are generated for ALL partitions.  "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"608px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"40.625%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABcSAAAXEgFnn9JSAAAB4klEQVQoz01RyY7aQBDl/y855ZRDklsWDRmJMMAkgUkYxixhsTG22cyAWYwmGLzhtt3dL40nSlLS0+t6VfW6pMq1+kbSUzTa6iq0J2tU1efiPaSdvkbbPZX2FIO2v/2gpfd5eiNQ/nhNbz58oqV3V7RbrVPLduh2f0oPR4815F2YU1SNTcY6xpMpJpMxzPkMo9EQ6lDJeGaa0CUJ0m0Zza+3kL5UMu7e1TBuSji5J3ieizjy0TPsOOeFMeUshb3SuO/+4nFMOIAMjKZ8vza469g89lxOz2fOIsJpGHJ7JnNnb3FCIp4k6aUf2sIluSCijARH3F+/4ErtLaadAmhCLnVEwQlS8SXk6htMfhaQJlGmJ/EZrcorDKqvYTTzIOcgMzSWHsn5wpAmASy5yLdqCbZRgxCeByMP1qCIzeAztsMKUhJmekoCrJUyNnIxQxI9G+oXQ88nLFw/YvY9z6e1K5j1AkJ7mw2eAxeWdi9Qx1qXQKLwjy4+0htYDu+wEvUw8P5teHo6sqeRilG7w5XGA2b9AfaKgjRNsdvZMBcLGIaB5XIJx3GQJAlWloVHkc/nJkxxtOVqxcFTjK1AbBgQRkSju9lw37bh73YIDofsKpdgjOEg8gv/H5xzEEIypoz93fA3zylHEGSzI9wAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"a2 1 monolith partition0",title:"a2 1 monolith partition0",src:"/modernization-playbook/static/54e3e9688a7acaacc5bb0af91871e71a/1b824/a2-1-monolith-partition0.png",srcSet:["/modernization-playbook/static/54e3e9688a7acaacc5bb0af91871e71a/7fc1e/a2-1-monolith-partition0.png 288w","/modernization-playbook/static/54e3e9688a7acaacc5bb0af91871e71a/a5df1/a2-1-monolith-partition0.png 576w","/modernization-playbook/static/54e3e9688a7acaacc5bb0af91871e71a/1b824/a2-1-monolith-partition0.png 608w"],sizes:"(max-width: 608px) 100vw, 608px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1025px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"21.180555555555554%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABcSAAAXEgFnn9JSAAAA4klEQVQY002M3U7DMAyF+/5vBYxuuxt0wNptSCAI1dqm+WmTuGlsknCDpSN/8jk+xcvpsjbnC56v7/hWN1ifajyWOzw8bLB6LPE5Ku3X3R6rcpu94/ZPVcrd3WNzeApST9R2QhcW/LosgAsAEhF6v6BzLnMaY03mJGP+cbyHEDI7gBA7aPGoi2l2JKUgpVTOaq1IjCPFNMUC4sNA3nsCcNT3HVlrKIQ135OfckII0vHfOA8FF+a7bW8/7a1nDjwbRsm6nrPZOCbUlFnpmcnIH59fbOAie/0wZn+2kJlz0XJpr7874CtoRjoNGQAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"a2 2 util",title:"a2 2 util",src:"/modernization-playbook/static/571b11137882f171295281d5a908ec1a/81b7c/a2-2-util.png",srcSet:["/modernization-playbook/static/571b11137882f171295281d5a908ec1a/7fc1e/a2-2-util.png 288w","/modernization-playbook/static/571b11137882f171295281d5a908ec1a/a5df1/a2-2-util.png 576w","/modernization-playbook/static/571b11137882f171295281d5a908ec1a/81b7c/a2-2-util.png 1025w"],sizes:"(max-width: 1025px) 100vw, 1025px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Cardinal generated a Java resource named ",Object(o.b)("strong",{parentName:"p"},"JAXRSConfiguration.java"),". This file is in the ",Object(o.b)("strong",{parentName:"p"},"config")," sub-directory under the application subdirectory of the monolith-partition0 partition.  "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"991px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"21.875%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAsklEQVQY05WMWwuCUBCEz///NT34FEHmUUuDLBVFMCzxgkopBWqe3M1LhY81yzAfzDLEMJ2npRtgb3etNl+AIcpgbVTQqQzacgUHgcKeH9MUJdAFcWCdioN71j49lYBcwqQ9rjl0VQ5uUYj3PEFbmWGRetgLuhtzZPgyvhuc9Igk6wZTV8HI4bHMEqyKDM8ah3lgTV5/F4n9+JGdfRZ6J3YNIlbXDcvzgpVVzRoGndu//AIfzCo56Mo69AAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"a2 3 config",title:"a2 3 config",src:"/modernization-playbook/static/2ac58e3ce26d03c9e307f23d913df47d/fa587/a2-3-config.png",srcSet:["/modernization-playbook/static/2ac58e3ce26d03c9e307f23d913df47d/7fc1e/a2-3-config.png 288w","/modernization-playbook/static/2ac58e3ce26d03c9e307f23d913df47d/a5df1/a2-3-config.png 576w","/modernization-playbook/static/2ac58e3ce26d03c9e307f23d913df47d/fa587/a2-3-config.png 991w"],sizes:"(max-width: 991px) 100vw, 991px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"As part of the utility code that Cardinal generates, a JAXRSConfiguration class is generated per partition. "),Object(o.b)("p",null,"For now, it is important to know this class sets up the JAX-RS config where all service classes are registered and is meant to be copied over and placed in one Java EE module of your preference within each partition. You will work with this file later in the lab as you do final preparation of the microservices for deployment to Liberty Servers in Containers. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"964px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"57.98611111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABcSAAAXEgFnn9JSAAABtklEQVQoz42S627aQBCF/f5v0oqqTauolaqqqtpfRQSVsEqBYGcDvmEbbHwB73rndLExhiZSMtLR7Mijb+d41hhPZopN76uJydUm3akgTlWYZLWCTar8IFZ+GCvHj5Tjhcrktvo9GKn+zUi9u7pWvfef1JveVfW29wG9j18dwxoxHMTHfxHMOVbzB3gzDn9qYuu52Jcl9rsCRZEjzzJkWVrnPM9QlnsIUepckpQl1knuGdbQBv+zIGu4oFmf03zAackeyb41KXUdAvBaIS2kZ6wiwPFBqxCwPWCb4RR1J9FrRIfuNBeeEWmQ6xKtI8J6TfA8wnJB4JwQb+gcXYuorY9fTsDjhEGgJ7OJtA7gWnHcwHYFoao6KdUAWvDlhK1lDQxCkOtq6259RrKF/vlN3qa6UStJoBdBx6lwnPQ0ZQfchAKPlqAHU4BrOQuByV1ztu51vRSIVqUGUg0Wgs6tPmN5zDD4PKabLwz9a4bbbwzsO8PkJ8NU6+4Hg/lriCwpICtAyheAUlQQpSQpJMRe4pBBEqQaoc3oFnRu94nlszVePJf/o1vCZf0skJp48b21Vp9e1gH/AdFpmtLjpv6QAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"a2 4 jaxrs config",title:"a2 4 jaxrs config",src:"/modernization-playbook/static/9825ecac8751725b9413b595d82ee192/0fdce/a2-4-jaxrs-config.png",srcSet:["/modernization-playbook/static/9825ecac8751725b9413b595d82ee192/7fc1e/a2-4-jaxrs-config.png 288w","/modernization-playbook/static/9825ecac8751725b9413b595d82ee192/a5df1/a2-4-jaxrs-config.png 576w","/modernization-playbook/static/9825ecac8751725b9413b595d82ee192/0fdce/a2-4-jaxrs-config.png 964w"],sizes:"(max-width: 964px) 100vw, 964px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"user_defined.txt")," - A related file that you might notice is the presence of a user_defined.txt file in /home/ibmadmin/m2m-ws-sample/defaultapplication/mono2micro-analysis-custom/cardinal which the Cardinal tool reads on start-up, if one exists. "),Object(o.b)("p",null,"This is a way to provide a list of one or more monolith classes that are to be treated as ",Object(o.b)("strong",{parentName:"p"},"external facing"),", where classes outside its partition might call into it. These external facing classes are also called ",Object(o.b)("strong",{parentName:"p"},"service classes")," in Mono2Micro nomenclature. "),Object(o.b)("p",null,"Recall that the deep partition analysis report Cardinal-Report.html generated by AIPL lists all external facing classes per partition that the AI analysis deemed necessary… but there could always be cases where some classes were not called out as such (typically due to insufficient use cases being run that allows Mono2Micro to observe this external facing behavior). "),Object(o.b)("p",null,"The user_defined.txt file provides the ability to define additional Java classes as external facing ",Object(o.b)("strong",{parentName:"p"},"service classes"),", if needed. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"2."),"\tExplore the DefaultWebApplication subdirectory in the monolith-partition0 folder. "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Original classes: The original classes are copied directly from the original monolith application: ",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"Increment.java"),Object(o.b)("li",{parentName:"ul"},"IncrementAction.java"),Object(o.b)("li",{parentName:"ul"},"IncrementSSB.java")))),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1033px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"24.65277777777778%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABcSAAAXEgFnn9JSAAABHElEQVQY02XOW0vDQBAF4Pz/X6KiqK01VnzwUtSCVbBUhKBtkrZp0qSb1GYvaWaP0zwIKuzHLnPY4ThPz8N6MHih0eidhmz0+kb98y5dH51Qr+3So3tJt60O3Ry3qHfapn7ngu7PXHpwu022c8d5d/+QrvYOyFlOApsFPrLJBMV4jDyaIx5/QvCsFCvkQkDJEuv5DAnPd/IwgNEKRkmmUGmNrdHN7YgoIckPWZb2KwisqiorWa211UVhN1LaqtpaLYSVxljFTJ5bC/D5z1n6IS0+PxB5nl15HpIwRDKdIvV9iDjGPIqwyjLksxnSxQIx3znnzW9e+5dTlpp2dbm63RoDWRQNtV6D6hqa29dEqDYblGnaUJzj10L8lPwGGt5zs7Ax52UAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"a2 5 defaultapp",title:"a2 5 defaultapp",src:"/modernization-playbook/static/adcc06b3341ffaf773e3d70bfc499ad7/d1f15/a2-5-defaultapp.png",srcSet:["/modernization-playbook/static/adcc06b3341ffaf773e3d70bfc499ad7/7fc1e/a2-5-defaultapp.png 288w","/modernization-playbook/static/adcc06b3341ffaf773e3d70bfc499ad7/a5df1/a2-5-defaultapp.png 576w","/modernization-playbook/static/adcc06b3341ffaf773e3d70bfc499ad7/d1f15/a2-5-defaultapp.png 1033w"],sizes:"(max-width: 1033px) 100vw, 1033px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Service class: Cardinal generated a Service class names IncrementActionService. The service class is the REST Service interface to the IncrementAction service.")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1029px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"24.65277777777778%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABcSAAAXEgFnn9JSAAABCElEQVQY03WObUvDMBSF+/9/ijoYlrnZMVAmTBGEIdMxUceYWyvdkjZt89LcnKXxm2jg4d5zcjjc6Gn+YufPC1qu3mmxfKPl64oekwlNLwc07cc0i6/opten224fJuFvNrym+1FCD6Nx4C4e0Pi8R5OzC4qk0q5pKiglAThoP0VZomEMx88PpB623aLc77xfBFqtQ84oFei0NdpPhUgZS0IISCld19hNUdfOeFRVuVprZzv/eHRCeF03IfcfUSM1FZyjLAtHZME5A/OaZxnyzQab9Rp5moJ/bcH81YdDjtYYhOd+9XkdiUZTawnaWGdagmkt/ApZS/B9hsPOl6XfqFgRfJ/DT+5vTtBod3qc3ejTAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"a2 6 defaultapp 2",title:"a2 6 defaultapp 2",src:"/modernization-playbook/static/5f121520ecbeacdfec06387492145cbd/d51b4/a2-6-defaultapp-2.png",srcSet:["/modernization-playbook/static/5f121520ecbeacdfec06387492145cbd/7fc1e/a2-6-defaultapp-2.png 288w","/modernization-playbook/static/5f121520ecbeacdfec06387492145cbd/a5df1/a2-6-defaultapp-2.png 576w","/modernization-playbook/static/5f121520ecbeacdfec06387492145cbd/d51b4/a2-6-defaultapp-2.png 1029w"],sizes:"(max-width: 1029px) 100vw, 1029px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1027px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"16.319444444444446%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAkElEQVQI15WHyQ7CMAwF+/+fx4FLWwSlrbs4u1jixDGhZy48aTTzmhEeyfnENlB24Wtm1IW1KexD5h3ftSOjiqxtZEr8k5QLh2fKzR02oVcU8lGif1eTJJ+EIolIkX8WiaU5df3cTuPSXUbo2ltlgP58hWGYYN0QjPWgjTt6R32w7gpQmcNb/YgGlHfLrCx8AM/E5JDtML78AAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"a2 7 incrementaction class",title:"a2 7 incrementaction class",src:"/modernization-playbook/static/42972e1342dde8348f5c2ef94af1d339/eb6bf/a2-7-incrementaction-class.png",srcSet:["/modernization-playbook/static/42972e1342dde8348f5c2ef94af1d339/7fc1e/a2-7-incrementaction-class.png 288w","/modernization-playbook/static/42972e1342dde8348f5c2ef94af1d339/a5df1/a2-7-incrementaction-class.png 576w","/modernization-playbook/static/42972e1342dde8348f5c2ef94af1d339/eb6bf/a2-7-incrementaction-class.png 1027w"],sizes:"(max-width: 1027px) 100vw, 1027px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Dummy classes: Cardinal generated Dummy classes for classes that are present in the original monolith but are moved to a different partition. The Dummy classes simply throw custom exceptions in the event these classes are unexpectedlyinvoked.   "),Object(o.b)("p",{parentName:"li"},"Dummy classes for HitCount.java and SnoopServlet.java were generated. "))),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"929px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"27.083333333333332%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABcSAAAXEgFnn9JSAAABHklEQVQY01WO6U7CYBBF+/4v4HtoohHEskQwUcCCpYQAZZGtlJZu9FvvAP1hYJKTOZmbzIzR6Tnqd+DAGU30cDRG1+qh+2NhYPVhlSvomDW0Kyb6jQ903k00n1/Qei2hVX5Du1pDt97A96V/mVU0H59gxJnQkb+k+fCTsuRAWgo6zlzyXJe2jkPhdFpw9bVtU+hOyR/YxI4hiTQlniQkbjCSHOqwtNErPWDl1KGERLrbIU5TZHkOIirIOUcUJ4Vn3h5Kyv/sluuH4MmelnadjtsxQUqKN2uKLteiKKJraejCgyAgoRSdPI8UZ0VGuN9p+GF20iCWZJxxRYxzybyJyzaLP7aeLVjsByzc7dnKnRd4qw07XOZ5zplUYELqO84lRXOYfZjulgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"a2 8 java",title:"a2 8 java",src:"/modernization-playbook/static/36d3222e0dde0897678a96b9202004dc/22bb3/a2-8-java.png",srcSet:["/modernization-playbook/static/36d3222e0dde0897678a96b9202004dc/7fc1e/a2-8-java.png 288w","/modernization-playbook/static/36d3222e0dde0897678a96b9202004dc/a5df1/a2-8-java.png 576w","/modernization-playbook/static/36d3222e0dde0897678a96b9202004dc/22bb3/a2-8-java.png 929w"],sizes:"(max-width: 929px) 100vw, 929px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("h3",null,Object(o.b)("strong",{parentName:"h3"},"Appendix B: Examine the Refactored resources after code generation")),Object(o.b)("p",null,"In this appendix, you will explore a variety of refactored resources that are representative of the types of refactoring required from many Java application. We will not explore every refactored file. However. You may explore deeper, if desired.  "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"B.1.")," Cardinal Utility Code Module"),Object(o.b)("p",null,"First, to build the generated Cardinal utility code in each partition, this lab we kept the generated application/ folder, but you could have chosen to rename it to something like to cardinal-utils/ to better identify the modules purpose. "),Object(o.b)("p",null,"Then, we put together a ",Object(o.b)("strong",{parentName:"p"},"pom.xml")," fashioned after the monolith’s web module’s pom files, to build it as a utility .jar (with the aim of then including it as an additional module in the partition .ear file):"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"1."),"\tNavigate to the new ",Object(o.b)("strong",{parentName:"p"},"Cardinal Utilities")," pom.xml file to view its contents in the web partition. This file was created in ALL partitions. "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"gedit /home/ibmadmin/m2m-ws-sample/defaultapplication/monolith-web/application/pom.xml\n")),Object(o.b)("p",null,"This pom.xml file will build a Cardinal Utilities jar file and be included in the partition. The top level pom.xml file was also refactored to include this module for Maven to build"),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"979px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"50.34722222222222%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABcSAAAXEgFnn9JSAAABk0lEQVQoz5WSCY+bMBCF+f+/rmr2SMhCQkwAQzCXT8zMrGE36qbtqqrlz8eT5ulZnuj6Mi3dRWPOBNRnDS3TIJgBlTrQJwcqdmCSGYag16ceJhb0bAZ5sgED8mhgeFMgE4XpoZ8jXmgYB0cyoEZJg3c0gieNC/3vqHvnIzl74FpSNg5YCoFFWWIZ4BXHpuuwnCbstEHnPX43ABBXw6o1PrIzgLCWDq3Ay+1GLM/psN/TmTFiQlAwpGmeyXi/pQj1DxBu2oehsD5S2oEoC5rqGl0wtG1L7hMT7jpgmobwi+HHYZ14134Z6lFBUxT03DT4kiT0lqYUn8/0GhLyvqebMdQFQzcMjwnpm4SrYVuV9Nq2uC9L2h+P9BzHFPOarpOkPjxXB2M3jo8J7+c/nqysLy8ZFIxBm1+BpynwJIEby6HKMuiKYsMaA6EG1j/4nbCsLQGVMC6S1hPXirhSNLrQPlKS1npDhg9R1tAQUo6z+2fbcGEpytrpZzWqJ+2W3TzDzn3F47bfdftXlp0JtQvgE6v1j3cuPwAglOT19gAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"b 1 pom",title:"b 1 pom",src:"/modernization-playbook/static/47106dc2c8434403f110554c097807fe/539c8/b-1-pom.png",srcSet:["/modernization-playbook/static/47106dc2c8434403f110554c097807fe/7fc1e/b-1-pom.png 288w","/modernization-playbook/static/47106dc2c8434403f110554c097807fe/a5df1/b-1-pom.png 576w","/modernization-playbook/static/47106dc2c8434403f110554c097807fe/539c8/b-1-pom.png 979w"],sizes:"(max-width: 979px) 100vw, 979px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"B.2.")," Partitions Build Config"),Object(o.b)("p",null,"Next, for each partition, the root pom.xml that was copied from the monolith was modified to include the new cardinal-utils module."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"1."),"\tNavigate to the top-level pom.xml file in the web partition to view this update. This update was made to all the top-level pom.xml in each partition.  "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"gedit /home/ibmadmin/m2m-ws-sample/defaultapplication/monolith-web/pom.xml\n")),Object(o.b)("p",null,"The included module to build the Cardinal Utilities must match the ",Object(o.b)("strong",{parentName:"p"},"artifactID")," in the Cardinal Utils pom.xml that you explored above. "),Object(o.b)("p",null,"In this case, it is ",Object(o.b)("strong",{parentName:"p"},"application"),". It might have been better to rename the module to something like cardinal-utils. But that could be done in another round of refactoring.  "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1029px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"68.40277777777779%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABcSAAAXEgFnn9JSAAACEUlEQVQ4y42SfW+bMBDG+f7fqv2vXaVqWtU0YUkg0EAKNjbYOLz4np2Tttu0ZJvFTycf3OPnDkeLZTXvXrVPEuVl3PsyNn6/7Lz+5rxeOK+2zrf50YvC+F1R+epgvM5Dzp2izpjkndT5yCQDjYWHbA3adoSVA2w3YZQeviFA4IwCpnoCKc41OCN+oWYkEOnO+Uy1qK2jbmBsR43rSY2ONDNhJpammeGSE8TPNSI3jNSOA+KmoW0tkO4ypOkOWZ4jC5H3eyGR6BYHY+GDbnjeJfB5zJnI9I7U8Yh915Hqe3RM2LcMefY2z6fCmZnCPojgLHhpRZpb3WqNRAjK2VW63WKfZXgtS+yUxsFa2HH8TeCa2KfgWims6priJMHzeoMnFs2bBoLdHqfpBP11cj9dR9YN/BMclFKkWKQ1BoZdOY5HzhsW+5/1IRoZFiytwUZIqllEsVhAMHWA3Ye5dsMAw623HBuer+TDNMdx9ph5tp8Ox2Gi8NFTVdF32eBFCMRSYnE4YPFW4Zln+VIUWHJ+xfnXrkPFB5R8eJhvEHbvXZwEHQtKTuS2JzFOcPzCMj3nHH/QcgyOumE8FX+4udqyqiWtl0vEcUxFHOOwWqHkWKYp3jYbDNZeLL76U0yjKdus8eV5QY93d3i8ucHD7S2+3t9j8fCAeF9gz6KXii8Kpk1LOy4Yznf9TzdMaJP+caE/1g/e6jnwQshR+gAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"b 2 pom",title:"b 2 pom",src:"/modernization-playbook/static/d29b8c1ead1ae282bfe2febb0576d681/d51b4/b-2-pom.png",srcSet:["/modernization-playbook/static/d29b8c1ead1ae282bfe2febb0576d681/7fc1e/b-2-pom.png 288w","/modernization-playbook/static/d29b8c1ead1ae282bfe2febb0576d681/a5df1/b-2-pom.png 576w","/modernization-playbook/static/d29b8c1ead1ae282bfe2febb0576d681/d51b4/b-2-pom.png 1029w"],sizes:"(max-width: 1029px) 100vw, 1029px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"B.3.")," JAX-RS Configuration"),Object(o.b)("p",null,"Next look at how to facilitate the JAX-RS code generated by Mono2Micro as these partitions are run on the app server. "),Object(o.b)("p",null,"First, as part of the utility code that Cardinal generates, a JAXRSConfiguration class is generated for each partition that has one or more service classes. A service class is class generated by Cardinal that handle incoming REST API calls from outside of the partition.  "),Object(o.b)("p",null,"This JAXRSConfiguration class sets up the JAX-RS config where all service classes are registered and is meant to be copied over and placed in one Java EE module of your preference within each partition so that it is in the server’s class path. "),Object(o.b)("p",null,"For this DefaultApplication example, partition0 partition is the only partition that has a service class. I chose to place the java file in the web module in partitton0, in the same source location as the IncrementActionService class. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"1."),"\tNavigate to the JAXRSConfiguration java file in the partition0 partition to view this update.   "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"gedit /home/ibmadmin/m2m-ws-sample/defaultapplication/monolith-partition0/DefaultWebApplication/src/main/java/com/ibm/defaultapplication/JAXRSConfiguration.java\n")),Object(o.b)("p",null,"You must specify the package for the class based on where you place the file in the project. "),Object(o.b)("p",null,"Notice that this class registered the IncrementActionService class that Cardinal generated. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"725px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"56.94444444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABcSAAAXEgFnn9JSAAAB50lEQVQoz62S627aQBCF/f6P0QeIopYEqZQ25NqIawIBjI1J8WJY38F2wbA7p4tTkrSp8qsjfZqzu5rZo9nVah9KO6s2pFGtI+8vLmT7a03e1y5l59u5rFeqBXvdPjuXk3pTTu+6MlnnMs02T/z8E617NRCZlcCbMNiGjrllgRkjmL1uobfLJXarPSvkcYQ8TfBeaA/NhVgzwF1EpJsGTRmj2XxObObQMkkoWi4pybJC5ztBqobeC23QdEQ+A0Iek64PwRiD73sYW2OYpgld19Hv9zEcDJAmaeFC1b1xdtjTmnc9EUQegjCkOI7BXY44iIEIEKl4UyilLNg32HPQh6baWbMpLD6FE3CauAxsxjAZW+BTDvvRhjN3wBccXhLiMXTgLQPMHae4mHOOlZrxa5cac3yxhcR05VKYruAHAbjnwY8CxOohuOvB9X34ai8MQ2TrNYQqFFK5U3mnHAohXhr+cDyx9VzY32+odXqKVqmE1skJOuUy+tUqbo6O0K1UoKuz9vEx6h8/qfVnNCpl9KpfMG00kGXpq4YzT+R7J4ZJ4+trGt/e0kO9Tq3LK7J6PWIjQzEiZhhkq+yYJs0nFtmTpxyp31DE79fXTMuW+I+h6ePZRo1ju853280z4h/5b/1CvpXP/AKRVDpPO5QVjAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"b 3 jaxrs config",title:"b 3 jaxrs config",src:"/modernization-playbook/static/934b97b378e9209613ea38c922b3be28/f79d7/b-3-jaxrs-config.png",srcSet:["/modernization-playbook/static/934b97b378e9209613ea38c922b3be28/7fc1e/b-3-jaxrs-config.png 288w","/modernization-playbook/static/934b97b378e9209613ea38c922b3be28/a5df1/b-3-jaxrs-config.png 576w","/modernization-playbook/static/934b97b378e9209613ea38c922b3be28/f79d7/b-3-jaxrs-config.png 725w"],sizes:"(max-width: 725px) 100vw, 725px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"B.4.")," Application Server Config Per Partition"),Object(o.b)("p",null,"For this DefaultApplication example, the Liberty server config (server.xml) that originally came in the monolith was copied to each partitions ear module. "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"The contents of the monolith’s server.xml were ",Object(o.b)("strong",{parentName:"li"},"as-is")," for parttion0 partition."),Object(o.b)("li",{parentName:"ul"},"The Datasource configuration was removed from the server.xml in the web partition")),Object(o.b)("p",null,"Usually the Liberty server.xml can be further customized and reduced to pull in only applicable server features to each partition.  "),Object(o.b)("p",null,"If the original monolith was running on a traditional WebSphere server, and you wish to run the partitions on Liberty, a server.xml can either be handcrafted, or created with the assistance of IBM’s other migration and modernization tools. "),Object(o.b)("p",null,"Of course, this would only be possible if the monolith uses functionality that WebSphere Liberty supports.  "),Object(o.b)("p",null,"Additionally, each partition’s server.xml also needs to add JAX-RS related features if they already don’t exist, in order to facilitate the generated code’s JAX-RS webservice service and client code: "),Object(o.b)("feature",null,"jaxrs-2.0"),Object(o.b)("feature",null,"mpConfig-1.2"),Object(o.b)("feature",null,"mpOpenAPI-1.0"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"1."),"\tNavigate to the server.xml file in the web partition to view this update.   "),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"gedit /home/ibmadmin/m2m-ws-sample/defaultapplication/monolith-web/DefaultApplication-ear/src/main/liberty/config/server.xml\n")),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1027px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"64.2361111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABcSAAAXEgFnn9JSAAACcUlEQVQ4y21SiW6jQAzN///Xbo+t1G6aHknTNgkwQLhmhpvBfmugkVppQU+2h8H2s99q8xy5k2/ocCgoOliK3y15r4bidUnFuqbsWJOJOiriihI/pFTFlAYLkgv8aI7j4EyrvKypd4DOGcYySg1QDWAQjAtG56AOOxzWG/gfnwgPR5x2e/jvH/D3exy3OwRyrrZvWJXtQNPH6183/Of6jp9+37J6fGTvZcPhbsve8x2/ne65shkb32MThmyjkI1Ss6/VBYozX/HKlA1lusTeO8uPCY6nM9JII4kM4sjiLH5lBwzCopeuJzZtv1jCz2eKV4WROTUDIj1wLrSTDKjPwlgBRmwl9FtBaRhVRWjKEbUdZzv2ksKNoL4HyVicI8wdFl2LfZFzqCs0sZT2JGnmkBcdOGBgxxiNJJYBHx4e8Pn8hM/NBrv7BxxfXqHDENrz0DWtzLBq586TuubEtEKzRhM5wQinCW4g8MAzpSbPsL66we3VHTZ/nxCcfCjPRyq0dBBIwUoS1g1VbsDRGFZ1iXoc4MCgkcFuWrL4vCTsq0Y68WFUBBvF6LJCkKNJc5RRhE6Gu/KChs45QSUDH/0RyVnkk8rMLGBFQlUxSUrikqGFdlkvsCWQ68VOMHK/0IxVnMgMKydLaTmTbWZqgPUcaCudedPspFPR4tQjT50K/vvK+TAtpWoamg4GjCyArnoUdY8xlYQFL5vsJr6YxzBtknpezlqx4vMUS1FHkjCKLdm0h1YdF6qFTcTXHbpebghFCF2WxBBag+yvaUQuQh9Cl0VmLHfYLgXmhKekIDspdd7Elzq/FHuhc/G/P9/ji+9Gwj/bq+O5XDpzbgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"b 4 server xml",title:"b 4 server xml",src:"/modernization-playbook/static/64df7934a39e8fead4002be199cd1d83/eb6bf/b-4-server-xml.png",srcSet:["/modernization-playbook/static/64df7934a39e8fead4002be199cd1d83/7fc1e/b-4-server-xml.png 288w","/modernization-playbook/static/64df7934a39e8fead4002be199cd1d83/a5df1/b-4-server-xml.png 576w","/modernization-playbook/static/64df7934a39e8fead4002be199cd1d83/eb6bf/b-4-server-xml.png 1027w"],sizes:"(max-width: 1027px) 100vw, 1027px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("h3",null,"Appendix C: How can I do this lab using my own environment?"),Object(o.b)("p",null,"It is possible to do this lab using your own environment instead of the Skytap environment provided. "),Object(o.b)("p",null,"NOTE: The prerequisite software listed in the prerequisites section of the lab MUST be installed on your local environment. "),Object(o.b)("p",null,"There were only 3 changes that we had to do, in addition to the obviously issuing commands using your own path instead of /home/ibmadmin:"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Section # 7.3 - Run test cases using the instrumented monolith for Runtime data analysis")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Edit the scripts m2m-ws-sample/defaultapplication/scripts/startServer.sh and m2m-ws-sample/defaultapplication/scripts/serverStatus.sh to adjust the path to your own environment"),Object(o.b)("li",{parentName:"ul"},"OR run the commands manually")),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre"},"$LAB_HOME/m2m-ws-sample/defaultapplication/monolith-klu/DefaultApplication-ear/target/liberty/wlp/bin/server start DefaultApplicationServer\n\n$LAB_HOME/m2m-ws-sample/defaultapplication/monolith-klu/DefaultApplication-ear/target/liberty/wlp/bin/server status DefaultApplicationServer\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Section # 7.4.4.1 - Move the original non-Java resources from the monolith to the two new partitions")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Edit moveResourcesToPartitions.sh to adjust the path to your own environment, here: WORKDIR=“$LAB_HOME/m2m-ws-sample”)")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Section # 7.4.4.2 - Refactor the original non-Java resources as required for the front-end and back-end partitions")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Edit $LAB_HOME/m2m-ws-sample/defaultapplication/scripts/refactorPartitions.sh to adjust the path to your own environment, here: WORKDIR=“$LAB_HOME/m2m-ws-sample”")),Object(o.b)("h3",null,Object(o.b)("strong",{parentName:"h3"},"Appendix D: How to use Copy / Paste between local desktop and Skytap VMs")),Object(o.b)("p",null,"In SkyTap, you will find that any text copied to the clipboard on your local workstation is not available to be pasted into the VM on SkyTap. You have to use the copy / Paste capabilities between the lab document on your local workstation to the VM is a good approach to more efficiently work through a lab, while reducing the typing errors that often occur when manually entering data. "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"1.")," First copy the text you intend to paste, from the lab document, to the clipboard on your local workstation, as you always have (CTRL-C)"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"2.")," Return to the SkyTap environment and click on the Clipboard at the top of the SkyTap session window. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"943px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"9.722222222222221%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABcSAAAXEgFnn9JSAAAAiUlEQVQI1z3KSwqCUBhAYRfSIE2CmpipEDWo9I+8GeWjzG4UeG3/WziJgwYfnMGxLkpRVhVyzNBa0zxqnk1DkecD0xpMZ2hfmk99530rh+/bdZRFgUpTkjhGRJAkwVKjOdlkwcnxOLv+0OrP7y1JZxEq2HD11yhvhUxDDm6I9PZOwG7cs0O2dsQPuDdHwBI39jQAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"d 1 clipboard",title:"d 1 clipboard",src:"/modernization-playbook/static/b9cfbcc0ec755031745bde83ae0c405d/692e9/d-1-clipboard.png",srcSet:["/modernization-playbook/static/b9cfbcc0ec755031745bde83ae0c405d/7fc1e/d-1-clipboard.png 288w","/modernization-playbook/static/b9cfbcc0ec755031745bde83ae0c405d/a5df1/d-1-clipboard.png 576w","/modernization-playbook/static/b9cfbcc0ec755031745bde83ae0c405d/692e9/d-1-clipboard.png 943w"],sizes:"(max-width: 943px) 100vw, 943px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"3.")," Use ",Object(o.b)("strong",{parentName:"p"},"CTRL-V")," to paste the content into the Copy/paste VM clipboard. Or use the paste menu item that is available in the dialog, when you right mouse click in the clipboard text area. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"877px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"51.041666666666664%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABcSAAAXEgFnn9JSAAACJ0lEQVQozz1S224SURSdL7QFLzFSSrVYBGJ4aF9KNRETNcb44MdI9AMa+2baiCQM9xmGMzAzZxhmYC4clvsw1IeVdS7rrH32ylaePn6CQv4YxWIRpbMzvDw9xVEuh+N8HpVyGbVaDeXnJ3j0IIMXuWeoVit4VSrhpFDAw2wWmcMMspmMODw4QC53pCqfqhfoDfq4u73FeDSCaZpg0ymBYUo8YzP4zAMfMHhTF3NzDsZYCqkjNpkpDMNA609LVb6dv0EQhbBsG0mSINls9kgAATiRg+92Ez/4TzSdJnjEsd0CiUh1URQRQhGGIdbrtap8rZzDGo/BBgMY3S6MXg8T4kmvC6b28bt1jY+/3uLLTQMfrq9w176B0e5Aa/8F63QQuC6iOBbSmExV5XO9ji1thBBwOYe3WMAlkWTHseHaHBuPfu7FiN0IHl/ANhn4fA6P4gk9D9j1AumhKo3Xl8AqQDC3EJFhJCvuEe+xciyCjdB10nMqFpPR2rKQrNf/DTebjaq8r1whprxsylD+zHEccDKWLPdyTdkgCILd+v5OsrvvhnNHLBZe2vK7yiXmtoXhcIgxZakRJA8pU8m6rmO1Wu0iGNCZpmm7aRjtId/1+31hmrPUsFGpw6Z2et3eTjCmB/pkSqxDJ0wmRmpILUrD+8KSNd3AaKzJIoIxU+rIsFqH5y93PzFppmaWDcPxMONLBL4Pn3BvmM7efgbJYEo6iaXviyDVqf8A6Ka/O+9W4xIAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"d 2 clipboard 2",title:"d 2 clipboard 2",src:"/modernization-playbook/static/d2be35a33bd175b22e2cb885d7801f6d/fbb82/d-2-clipboard-2.png",srcSet:["/modernization-playbook/static/d2be35a33bd175b22e2cb885d7801f6d/7fc1e/d-2-clipboard-2.png 288w","/modernization-playbook/static/d2be35a33bd175b22e2cb885d7801f6d/a5df1/d-2-clipboard-2.png 576w","/modernization-playbook/static/d2be35a33bd175b22e2cb885d7801f6d/fbb82/d-2-clipboard-2.png 877w"],sizes:"(max-width: 877px) 100vw, 877px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"4.")," Once the text is pasted, just navigate away to the VM window where you want to paste the content. Then, use CTRL-C, or right mouse click & us the paste menu item to paste the content. "),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"874px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"62.5%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABcSAAAXEgFnn9JSAAABkklEQVQ4y52TW0/CQBCF+wBawEQT5QlFS4nVSilQFGLB3migXCxBMF4gRh70//+C4+wiigYk+HAyTfb0mzOTXWF8P8DzwwhvrxNMJ094n75QfcQo7KLtuyvkLOjnmdBU6ggubDSVGuopA45UQTWpQY/L0BPZjSXktzLQtzNgNb/NvgkkzlRYqIVYdrnEbz+TsNK4IGbUIhJykZMvaVEJ+Whm1nDBuxwoEiRGxvgMVkwqsIoV+Jc1eIaJBtVrtYiqWkDpQOFT8cb0j6CLDCKvBLJVGMcq+ndtjMdDDEc9tAIXnleH69dhHKncsxkwraLV9hDeBlydoAHbuobjmDAOz38BPxf7F/CKgB3/Bv2mi65vI2i5cGwTjrsMuCahRmYzpSBs2uhTska1DM+swLJMnrD0H2Dl8IzS2ZgMeuhQMsu84iM3KHU5fUFAaZORJZSPc+gPurgfhhgQNOy14HztUN1sh6zqO3R19hUU9k/5NSklz6Dtycjt0mNIyDOvuGbkecf5xeYviaRRYib+qkT5h4fVD6RngHpcaw5jAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"d 3 paste",title:"d 3 paste",src:"/modernization-playbook/static/2cd3e3a3dd4d0a9332f0cfc9164a57b3/43104/d-3-paste.png",srcSet:["/modernization-playbook/static/2cd3e3a3dd4d0a9332f0cfc9164a57b3/7fc1e/d-3-paste.png 288w","/modernization-playbook/static/2cd3e3a3dd4d0a9332f0cfc9164a57b3/a5df1/d-3-paste.png 576w","/modernization-playbook/static/2cd3e3a3dd4d0a9332f0cfc9164a57b3/43104/d-3-paste.png 874w"],sizes:"(max-width: 874px) 100vw, 874px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"The text is pasted into the VM."),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"885px"}},"\n      ",Object(o.b)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"50%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABcSAAAXEgFnn9JSAAABwUlEQVQoz4WQ7U/TUBjF+42BKIl7IXxYxL4Da2/XxQ3aAhO3vtCNjRGDCmRGhQEBxwb8/cfnthXNMPHDL+ec2/bk9ArfT47xN9+Iy4sfuLo4x/j2Brc317i+GuFydI6H6RSPj/e4m44xnvzEZHqHh/sJRvT+8OwUX4dnEPyCBE47o5UXEZQ3EIkMsWRhnwjemmgTkWQjXK8jqDpoGQ3syTY+iDaaqza8MiMsCAfLOg5KGrpFFZ0EBXFBwX4h1bigklcRFTUE+RT/NZFfg1/cQLtUgV9i8Jer8FdqEPqKgY7K0NMt9NZsdIlIMRHIFcJAKJsIeX6CIdSqCDQbgVpDqL/LaCB6U4cwDGMcx32cdAb4EnTwec/Hx2YL3YaLnrONQ3cX3U0Ph94ujnbeY+A10dvaJk1z39lJzvjzgH5dcIoW6kvrqC1qqOUkbM5L2HqhJDiLKrxXOnkZ7kuNvJYoP0+zTpp6d4muY4VBMOdEcBiVsXkZJoe8ScVcjdwfNWbzXOo5FeqIy3SHFhU8Y+E//OMbXjpYbaSFfF2itCpdynOqbCHT2fz03u9CEZ9k5/lClss0gy9is+u55mYXijhVXfwCn0I4uVJZMCsAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}}),"\n  ",Object(o.b)("img",{parentName:"span",className:"gatsby-resp-image-image",alt:"d 4 paste done",title:"d 4 paste done",src:"/modernization-playbook/static/a221698b57d1e51e21cc4a7a1faefb82/74549/d-4-paste-done.png",srcSet:["/modernization-playbook/static/a221698b57d1e51e21cc4a7a1faefb82/7fc1e/d-4-paste-done.png 288w","/modernization-playbook/static/a221698b57d1e51e21cc4a7a1faefb82/a5df1/d-4-paste-done.png 576w","/modernization-playbook/static/a221698b57d1e51e21cc4a7a1faefb82/74549/d-4-paste-done.png 885w"],sizes:"(max-width: 885px) 100vw, 885px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"}),"\n    "),Object(o.b)("p",null,"Note: The very first time you do this, if the text does not paste, you may have to paste the contents into the Skytap clipboard twice. This is a known Skytap issue. It only happens on the 1st attempt to copy / paste into Skytap. "))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=2f9d37a8-c55228ab8d5b8c34e5de.js.map